{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 8087f3f82888ee465fd4","webpack:///./src/shape/svg/add-shape.babel.js","webpack:///./src/helpers/stagger-property.babel.js","webpack:///./src/class-proto.babel.js","webpack:///./src/tween/tween.babel.js","webpack:///./src/tween/tweenable.babel.js","webpack:///./src/helpers/parse-unit-value.babel.js","webpack:///./src/easing/parse-easing.babel.js","webpack:///./src/tween/tween-defaults.babel.js","webpack:///./src/delta/separate-tween-options.babel.js","webpack:///./src/stagger/stagger-function.babel.js","webpack:///./src/helpers/rand-float.babel.js","webpack:///./src/helpers/unit-regexp.babel.js","webpack:///./src/helpers/get-radial-point.babel.js","webpack:///./src/delta/deltas.babel.js","webpack:///./src/delta/delta.babel.js","webpack:///./src/helpers/make-color-object.babel.js","webpack:///./src/tween/timeline.babel.js","webpack:///./src/helpers/rand.babel.js","webpack:///./src/helpers/generate-path.babel.js","webpack:///./src/easing/path.babel.js","webpack:///./src/easing/easing.babel.js","webpack:///./src/easing/pow.babel.js","webpack:///./src/shape/svg/svg-shape.babel.js","webpack:///./src/surface.babel.js","webpack:///./src/html.babel.js","webpack:///./src/delta/motion-path.babel.js","webpack:///./src/delta/motion-path-cache.babel.js","webpack:///./src/tween/tweener.babel.js","webpack:///./src/delta/parse-color.babel.js","webpack:///./src/delta/parse-unit.babel.js","webpack:///./src/delta/get-regexp-unit.babel.js","webpack:///./src/delta/parse-number.babel.js","webpack:///./src/delta/split-delta.babel.js","webpack:///./src/shape/svg/line.babel.js","webpack:///./src/shape/svg/polygon.babel.js","webpack:///./src/shape/svg/water.babel.js","webpack:///./src/shape/svg/zigzag.babel.js","webpack:///./src/shape/svg/equal.babel.js","webpack:///./src/shape/svg/triangle.babel.js","webpack:///./src/shape/svg/cross.babel.js","webpack:///./src/shape/svg/zip.babel.js","webpack:///./src/shape/svg/star.babel.js","webpack:///./src/shape/svg/rect.babel.js","webpack:///./src/shape/svg/heart.babel.js","webpack:///./src/shape/svg/circle.babel.js","webpack:///./src/helpers/burst-generator.babel.js","webpack:///./src/constants.babel.js","webpack:///./src/shape/shape.babel.js","webpack:///./src/helpers/parse-element.babel.js","webpack:///./src/helpers/parse-static-property.babel.js","webpack:///./src/helpers/div.babel.js","webpack:///./src/rig/rig.babel.js","webpack:///./src/stagger/stagger.babel.js","webpack:///./src/stagger/stagger-map.babel.js","webpack:///./src/stagger/stagger-step.babel.js","webpack:///./src/stagger/stagger-rand-float.babel.js","webpack:///./src/stagger/stagger-rand.babel.js","webpack:///./src/easing/basic-easing.babel.js","webpack:///./src/helpers/parse-stagger.babel.js","webpack:///./src/mojs.babel.js"],"names":["NS","root","document","createElementNS","setAttribute","body","appendChild","template","shape","getSvgShapeNameID","name","addShape","element","innerHTML","isStaggerMap","prop","Array","__mojs__isStaggerMap","isStaggerFunction","__mojs__isStaggerFunction","staggerProperty","index","totalItems","length","ClassProto","get","key","_props","set","value","setIfNotSet","_o","undefined","init","o","_totalItemsInStagger","totalItemsInStagger","_declareDefaults","_extendDefaults","_vars","_defaults","keys","Object","i","Tween","create","play","_state","_setState","_setupPlay","_playTime","performance","now","_speed","speed","pause","remove","stop","progress","newProgress","isReverse","stopProc","setProgress","reset","replay","repeat","setSpeed","setStartTime","reverse","_reverseCallbacks","_elapsed","delay","_end","_spot","_start","time","_prevTime","update","_isActive","_repeatCount","add","onStart","onComplete","onChimeIn","onChimeOut","duration","_time","_cbs","_chCbs","startTime","shiftTime","onUpdate","easing","backwardEasing","t","_progress","onRefresh","isForward","ease","isActive","p","state","_prevState","wasPause","wasStop","wasPlay","wasReverse","wasPlaying","wasStill","onPlaybackStart","onPlaybackPause","onPlaybackStop","onTweenerFinish","isReverseOnRepeat","onPlaybackComplete","count","call","propsKeys","wrap","instance","__mojsClass","Super","Tweenable","methods","method","rest","timeline","tween","parseUnitValue","defaultUnit","result","unit","match","parseFloat","parseEasing","type","toLowerCase","split","easeParent","console","error","tweenDefaults","ep","separateTweenOptions","object","tweenOptions","defaultKeys","option","staggerFunction","fun","newFunction","randFloat","min","max","minUnitValue","maxUnitValue","minNumber","maxNumber","resultUnit","resultNumber","Math","random","unitRegexp","getRadialPoint","centerX","centerY","radius","angle","target","radAngle","x","cos","y","sin","Deltas","options","timelineOptions","_customProperties","customProperties","_render","render","_pipeObj","pipeObj","_el","el","parent","_supportProps","_setupTween","_setupTimeline","_parseProperties","_upd_deltas","support","props","_tweenDeltas","_plainDeltas","_staticProps","optionsKeys","custom","isSkipRender","property","delta","path","supportProps","push","parsersMap","number","color","Delta","_target","_parseDelta","_delta","_upd_number","curve","start","_upd_unit","_upd_color","r","g","b","a","curveP","record","_parseByCustom","_parseByGuess","_getSplit","startColor","endColor","end","isError","isUnit","toString","parseType","customProperty","normalizeHex","string","parseHEXColor","exec","parseInt","makeColorObject","originColor","isRgb","style","window","getComputedStyle","regexString1","regexString2","RegExp","Timeline","shift","abs","forEach","tw","runner","_items","append","_callOnItems","args","_createUpdate","context","_onUpdate","rand","randomFloat","round","defaults","xEasing","yEasing","depth","startOffset","direction","isGrow","total","getValue","generatePath","point","point1","point2","point3","step","flip","proc","d","yProc","yCoef","curvePointAngle","parsePath","domPath","setAttributeNS","sample","n","totalLength","getTotalLength","samples","getPointAtLength","findY","middle","floor","nextValue","diff","translateSamples","map","Map","pathCoordinates","preSamples","nextKey","nextY","linear","none","k","in","PI","out","inout","pow","easeIn","easeOut","SvgShape","size","_createSVGCanvas","canvas","width","height","firstChild","mainEl","styleKeys","cacheName","sizeX","sizeY","scaleX","scaleY","transform","_transform","Surface","_createElement","createElement","_htmlDefaults","Html","is3d","z","skewX","skewY","angleX","angleY","angleZ","scale","scaleZ","_setupDeltas","_getCustomProperties","_deltas","htmlRender","_render3d","rotateZ","unitProps","numberProps","originalRender","customProps","newRenderFunction","_is3dProperties","_isRender","ignoreProperties","isAngleX","isAngleY","isAngleZ","isRotate3d","isZ","isScaleZ","_is3d","MotionPath","coordinate","_samples","norm","_unit","_samplePath","precision","cachedPath","_path","_setForKey","save","prevPoint","dY","dX","atan","isFinite","_parsePath","isPathGenerator","cache","createId","trim","obj","motionPathCache","tweens","savedTweens","isRunning","savePlayingTweens","slice","restorePlayingTweens","onVisibilityChange","hidden","indexOf","splice","loop","requestAnimationFrame","caffeinate","removeEventListener","addEventListener","tweener","parseColor","parseUnit","startUnit","endUnit","getRegexpUnit","valueMatch","parseNumber","splitDelta","from","to","line","polygon","water","zigzag","equal","triangle","cross","zip","star","rect","heart","circle","BURST_DEFAUTLS","degree","degreeOffset","burstGenerator","burstOptions","staggerAngle","defaultEasing","defaultEasingString","join","consoleName","bundleLink","Shape","arrayToObj","array","_surfaceDefaults","_shapeDefaults","newCustomProps","_createCustomProperties","originalCustomProps","surfaceOptions","surfaceOptionsObject","shapeDefaultsKeys","optionKeys","hasOwnProperty","originalRecord","isOnShapeDefaults","isTweenOptions","parseElement","querySelector","parseStaticProperty","isNaN","div","Rig","DEGREE_RAD","curvature","x1","y1","x2","y2","onRender","_support","handle1","handle2","center","knee","angle1","angle2","_createDeltas","propsToPass","direction3dShift","sqrt","maxPartLength","actualPartLength","normActualLegnth","isStretch","directionCoeficient","kneeAngle","nAngle","baseAngle","gripAngle1","gripAngle2","temp","stretchRatio","Stagger","Module","_createTimeline","_createModules","_modules","items","modulesCount","module","_getStaggerOptions","j","stagger","function","staggerMap","newMap","staggerStep","base","isBaseDefined","baseUnitValue","stepUnitValue","staggerRandFloat","minValue","maxValue","staggerRand","addBasicEasing","mojs","quad","cubic","quart","quint","expo","circ","elastic","s","back","bounce","parseStagger","baseValue","baseUnit","stepValue","stepUnit","revision","__helpers__","Shape2"],"mappings":"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","file":"mo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mojs\"] = factory();\n\telse\n\t\troot[\"mojs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 59);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8087f3f82888ee465fd4","const NS = 'http://www.w3.org/2000/svg';\n\n// add root SVG\nconst root = document.createElementNS(NS, 'svg');\nroot.setAttribute('style', 'display: none');\nroot.setAttribute('id', 'mojs-svg-shapes');\ndocument.body.appendChild(root);\n\n/**\n * `template` - function to render SVG shape.\n * @param {String} shape Shape to add.\n * @returns {String} Rendered shape string.\n*/\nconst template = (shape) => {\n  return `<g transform=\"translate(-50, -50)\">${shape}</g>`;\n};\n\n/**\n * `getSvgShapeNameID` - function to create SVG shape `id` regarding its name.\n * @param {String} name Shape name.\n * @returns {String} Shape ID.\n*/\nexport const getSvgShapeNameID = (name) => {\n  return `${name}-mojs-svg-shape`;\n};\n\n/**\n * `addShape` - function to add SVG shape to the DOM.\n * @param {String} name Shape name.\n * @param {String} shape Shape.\n*/\nexport const addShape = (name, shape) => {\n  const element = document.createElementNS(NS, 'g');\n  element.setAttribute('id', getSvgShapeNameID(name));\n  root.appendChild(element);\n\n  element.innerHTML = template(shape);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/add-shape.babel.js","export const isStaggerMap = (prop) => {\n  return (prop instanceof Array) && (prop.__mojs__isStaggerMap);\n};\n\nexport const isStaggerFunction = (prop) => {\n  return typeof prop === 'function' && prop.__mojs__isStaggerFunction;\n};\n\nexport const staggerProperty = (prop, index, totalItems) => {\n  // if property is an array map the index to some array item\n  if (isStaggerMap(prop)) {\n    prop = prop[index % prop.length];\n  }\n  // if prop is a function, call the it with index and return the result\n  if (isStaggerFunction(prop)) {\n    prop = prop(index, totalItems);\n  }\n  // if nested, parse it\n  return (isStaggerMap(prop) || isStaggerFunction(prop))\n    ? staggerProperty(prop, index, totalItems)\n    : prop;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/stagger-property.babel.js","/**\n * ClassProto - base class for module.\n * It is needed to:\n *   - declare `_defaults`\n *   - extend `_defaults` by `options` and save result to `_props`\n *   - declare `_vars` after extention\n *   - call `_render` eventually\n */\nconst ClassProto = {};\n\n/**\n * `get` - Method to get a property from `_props`.\n *\n * @public\n * @param {String} Key.\n * @returns {Any} Value from the `_props` by `key`.\n */\nClassProto.get = function (key) {\n  return this._props[key];\n};\n\n/**\n * `set` - Method to get a property from `_props`.\n *\n * @public\n * @param {String} Key.\n * @param {Any} Value.\n */\nClassProto.set = function (key, value) {\n  this._props[key] = value;\n};\n\n/**\n * `setIfNotSet` - function to set a property if it isn't\n *                 present in the initialization options.\n *\n * @public\n * @param {String} Key.\n * @param {Any} Value.\n * @returns {Object} This instance.\n */\nClassProto.setIfNotSet = function (key, value) {\n  if (this._o[key] === undefined) {\n    this.set(key, value);\n  }\n\n  return this;\n};\n\n/**\n * `init` - lifecycle initialization function.\n *\n * @private\n */\nClassProto.init = function (o = {}) {\n  // save options\n  this._o = { ...o };\n\n  // parse index and delete it from options\n  this.index = this._o.index || 0;\n  delete this._o.index;\n  // parse total items and delete it from options\n  this._totalItemsInStagger = this._o.totalItemsInStagger || 1;\n  delete this._o.totalItemsInStagger;\n\n  this._declareDefaults();\n  this._extendDefaults();\n  this._vars();\n};\n\n/**\n * _declareDefaults - function to declare `_defaults` object.\n *\n * @private\n */\nClassProto._declareDefaults = function () { this._defaults = {}; };\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n */\nClassProto._extendDefaults = function () {\n  this._props = { ...this._defaults };\n\n  const keys = Object.keys(this._o);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const value = this._o[key];\n    // only if value is defined\n    if (value !== undefined) {\n      this._props[key] = value;\n    }\n  }\n};\n\n/**\n * _vars - function do declare `variables` after `_defaults` were extended\n *         by `options` and saved to `_props`\n *\n * @private\n */\nClassProto._vars = function () {};\n\nexport { ClassProto };\n\n\n\n// WEBPACK FOOTER //\n// ./src/class-proto.babel.js","import { ClassProto } from '../class-proto.babel.js';\nimport { tweenDefaults } from './tween-defaults.babel.js';\nimport { tweener } from './tweener.babel.js';\nimport { parseEasing } from '../easing/parse-easing.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\n\n/* ------------------ */\n/* The `Tween` class  */\n/* ------------------ */\n\nconst Tween = Object.create(ClassProto);\n/**\n * _declareDefaults - function to declare `_defaults` object.\n *\n * @private\n * @override ClassProto\n */\nTween._declareDefaults = function () {\n  this._defaults = { ...tweenDefaults };\n};\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * play - function to `play` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.play = function () {\n  if (this._state === 'play') {\n    return this;\n  }\n\n  this._setState('play');\n  this._setupPlay();\n\n  this._playTime = performance.now();\n  this._speed = this._props.speed;\n\n  return this;\n};\n\n/**\n * pause - function to `pause` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.pause = function () {\n  if (this._state === 'pause' || this._state === 'stop') { return this; }\n\n  tweener.remove(this);\n  this._setState('pause');\n  // reset speed variable to `1` because speed should not be applied\n  // when setProgress is used\n  this._speed = 1;\n\n  return this;\n};\n\n/*\n * stop - function to stop the tween.\n *\n * @public\n * @param {Number} Progress to stop with in [0...1]\n * @returns {Object} This tween.\n */\nTween.stop = function (progress) {\n  if (this._state === 'stop') { return this; }\n  const newProgress = (this._props.isReverse === true) ? 1 : 0;\n\n  const stopProc = (progress !== undefined)\n    ? progress\n    /* if no progress passed - set 1 if tween\n       is playingBackward, otherwise set to 0 */\n    : newProgress;\n\n  this.setProgress(stopProc);\n  this.reset();\n\n  return this;\n};\n\n/**\n * play - function to `replay`(`retart`) the tween.\n *\n * @public\n * @param {Number} Repeat count.\n * @returns {Object} This tween.\n */\nTween.replay = function (repeat) {\n  this.reset();\n  this.play(repeat);\n\n  return this;\n};\n\n/**\n * setSpeed - function to set speed.\n *\n * @public\n * @param {Number} Speed in [0..]\n * @return {Object} This tween.\n */\nTween.setSpeed = function (speed) {\n  this._props.speed = speed;\n\n  if (this._state === 'play') {\n    this.setStartTime();\n    this._speed = speed;\n    this._playTime = performance.now();\n  }\n\n  return this;\n};\n\n/**\n * reverse - function to `reverse` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.reverse = function () {\n  this._props.isReverse = !this._props.isReverse;\n  // reverse callbacks in the `_cbs`\n  this._reverseCallbacks();\n\n  if (this._elapsed > 0) {\n    const { delay } = this._props;\n    this._elapsed = (this._end - this._spot) - (this._elapsed - delay);\n  }\n\n  this.setStartTime();\n\n  return this;\n};\n\n/**\n * setProgress - function to set tween progress.\n *\n * @public\n * @param {Number} Progress to set.\n * @return {Object} This tween.\n */\nTween.setProgress = function (progress = 0) {\n  if (this._start === undefined) {\n    this.setStartTime();\n  }\n\n  const time = (progress === 1)\n    ? this._end : this._spot + (progress * (this._end - this._spot));\n\n  // set initial time\n  if (this._prevTime === undefined) {\n    this._prevTime = this._start;\n  }\n  // save speed before updating form `setProgress`\n  const speed = this._speed;\n  this._speed = 1;\n  // update with current time\n  this.update(time);\n  // restore speed after updating form `setProgress`\n  this._speed = speed;\n\n  return this;\n};\n\n/**\n * reset - function to reset the `Tween`.\n */\nTween.reset = function () {\n  tweener.remove(this);\n  this._isActive = false;\n  this._elapsed = 0;\n  this._repeatCount = 0;\n  this._setState('stop');\n  delete this._prevTime;\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * _setupPlay - function to setup before `play`.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween._setupPlay = function () {\n  this.setStartTime();\n  tweener.add(this);\n};\n\n/**\n * _vars - function do declare `variables` after `_defaults` were extended\n *         by `options` and saved to `_props`\n *\n * @return {type}  description\n */\nTween._vars = function () {\n  const {\n    isReverse,\n    onStart,\n    onComplete,\n    onChimeIn,\n    onChimeOut,\n    delay,\n    duration,\n  } = this._props;\n  // if tween is in active period\n  this._isActive = false;\n  // time progress\n  this._elapsed = 0;\n  // initial state\n  this._state = 'stop';\n  // set \"id\" speed\n  this._speed = 1;\n  this._time = delay + duration;\n  // how many times we have been repeating\n  this._repeatCount = 0;\n  // callbacks array - used to flip the callbacks order on `isReverse`\n  this._cbs = [onStart, onComplete, 0, 1];\n  // chime callbacks\n  this._chCbs = [onChimeIn, onChimeOut];\n  // if `isReverse` - flip the callbacks\n  if (isReverse === true) {\n    this._reverseCallbacks();\n  }\n};\n\n/**\n * setStartTime - function to set `startTime`\n *\n * @param {Number, Undefined} Start time to set.\n */\nTween.setStartTime = function (startTime = performance.now()) {\n  const { delay, duration, shiftTime } = this._props;\n\n  // if `elapsed` is greated that end bound -> reset it to `0`\n  if (this._elapsed >= (this._end - this._spot)) {\n    this._elapsed = 0;\n  }\n  // `_spot` - is the animation initialization spot\n  // `_elapsed` is how much time elapsed in the `active` period,\n  // needed for `play`/`pause` functionality\n  this._spot = (startTime - this._elapsed) + shiftTime;\n  // play time is needed to recalculate time regarding `speed`\n  this._playTime = this._spot;\n  // `_start` - is the active animation start time bound\n  this._start = this._spot + delay;\n  // `_end` - is the active animation end time bound\n  this._end = this._start + duration;\n};\n\n/**\n * update - function to update `Tween` with current time.\n *\n * @param {Number} The current update time.\n */\nTween.update = function (time) {\n  const { onUpdate, isReverse, easing, backwardEasing } = this._props;\n\n  // `t` - `time` regarding `speed`\n  const t = this._playTime + (this._speed * (time - this._playTime));\n\n  // save elapsed time\n  this._elapsed = t - this._spot;\n\n  // if pregress is not right - call the `onRefresh` function #before\n  if (t < this._start && this._progress !== this._cbs[2]) {\n    this._props.onRefresh(false, this.index, t);\n    this._progress = this._cbs[2];\n  }\n  // if pregress is not right - call the `onRefresh` function #after\n  if (t > this._end && this._progress !== this._cbs[3]) {\n    this._props.onRefresh(true, this.index, t);\n    this._progress = this._cbs[3];\n  }\n\n  // if forward progress\n  const isForward = t > this._prevTime;\n  const ease = (isForward !== isReverse) ? easing : backwardEasing;\n\n  if (t >= this._start && t <= this._end && this._prevTime !== undefined) {\n    let isActive;\n    const p = (t - this._start) / this._props.duration;\n    this._progress = isReverse === false ? p : 1 - p;\n    onUpdate(ease(this._progress), this._progress, isForward, t);\n\n    if (t > this._start && this._isActive === false && isForward === true) {\n      // `onStart`\n      this._cbs[0](isForward, isReverse, this.index);\n      // `onChimeIn`\n      this._chCbs[0](isForward, isReverse, this.index, t);\n    }\n\n    if (t === this._start) {\n      // `onStart`\n      this._cbs[0](isForward, isReverse, this.index);\n      // `onChimeIn`\n      this._chCbs[0](isForward, isReverse, this.index, t);\n      // set `isActive` to `true` for forward direction\n      // but set it to `false` for backward\n      isActive = isForward;\n    }\n\n    if (t < this._end && this._isActive === false && isForward === false) {\n      // `onComplete`\n      this._cbs[1](false, isReverse, this.index);\n      // `onChimeOut`\n      this._chCbs[1](isForward, isReverse, this.index, t);\n    }\n\n    if (t === this._end) {\n      // `onComplete`\n      this._cbs[1](isForward, isReverse, this.index);\n      // `onChimeOut`\n      this._chCbs[1](isForward, isReverse, this.index, t);\n      // set `isActive` to `false` for forward direction\n      // but set it to `true` for backward\n      isActive = !isForward;\n    }\n\n    this._isActive = (isActive === undefined) ? true : isActive;\n\n    this._prevTime = t;\n\n    return !this._isActive;\n  }\n\n  if (t > this._end && this._isActive === true) {\n    this._progress = this._cbs[3];\n    // one\n    onUpdate(ease(this._progress), this._progress, isForward, t);\n    // `onComplete`\n    this._cbs[1](isForward, isReverse, this.index);\n    // `onChimeOut`\n    this._chCbs[1](isForward, isReverse, this.index, t);\n    this._isActive = false;\n    this._prevTime = t;\n    return true;\n  }\n\n  if (t < this._start && this._isActive === true) {\n    this._progress = this._cbs[2];\n    // zero\n    onUpdate(ease(this._progress), this._progress, isForward, t);\n    // `onStart`\n    this._cbs[0](isForward, isReverse, this.index);\n    // `onChimeIn`\n    this._chCbs[0](isForward, isReverse, this.index, t);\n\n    this._isActive = false;\n    this._prevTime = t;\n\n    return true;\n  }\n\n  this._prevTime = t;\n};\n\n/**\n * Function to reverse callbacks.\n */\nTween._reverseCallbacks = function () {\n  this._cbs = [this._cbs[1], this._cbs[0], this._cbs[3], this._cbs[2]];\n};\n\n/*\n * Method set playback `_state` string and call appropriate callbacks.\n *\n * @private\n * @param {String} State name [play, pause, 'stop', 'reverse']\n */\nTween._setState = function (state) {\n  // save previous state\n  this._prevState = this._state;\n  this._state = state;\n  // callbacks\n  const wasPause = this._prevState === 'pause';\n  const wasStop = this._prevState === 'stop';\n  const wasPlay = this._prevState === 'play';\n  const wasReverse = this._prevState === 'reverse';\n  const wasPlaying = wasPlay || wasReverse;\n  const wasStill = wasStop || wasPause;\n\n  if ((state === 'play' || state === 'reverse') && wasStill) {\n    this._props.onPlaybackStart(state, this._prevState);\n  }\n  if (state === 'pause' && wasPlaying) {\n    this._props.onPlaybackPause();\n  }\n  if (state === 'stop' && (wasPlaying || wasPause)) {\n    this._props.onPlaybackStop();\n  }\n};\n\n/**\n * onTweenerFinish - function that is called when the tweeener finished\n *                   playback for this tween and removemd it from the queue\n *\n */\nTween.onTweenerFinish = function () {\n  const { isReverse, repeat, isReverseOnRepeat, onPlaybackComplete } = this._props;\n  const count = this._repeatCount;\n\n  onPlaybackComplete(!isReverse, count, repeat - count);\n\n  this.reset();\n\n  if (repeat - count > 0) {\n    let value = isReverseOnRepeat;\n    // if `value` is `array`, parse it\n    value = (isReverseOnRepeat instanceof Array) ? value[count % value.length] : value;\n    // if `value` is `function`, parse it\n    if (typeof value === 'function') { value = value(count); }\n    if (value) {\n      this.reverse();\n    }\n\n    this._repeatCount = count + 1;\n    this.play();\n  }\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n * @overrides @ ClassProto\n */\nTween._extendDefaults = function () {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // parse stagger\n  const propsKeys = Object.keys(this._props);\n  for (let i = 0; i < propsKeys.length; i++) {\n    const key = propsKeys[i];\n    this._props[key] = staggerProperty(this._props[key], this.index);\n  }\n  // parse `easing`\n  this._props.easing = parseEasing(this._props.easing);\n  // parse `backwardEasing`, fallback to `easing` if\n  // `backwardEasing` is `null`/`undefined`\n  const { easing, backwardEasing } = this._props;\n  this._props.backwardEasing = (backwardEasing != null)\n                                ? parseEasing(backwardEasing) : easing;\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Tween);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Tween;\n\nexport { wrap as Tween };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tween.babel.js","import { ClassProto } from '../class-proto.babel.js';\n\n/* --------------------- */\n/* The `Tweenable` class */\n/* --------------------- */\n\nconst Super = ClassProto;\nconst Tweenable = Object.create(Super);\n\n/**\n * `init` - lifecycle initialization function.\n *\n * @private\n * @extends @ ClassProto\n */\nTweenable.init = function (o) {\n  Super.init.call(this, o);\n  // proxy all tween public methods to `timeline` with fallback to `tween`\n  const methods = ['play', 'pause', 'stop', 'replay', 'setSpeed', 'reverse', 'setProgress', 'reset', 'setStartTime'];\n  for (let i = 0; i < methods.length; i++) {\n    const method = methods[i];\n    this[method] = (...rest) => {\n      // eslint-disable-next-line no-unused-expressions\n      rest; // otherwise rest arguments got lost\n      (this.timeline || this.tween)[method](...rest);\n      // return `this` for chaining\n      return this;\n    };\n  }\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Tweenable);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Tweenable;\n\nexport { wrap as Tweenable };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tweenable.babel.js","import { unitRegexp } from './unit-regexp.babel.js';\n\n/**\n * `parseUnitValue` - function to parse a string with unit e.g. `10%`.\n * @param {String, Number, Any} value Value to parse.\n * @param {String} defaultUnit Default unit to fallback to.\n * @returns {Object} Parsed unit object.\n */\nexport const parseUnitValue = (value, defaultUnit) => {\n  const result = {\n    unit: defaultUnit,\n    value,\n  };\n\n  if (typeof value === 'string') {\n    const match = value.match(unitRegexp);\n\n    result.unit = (match === null || match === undefined) ? defaultUnit : match[0];\n    result.value = parseFloat(value);\n  }\n\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-unit-value.babel.js","import {\n  defaultEasing,\n  defaultEasingString,\n  consoleName,\n} from '../constants.babel.js';\n\nimport { easing } from './easing.babel.js';\nimport { path } from './path.babel.js';\n\n/**\n * parseEasing - function to parse all easing values to a function.\n *\n * @param  {String, Function, Array} Easing representation.\n * @return {Function} Parsed Easing.\n */\nconst parseEasing = (ease = defaultEasingString) => {\n  const type = typeof ease;\n\n  switch (type) {\n    case 'function': {\n      return ease;\n    }\n    case 'string': {\n      // path easing\n      if (ease[0].toLowerCase() === 'm') {\n        return path(ease);\n      }\n\n      ease = ease.toLowerCase().split('.');\n      const easeParent = easing[ease[0]];\n\n      if (!easeParent) {\n        console.error(`${consoleName} Easing with name \"${ease[0]}\" wasn't found, fallback to \"${defaultEasingString}\" instead.`, easing); // eslint-disable-line no-console\n\n        return easing[defaultEasing[0]][defaultEasing[1]];\n      }\n      return easeParent[ease[1]];\n    }\n    default:\n      console.error(`${consoleName} Only strings and function supported atm.`, ease); // eslint-disable-line no-console\n\n    // // comming soon:\n    // //   - if array passed - parse as `bezier` function\n    // // ---\n    // case 'object' {\n    //   if (easing instanceof Array) {\n    //     return this.bezier.apply(this, easing);\n    //   } else {\n    //     console.error(\n    //       `:mojs: Failed to parse easing value of `,\n    //       easing,\n    //       ` fallback to \"linear.none\" instead`\n    //     );\n    //     return easing[defaultEasing[0]][defaultEasing[1]];\n    //   }\n    // }\n  }\n};\n\nexport { parseEasing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/parse-easing.babel.js","const tweenDefaults = {\n  // delay of the tween [-..]\n  delay: 0,\n  // duration of the tween [0..]\n  duration: 350,\n  // speed of playback [0..], speed that is less then 1\n  // will slowdown playback, for instance .5 will make tween\n  // run 2x slower. Speed of 2 will speedup the tween to 2x.\n  speed: 1,\n  // easing for the tween, could be any easing type\n  easing: 'Sin.Out',\n  // Easing for backward direction of the tweenthe tween,\n  // if `null` - fallbacks to `easing` property.\n  // forward direction in `yoyo` period is treated as backward for the easing.\n  backwardEasing: null,\n  // if should reverse the tween\n  isReverse: false,\n  // how many times repeat the tween (excluding the first run)\n  repeat: 0,\n  // if should `reverse` before repeating\n  isReverseOnRepeat: false,\n  // `onUpdate` callback is called on every animation frame\n  onUpdate(ep, p, isForward) {}, // eslint-disable-line no-unused-vars\n  /*\n    onStart callback runs on very start of the tween just after onProgress\n    one. Runs on very end of the tween if tween is reversed.\n    @param {Boolean}  Direction of the tween.\n                      `true` for forward direction.\n                      `false` for backward direction(tween runs in reverse).\n  */\n  onStart() {},\n  onComplete() {},\n  // `onChimeIn` is invoked when the `Tween` becomes active\n  // kind of like `onStart` but regardless `isReverse` option\n  onChimeIn() {},\n  // `onChimeOut` is invoked when the `Tween` becomes active\n  // kind of like `onComplete` but regardless `isReverse` option\n  onChimeOut() {},\n  // onRefresh - callback is called when progress runs over the `_end` time\n  // and then suddenly goes before the `_start` time. Indecates that\n  // progress (1) should be refreshed to (0), or vice versa.\n  // @param {Boolean} isForward\n  //                    - `true` if skipped in forward direction\n  //                    - `false` if skipped in backward direction\n  onRefresh() {},\n  // playback callbacks, these fire only when\n  // `play`, `replay`, `playBackward`, `replayBackward` called\n  onPlaybackStart() {},\n  onPlaybackPause() {},\n  onPlaybackStop() {},\n  onPlaybackComplete() {},\n  // tween index\n  index: 0,\n  // shift time - mostly needed for timeline\n  shiftTime: 0,\n};\n\nexport { tweenDefaults };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tween-defaults.babel.js","import { tweenDefaults } from '../tween/tween-defaults.babel.js';\n\n/**\n * Function to split the delta object to `tween` options and actual `delta`.\n *\n * @param {Object} Object to split.\n * @returns {Object} Split `delta`.\n */\nconst separateTweenOptions = (object) => {\n  let tweenOptions;\n  const defaultKeys = Object.keys(tweenDefaults);\n  for (let i = 0; i < defaultKeys.length; i++) {\n    const option = defaultKeys[i];\n\n    if (object[option] !== undefined) {\n      tweenOptions = tweenOptions || {};\n      tweenOptions[option] = object[option];\n      delete object[option];\n    }\n  }\n\n  return tweenOptions;\n};\n\nexport { separateTweenOptions };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/separate-tween-options.babel.js","/**\n * `staggerFunction` - function to mark another function as `stagger` one.\n * @param {Function} fun Function to mark as `stagger` function.\n * @returns {Function} Newly created function that is marked as stagger\n *                     and will call the original one.\n */\nexport const staggerFunction = (fun) => {\n  const newFunction = function (...args) {\n    return fun(...args);\n  };\n  newFunction.__mojs__isStaggerFunction = true;\n  // return the new function\n  return newFunction;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-function.babel.js","import { parseUnitValue } from '../helpers/parse-unit-value.babel.js';\n\n/**\n * `rand` - function to generate random `float` number in range.\n * @param {Number} min Min bound.\n * @param {Number} max Max bound.\n * @return {Number} Random `float` number in range.\n */\nexport const randFloat = (min = 0, max = 10) => {\n  // parse units\n  const minUnitValue = parseUnitValue(min);\n  const maxUnitValue = parseUnitValue(max);\n  const minNumber = parseFloat(min);\n  const maxNumber = parseFloat(max);\n  // decide what is the result unit, the `base` one is top priority\n  const resultUnit = (maxUnitValue.unit !== undefined)\n        ? maxUnitValue.unit\n        : minUnitValue.unit;\n\n  const resultNumber = minNumber + (Math.random() * (maxNumber - minNumber));\n\n  return (resultUnit)\n      ? `${resultNumber}${resultUnit}`\n      : resultNumber;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/rand-float.babel.js","/**\n * The regexp intended to parse all `units` supported.\n */\nconst unitRegexp = /px|%|rem|em|ex|cm|ch|mm|in|pt|pc|vh|vw|vmin|deg|fr/gim;\n\nexport { unitRegexp };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/unit-regexp.babel.js","/**\n * `getRadialPoint` - function to get a point on imaginary circle\n *                    with provided parameters.\n *\n * `Note:` This function is explicetely recieves a target object to set\n *         the result on, this was made because producing a lot of\n *          new return objects on every animation frame will cause GC issues.\n *\n * @param {Number} centerX Circle's center `x` coordinate.\n * @param {Number} centerY Circle's center `y` coordinate.\n * @param {Number} radius Circle's radius.\n * @param {Number} angle Angle of a line from center to a point.\n * @param {Object} target Object to set the result on.\n */\nexport const getRadialPoint = (centerX, centerY, radius, angle, target) => {\n  const radAngle = (angle - 90) * 0.017453292519943295; // Math.PI / 180\n  target.x = centerX + (Math.cos(radAngle) * radius);\n  target.y = centerY + (Math.sin(radAngle) * radius);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/get-radial-point.babel.js","import { Tween } from '../tween/tween.babel.js';\nimport { Timeline } from '../tween/timeline.babel.js';\nimport { Tweenable } from '../tween/tweenable.babel.js';\nimport { Delta } from './delta.babel.js';\nimport { separateTweenOptions } from './separate-tween-options.babel.js';\nimport { parseStaticProperty } from '../helpers/parse-static-property.babel.js';\n// TODO: should point to MotionPath stub\nimport { MotionPath } from './motion-path.babel.js';\n\n/* ------------------- */\n/* The `Deltas` class  */\n/* ------------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Deltas = Object.create(Super);\n\n/**\n * `init` - function init the class.\n *\n * @extends @Tweenable\n * @public\n */\nDeltas.init = function (o = {}) {\n  // super call\n  Super.init.call(this, o);\n  // clone the options\n  const options = { ...o };\n  // get `timeline` options and remove them immediately\n  const timelineOptions = options.timeline;\n  delete options.timeline;\n\n  // get `customProperties` options and remove them immediately\n  this._customProperties = options.customProperties || {};\n  this._render = this._customProperties.render || (() => {});\n  this._pipeObj = this._customProperties.pipeObj || {};\n  delete options.customProperties;\n\n  // save the el object and remove it immediately\n  this._el = options.el || {};\n  delete options.el;\n  delete options.parent; // TODO: cover!\n  // create support object for complex properties\n  this._supportProps = {};\n  // set up the main `tween`\n  this._setupTween(options);\n  // set up the `timeline`\n  this._setupTimeline(timelineOptions);\n  // parse deltas from options that left so far\n  this._parseProperties(options);\n};\n\n/**\n * `_setupTween` - function to set up main tween.\n *\n * @param {Object} Options.\n */\nDeltas._setupTween = function (options) {\n  // separate main tween options\n  const tweenOptions = separateTweenOptions(options) || {};\n  // create tween\n  this.tween = new Tween({\n    ...tweenOptions,\n    // update plain deltas on update\n    // and call the previous `onUpdate` if present\n    onUpdate: (ep, p, isForward) => {\n      // update plain deltas\n      this._upd_deltas(ep, p, isForward);\n      // envoke onUpdate if present\n      if (tweenOptions.onUpdate !== undefined) {\n        tweenOptions.onUpdate(ep, p, isForward);\n      }\n    },\n  });\n};\n\n/**\n * `_setupTimeline` - function to set up main timeline.\n *\n * @param {Object} Timeline options.\n */\nDeltas._setupTimeline = function (options = {}) {\n  const support = {\n    props: this._supportProps,\n    pipeObj: this._pipeObj,\n  };\n\n  this.timeline = new Timeline({\n    ...options,\n    onUpdate: (ep, p, isForward) => {\n      // call render function\n      this._render(this._el, support, ep, p, isForward);\n      // envoke onUpdate if present\n      if (options.onUpdate !== undefined) {\n        options.onUpdate(ep, p, isForward);\n      }\n    },\n  });\n  this.timeline.add(this.tween);\n};\n\n/**\n * `_parseProperties` - function to parse deltas and static properties.\n *\n * @param {Object} Options.\n */\nDeltas._parseProperties = function (options) {\n  // deltas that have tween\n  this._tweenDeltas = [];\n  // deltas that don't have tween\n  this._plainDeltas = [];\n  // static properties\n  this._staticProps = {};\n  const optionsKeys = Object.keys(options);\n  // loop thru options and create deltas with objects\n  for (let i = 0; i < optionsKeys.length; i++) {\n    const key = optionsKeys[i];\n    const value = options[key];\n    // if value is tatic save it to static props\n    if (typeof value !== 'object') {\n      // find out property `el`, it can be `supportProps` if the `isSkipRender`\n      // is set for the property in the `customProperties`\n      const custom = this._customProperties[key];\n      const target = (custom && custom.isSkipRender)\n        ? this._supportProps\n        : this._el;\n\n      const property = parseStaticProperty(\n        key,\n        value,\n        this._customProperties,\n        this.index,\n        this._totalItemsInStagger,\n      );\n      this._staticProps[key] = property;\n      target[key] = property;\n      continue;\n    }\n\n    // check the delta type\n    let delta;\n    if (value.path !== undefined) {\n      delta = new MotionPath({\n        el: this._el,\n        ...value,\n        supportProps: this._supportProps,\n        customProperties: this._customProperties,\n        unit: value.unit,\n        property: key,\n        index: this.index,\n      });\n    } else {\n      // if value is not motion path, create delta object\n      delta = new Delta({\n        key,\n        target: this._el,\n        supportProps: this._supportProps,\n        object: value,\n        customProperties: this._customProperties,\n        index: this.index,\n      });\n    }\n\n    // check if delta has own tween and add to `_tweenDeltas`\n    if (delta.tween) {\n      this._tweenDeltas.push(delta);\n    // else add to plain deltas\n    } else {\n      this._plainDeltas.push(delta);\n    }\n  }\n  // add tween deltas to the timeline\n  this.timeline.add(this._tweenDeltas);\n};\n\n/**\n * `_upd_deltas` - function to update the plain deltas.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDeltas._upd_deltas = function (ep, p, isForward) {\n  // update plain deltas\n  for (let i = 0; i < this._plainDeltas.length; i++) {\n    this._plainDeltas[i].update(ep, p, isForward);\n  }\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Deltas);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Deltas;\n\nexport { wrap as Deltas };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/deltas.babel.js","import { ClassProto } from '../class-proto.babel.js';\nimport { Tween } from '../tween/tween.babel.js';\nimport { splitDelta } from './split-delta.babel.js';\nimport { parseNumber } from './parse-number.babel.js';\nimport { parseUnit } from './parse-unit.babel.js';\nimport { parseColor } from './parse-color.babel.js';\nimport { unitRegexp } from '../helpers/unit-regexp.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\nimport { makeColorObject } from '../helpers/make-color-object.babel.js';\n\n/*\n  TODO:\n    - rename `target` to `el`\n*/\n\n// map that holds all available parsers\nconst parsersMap = {\n  number: parseNumber,\n  unit: parseUnit,\n  color: parseColor,\n};\n\n/* ------------------ */\n/* The `Delta` class  */\n/* ------------------ */\n\nconst Delta = Object.create(ClassProto);\n\n/**\n * `init` - function init the class.\n *\n * @extends @ClassProto\n * @public\n */\nDelta.init = function (o = {}) {\n  // super call\n  ClassProto.init.call(this, o);\n  // save target\n  const { target, supportProps, customProperties = {}, key } = this._props;\n  // if the `isSkipRender` property is set, set the property on\n  // `supportProps` otherwise set is as ususal on the `target` object\n  this._target = (customProperties[key] && customProperties[key].isSkipRender)\n    ? supportProps : target;\n  // parse delta\n  this._parseDelta();\n  // set up the update function acording to the delta type\n  this.update = this[`_upd_${this._delta.type}`];\n  // set up the tween\n  this._setupTween();\n};\n\n/**\n * `_upd_number` - function to update `number` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_number = function (ep, p) {\n  const { curve, delta, start } = this._delta;\n  const { key } = this._props;\n\n  this._target[key] = (curve === undefined)\n    ? start + (ep * delta)\n    : (curve(p) * start) + (p * delta);\n\n  return this;\n};\n\n/**\n * `_upd_unit` - function to update `unit` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_unit = function (ep, p) {\n  const { curve, delta, start, unit } = this._delta;\n  const { key } = this._props;\n\n  const value = (curve === undefined)\n    ? start + (ep * delta)\n    : (curve(p) * start) + (p * delta);\n\n  this._target[key] = `${value}${unit}`;\n\n  return this;\n};\n\n/**\n * `_upd_color` - function to update `color` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_color = function (ep, p) {\n  const { curve, delta, start } = this._delta;\n  const { key } = this._props;\n\n  if (curve === undefined) {\n    const r = start.r + (ep * delta.r);\n    const g = start.g + (ep * delta.g);\n    const b = start.b + (ep * delta.b);\n    const a = start.a + (ep * delta.a);\n    this._target[key] = `rgba(${r | 0}, ${g | 0}, ${b | 0}, ${a})`;\n  } else {\n    const curveP = curve(p);\n    const r = (curveP * start.r) + (p * delta.r);\n    const g = (curveP * start.g) + (p * delta.g);\n    const b = (curveP * start.b) + (p * delta.b);\n    const a = (curveP * start.a) + (p * delta.a);\n    this._target[key] = `rgba(${r | 0}, ${g | 0}, ${b | 0}, ${a})`;\n  }\n\n  return this;\n};\n\n/**\n * `_setupTween` - function to set up tween if needed.\n */\nDelta._setupTween = function () {\n  const { tweenOptions } = this._delta;\n  // set up tween if `tweenOptions` is set\n  if (tweenOptions === undefined) { return; }\n\n  // create tween with tween options\n  this.tween = new Tween({\n    index: this.index,\n    ...tweenOptions,\n    // send `onUpdate` function to call the `this.update` function\n    // and envoke previous `onUpdate`\n    onUpdate: (ep, p, isForward) => {\n      this.update(ep, p, isForward);\n      // envoke old `onUpdate` if is present\n      if (tweenOptions.onUpdate !== undefined) {\n        tweenOptions.onUpdate(ep, p, isForward);\n      }\n    },\n  });\n};\n\n/**\n * `_declareDefaults` - function to declare defaults.\n *\n * @extends @ClassProto\n * @private\n */\nDelta._declareDefaults = function () {\n  this._defaults = {\n    key: null,\n    object: null,\n    customProperties: {},\n    target: null,\n    supportProps: null,\n  };\n};\n\n/**\n * `_parseDelta` - function to parse delta.\n *\n * @private\n */\nDelta._parseDelta = function () {\n  const { key, customProperties } = this._props;\n  const record = customProperties[key];\n\n  return (record != null && record.type != null)\n      ? this._parseByCustom()\n      : this._parseByGuess();\n};\n\n/**\n * `_parseByGuess` - function to parse delta by guess.\n *\n * @private\n */\nDelta._parseByGuess = function () {\n  const { key, object } = this._props;\n  const split = this._getSplit(object);\n  // try to parse `start`/`end` as colors first, if ok - this is a color delta\n  const startColor = makeColorObject(split.start);\n  const endColor = makeColorObject(split.end);\n  if (!startColor.isError && !endColor.isError) {\n    this._delta = parseColor(key, split);\n    return;\n  }\n  // conver the delta properties to string and check if unit is present\n  const isUnit = `${split.start}`.match(unitRegexp) ||\n                 `${split.end}`.toString().match(unitRegexp);\n  // parse regarding unit presence\n  const parseType = (isUnit) ? 'unit' : 'number';\n  this._delta = parsersMap[parseType](key, split);\n};\n\n/**\n * `_parseByCustom` - function to parse delta with help of customProperties.\n *\n * @private\n */\nDelta._parseByCustom = function () {\n  const { key, object, customProperties } = this._props;\n\n  const customProperty = customProperties[key];\n  const { type } = customProperty;\n\n  this._delta = parsersMap[type](key, this._getSplit(object));\n};\n\n/**\n * `_getSplit` - function to get options split\n *               and parse `stagger` in `start`/`end` properties.\n *\n * @param {Object} Object to split.\n * @return {Object} Split.\n */\nDelta._getSplit = function (object) {\n  const split = splitDelta(object);\n  // parse the `stagger` in `start`/`end` delta properties\n  split.start = staggerProperty(split.start, this.index, this._totalItemsInStagger);\n  split.end = staggerProperty(split.end, this.index, this._totalItemsInStagger);\n\n  return split;\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Delta);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Delta;\n\nexport { wrap as Delta };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/delta.babel.js","import { div } from './div.babel.js';\n\n/**\n * `normalizeHex` - Function to normalize part of a HEX color to FF format,\n *                  if one character passed, return doubled version of it.\n *\n * @param {Steing} Color part to normalize.\n * @param {Steing} Normalized part of a color.\n */\nconst normalizeHex = (string) => { // eslint-disable-line arrow-body-style\n  return (string.length === 2) ? string : string + string;\n};\n\n/**\n * `parseHEXColor` - function to parse #HEX colors.\n */\nconst parseHEXColor = (color) => {\n  const result = /^#?([a-f\\d]{1,2})([a-f\\d]{1,2})([a-f\\d]{1,2})$/i.exec(color);\n  if (result) {\n    return {\n      r: parseInt(normalizeHex(result[1]), 16),\n      g: parseInt(normalizeHex(result[2]), 16),\n      b: parseInt(normalizeHex(result[3]), 16),\n      a: 1,\n    };\n  }\n};\n\n/**\n * Function to parse a color string to color object.\n *\n * @param {String} String to parse.\n * @returns {Object} Color object.\n */\nconst makeColorObject = (color) => {\n  const originColor = color;\n  // #HEX\n  if (color[0] === '#') {\n    return parseHEXColor(color);\n  }\n\n  const isRgb = (color[0] === 'r' && color[1] === 'g' && color[2] === 'b');\n  // if color is not `rgb`, it is a shortcut (`cyan`, `hotpink` etc)\n  // so we need to set the color on DOM element and get the calculated color\n  if (!isRgb) {\n    div.style.color = 'black';\n    div.style.color = color;\n    color = window.getComputedStyle(div).color;\n  }\n\n  // parse `rgb` color\n  const regexString1 = '^rgba?\\\\((\\\\d{1,3}),\\\\s?(\\\\d{1,3}),';\n  const regexString2 = '\\\\s?(\\\\d{1,3}),?\\\\s?(\\\\d{1}|0?\\\\.\\\\d{1,})?\\\\)$';\n  const result = new RegExp(regexString1 + regexString2, 'gi').exec(color);\n  const a = parseFloat(result[4] || 1);\n\n  if (result) {\n    const r = parseInt(result[1], 10);\n    const g = parseInt(result[2], 10);\n    const b = parseInt(result[3], 10);\n    // if origin color was not black but black\n    // returned from the DOM - that's an error\n    return (originColor !== 'black' && r === 0 && g === 0 && b === 0 && a === 1)\n      ? { isError: true } : { r, g, b, a };\n  }\n\n  return {\n    isError: true,\n  };\n};\n\nexport { makeColorObject };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/make-color-object.babel.js","import { Tween } from './tween.babel.js';\n\n// TODO:\n//  - add `onRefresh` that will call all the child items.\n\n/* --------------------- */\n/* The `Timeline` class  */\n/* --------------------- */\n\nconst Super = Tween.__mojsClass;\nconst Timeline = Object.create(Super);\n\n/**\n * _declareDefaults - function do override some defaults.\n *\n * @overrides @ Tween\n * @private\n */\nTimeline._declareDefaults = function () {\n  // super call\n  Super._declareDefaults.call(this);\n  // reset `duration` to `0` because user cannot set duration of a Timeline -\n  // it is calculated automatically regarding child timelines durations\n  // this._defaults.duration = 0;\n  // reset the `easing` since timeline should not have easing by default\n  this._defaults.easing = 'linear.none';\n};\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * add - function to add `Tween` to the timeline.\n *\n * @public\n * @param   {Object, Array} A tween or array of tweens to add.\n * @param   {Number} Time shift >= 0.\n * @returns {Object} Self.\n */\nTimeline.add = function (tween, shift = 0) {\n  // make sure the shift is positive\n  shift = Math.abs(shift);\n  // if tween is really an array of tweens,\n  // loop thru them and add one by one\n  if (tween instanceof Array) {\n    tween.forEach((tw) => { this.add(tw, shift); });\n  // if a single tween, add it to `_items`\n  } else {\n    // if it has child `timeline` or `tween` property - add it instead\n    const runner = tween.timeline || tween.tween;\n    if (runner) { tween = runner; }\n    // set the `shiftTime` on tween\n    tween.set('shiftTime', shift);\n    // add to child timelines\n    this._items.push(tween);\n    // check if we need to increase timeline's bound\n    const { delay, duration, shiftTime } = tween._props;\n    const time = delay + duration + shiftTime;\n    this._props.duration = Math.max(this._props.duration, time);\n  }\n\n  return this;\n};\n\n/**\n * append - function to append `Tween` to the timeline.\n *\n * @public\n * @param   {Object, Array} A tween or array of tweens to append.\n * @param   {Number} Time shift >= 0.\n * @returns {Object} Self.\n */\nTimeline.append = function (tween, shift = 0) {\n  // add the tweens shifting them to the current `duration`\n  this.add(tween, this._props.duration + Math.abs(shift));\n\n  return this;\n};\n\n/**\n * stop - function to stop the Timeline.\n *\n * @public\n * @param   {Number} Progress [0..1] to set when stopped.\n * @returns {Object} Self.\n */\nTimeline.stop = function (progress) {\n  Super.stop.call(this, progress);\n\n  for (let i = this._items.length - 1; i >= 0; i--) {\n    this._items[i].stop(progress);\n  }\n\n  return this;\n};\n\n/**\n * reset - function to reset tween's state and properties.\n *\n * @public\n * @overrides @ Tween\n * @returns this.\n */\nTimeline.reset = function () {\n  Super.reset.call(this);\n  this._callOnItems('reset');\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * setStartTime - function to set the start tme for the the Timeline.\n *\n * @extends @ Tween\n * @public\n *\n * @param  {Number} Start time.\n */\nTimeline.setStartTime = function (time) {\n  Super.setStartTime.call(this, time);\n  this._callOnItems('setStartTime', this._start);\n\n  return this;\n};\n\n/**\n * Timeline - function to call a function on all child items.\n *\n * @param  {String} `name` Function name.\n * @param  {Arrag} args All other arguments.\n */\nTimeline._callOnItems = function (name, ...args) {\n  for (let i = 0; i < this._items.length; i++) {\n    this._items[i][name](...args);\n  }\n};\n\n/**\n * _createUpdate - function constructor to update the Timeline and child items.\n *\n * @private\n * @param {Function} `onUpdate` callback from passed options.\n * @param {Object} Instance.\n */\nTimeline._createUpdate = function (onUpdate, context) {\n  /**\n   * _createUpdate - function constructor to update the Timeline and child items.\n   *\n   * @private\n   * @param {Number} Eased progress [0...1].\n   * @param {Number} Progress [0...1].\n   * @param {Boolean} If forward or backward direction.\n   * @param {Number} Update time.\n   */\n  return function (ep, p, isForward, time) {\n    // 1. the order is important\n    for (let i = 0; i < context._items.length; i++) {\n      context._items[i].update(time);\n    }\n    // 2. the order is important\n    onUpdate(ep, p, isForward, time);\n  };\n};\n\n/**\n * _vars - declare vars.\n *\n * @extends @ Tween\n * @private\n */\nTimeline._vars = function () {\n  Super._vars.call(this);\n  // child `timelines`\n  this._items = [];\n  // reset the duraton because timeline cannot have it\n  this._props.duration = 0;\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @overrides @ Tween\n * @private\n */\nTimeline._extendDefaults = function () {\n  // super call\n  Super._extendDefaults.call(this);\n  // save the `onUpdate` callback\n  this._onUpdate = this._props.onUpdate;\n  // redefine the `onUpdate` callback to `_createUpdate` function\n  this._props.onUpdate = this._createUpdate(this._onUpdate, this);\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Timeline);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Timeline;\n\nexport { wrap as Timeline };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/timeline.babel.js","import { randFloat } from './rand-float.babel.js';\nimport { parseUnitValue } from '../helpers/parse-unit-value.babel.js';\n\n/**\n * `rand` - function to generate random `integer` number in range.\n * @param {Number} min Min bound.\n * @param {Number} max Max bound.\n * @return {Number} Random `integer` number in range.\n */\nexport const rand = (min = 0, max = 10) => {\n  const randomFloat = randFloat(min, max);\n  const resultUnit = parseUnitValue(randomFloat);\n  const resultNumber = Math.round(parseFloat(randomFloat));\n\n  return (resultUnit.unit)\n      ? `${resultNumber}${resultUnit.unit}`\n      : resultNumber;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/rand.babel.js","// TODO: think about test coverage\nimport { parseEasing } from '../easing/parse-easing.babel.js';\nimport { getRadialPoint } from './get-radial-point.babel.js';\n\nconst defaults = {\n  xEasing: 'cubic.in',\n  yEasing: 'linear.none',\n  count: 2,\n  length: 100,\n  depth: .25,\n  x: 0,\n  y: 0,\n  angle: 90,\n  startOffset: 0,\n  direction: true,\n  isGrow: 1,\n  // stagger properties:\n  index: 0,\n  total: 1,\n};\n\nconst getValue = (value, index, total) => {\n  return (typeof value === 'function') ? value(index, total) : value;\n};\n\nexport const generatePath = (options = {}) => {\n  const o = {\n    ...defaults,\n    ...options,\n  };\n\n  const keys = Object.keys(o);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    o[key] = getValue(o[key], o.index, o.total);\n  }\n\n  // parse easing properties\n  o.xEasing = parseEasing(o.xEasing);\n  o.yEasing = parseEasing(o.yEasing);\n  // calculate depth\n  const depth = o.depth * o.length;\n  // util points\n  const point = {};\n  const point1 = {};\n  const point2 = {};\n  const point3 = {};\n  // get the start point\n  getRadialPoint(o.x, o.y, o.startOffset, o.angle, point);\n  // loop util variables\n  const step = 1 / o.count;\n\n  let flip = o.direction;\n\n  let proc = step / 2;\n  let d = `M ${point.x}, ${point.y}`;\n  while (proc <= 1) {\n    const yProc = (o.isGrow) ? proc : 1 - proc;\n    flip = !flip;\n    const yCoef = (flip) ? -1 : 1;\n    // get the next center point\n    getRadialPoint(point.x, point.y, o.xEasing(proc) * o.length, o.angle, point1);\n    // get the curve control point, flip the direction on every segment\n    const curvePointAngle = o.angle + (yCoef * 90);\n    getRadialPoint(point1.x, point1.y, o.yEasing(yProc) * depth, curvePointAngle, point2);\n    // get the next center point\n    getRadialPoint(point.x, point.y, o.xEasing(proc + (step / 2)) * o.length, o.angle, point3);\n    // add the curve - curve point + the next center segment\n    d += ` Q ${point2.x}, ${point2.y} ${point3.x}, ${point3.y} `;\n    // add curve to the path\n    proc += step;\n  }\n\n  return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/generate-path.babel.js","const parsePath = (path) => {\n  const domPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  domPath.setAttributeNS(null, 'd', path);\n  return domPath;\n};\n\nconst sample = (path, n) => {\n  const step = 1 / n;\n  const totalLength = path.getTotalLength();\n  // create the samples map and save main properties\n  const samples = [];\n  // samples the path, `key` is in range of [0..1]\n  for (let i = 0; i < n + 1; i++) {\n    const point = path.getPointAtLength(i * step * totalLength);\n    samples[i] = {\n      x: point.x / 100,\n      y: point.y / 100,\n    };\n  }\n\n  return samples;\n};\n\n\nconst findY = (key, samples, n) => {\n  let start = 0;\n  let end = samples.length - 1;\n  const step = 1 / n;\n  // find `start`/`end` bounds with binary search\n  while (Math.abs(end - start) > 1) {\n    const delta = end - start;\n    const middle = start + Math.floor(delta / 2);\n    const value = samples[middle];\n\n    if (key === value.x) { return value.y; }\n    // shift a bound regarding the `value.x` value\n    if (key < value.x) {\n      end = middle;\n    } else {\n      start = middle;\n    }\n  }\n  // when the loop stops - we've found `start` and `end` bounds\n  const value = samples[start];\n  // if key is greate than `start` - normalize it\n  if (key > value.x) {\n    const nextValue = samples[start + 1];\n    if (nextValue !== undefined) {\n      const diff = value.x - key;\n      return value.y - ((nextValue.y - value.y) * (diff / step));\n    }\n  }\n\n  return value.y;\n};\n\nconst translateSamples = (samples, n) => {\n  const map = new Map();\n  const step = 1 / n;\n  // samples the path, `key` is in range of [0..1]\n  for (let i = 0; i < n + 1; i++) {\n    const key = i * step;\n    map.set(key, 1 - findY(key, samples, n));\n  }\n\n  return map;\n};\n\nconst path = (pathCoordinates, n = 200) => {\n  const preSamples = sample(parsePath(pathCoordinates), n);\n  const samples = translateSamples(preSamples, n);\n  const step = 1 / n;\n\n  return (p) => {\n    const index = (p / step) | 0; // convert to integer\n    const key = index * step; // get the key\n    const nextKey = (index + 1) * step; // get the next key\n    let y = samples.get(key); // get the y\n    // if next key is present, calculate the normalized y\n    // regarding the progress error\n    if (nextKey <= 1) {\n      const nextY = samples.get(nextKey);\n      y += (nextY - y) * ((p - key) / step);\n    }\n\n    return y;\n  };\n};\n\nexport { path };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/path.babel.js","import { path } from './path.babel.js';\n\n/**\n * TODO:\n *  [] add `setParent` public method.\n */\n\nimport { pow } from './pow.babel.js';\n\n/**\n * `easing` - object that holds all easing avaliable in `mojs`.\n */\nconst easing = {\n  /**\n   * `Linear` easing, also `null` or `id` easing - simply returns whatever\n   * passed to the function.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  linear: { none: k => k },\n\n  /**\n   * `Sin` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  sin: {\n    in: (k) => { return 1 - Math.cos((k * Math.PI) / 2); },\n    out: (k) => { return Math.sin((k * Math.PI) / 2); },\n    inout: (k) => { return 0.5 * (1 - Math.cos(Math.PI * k)); },\n  },\n\n  pow,\n  path,\n};\n\nexport { easing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/easing.babel.js","const pow = (p = 2) => {\n  const easeIn = (k => t => t ** k)(p);\n  const easeOut = (k => t => 1 - Math.abs((t - 1) ** k))(p);\n\n  return {\n    in: easeIn,\n    out: easeOut,\n    inout: (t) => {\n      return (t < .5) ? easeIn(t * 2) / 2 : (easeOut((t * 2) - 1) / 2) + .5;\n    },\n  };\n};\n\nexport { pow };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/pow.babel.js","import { ClassProto } from '../../class-proto.babel.js';\nimport { getSvgShapeNameID } from './add-shape.babel.js';\n\n/* --------------------- */\n/* The `SvgShape` class  */\n/* --------------------- */\n\nconst Super = ClassProto;\nconst SvgShape = Object.create(Super);\n\nconst NS = 'http://www.w3.org/2000/svg';\n\n// TODO:\n//   - `maxScale` should scale `strokeWidth`\n\n/**\n * _declareDefaults - function to declare `_defaults` object.\n *\n * @extends @ClassProto\n * @private\n */\nSvgShape._declareDefaults = function () {\n  this._defaults = {\n    shape: 'circle',\n    size: 100,\n  };\n};\n\n/**\n * `init` - lifecycle initialization function.\n *\n * @extends @ClassProto\n * @private\n */\nSvgShape.init = function (o) {\n  // super call\n  Super.init.call(this, o);\n  // create SVG canvas\n  this._createSVGCanvas();\n};\n\n/**\n * `_createSVGCanvas` - function to create a canvas.\n */\nSvgShape._createSVGCanvas = function () {\n  this.canvas = document.createElementNS(NS, 'svg');\n  this.canvas.style.width = '100%';\n  this.canvas.style.height = '100%';\n  // create root `<use />` element\n  this.canvas.innerHTML = `<use xlink:href=\"#${getSvgShapeNameID(this._props.shape)}\" vector-effect=\"non-scaling-stroke\" />`;\n  this.root = this.canvas.firstChild;\n\n  this._o.el.appendChild(this.canvas);\n};\n\n/**\n * `render` - function to element for render.\n */\nSvgShape.render = function (mainEl, support) {\n  // `styleKeys` are keys for visual representation props - `fill`, `stroke` etc\n  const { props, pipeObj } = support;\n  const { root, styleKeys } = pipeObj;\n  // draw visual stying\n  for (let i = 0; i < styleKeys.length; i++) {\n    const key = styleKeys[i];\n    const cacheName = `_${key}`;\n    const value = props[key];\n    if (support[cacheName] !== value) {\n      root.style[key] = value;\n    }\n    support[cacheName] = value;\n  }\n  // root transform calculation\n  const sizeX = (props.sizeX !== undefined) ? props.sizeX : props.size;\n  const sizeY = (props.sizeY !== undefined) ? props.sizeY : props.size;\n\n  // calculate scales\n  const scaleX = sizeX / 100;\n  const scaleY = sizeY / 100;\n  // const maxScale = Math.max(scaleX, scaleY);\n\n  const transform = `scale(${scaleX}, ${scaleY})`;\n  // make sure to set only if changed\n  if (support._transform !== transform) {\n    root.setAttribute('transform', transform);\n    root.setAttribute('x', `${50 * (1 / scaleX)}%`);\n    root.setAttribute('y', `${50 * (1 / scaleY)}%`);\n    support._transform = transform;\n  }\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} SvgShape instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(SvgShape);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = SvgShape;\n\nexport { wrap as SvgShape };\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/svg-shape.babel.js","import { Html } from './html.babel.js';\n\n/* -------------------- */\n/* The `Surface` class  */\n/* -------------------- */\n\n// It wextends `Html` module, create an HTMLElement and adds it to the DOM,\n// after that it passes the newely create element to `el` option of the\n// Html module and declares `width`/`height` defaults.\n// Thus it cretes a `Surface` that is controlled by `Html` module.\n\nconst Super = Html.__mojsClass;\nconst Surface = Object.create(Super);\n\n/**\n * `init` - function init the class.\n *\n * @public\n * @extends @Html\n */\nSurface.init = function (o = {}) {\n  // create an Html element\n  this._createElement();\n  // add element and custom properties definition to the options\n  o.el = this.el;\n  o.customProperties = {\n    ...o.customProperties,\n    width: { type: 'unit' },\n    height: { type: 'unit' },\n  };\n\n  // super call on HTML\n  Super.init.call(this, o);\n  // add element to DOM - we have `_props` available now\n  this._props.parent.appendChild(this.el);\n};\n\n/**\n * `_createElement` - function to create `Html` element.\n */\nSurface._createElement = function () {\n  this.el = document.createElement('div');\n};\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nSurface._declareDefaults = function () {\n  // super call\n  Super._declareDefaults.call(this);\n  // save html related defaults\n  this._htmlDefaults = { ...this._defaults };\n  // declare surface defaults\n  this._defaults = {\n    ...this._htmlDefaults,\n    // add surface properties\n    parent: document.body,\n    // `width` of the surface, fallbacks to `size`\n    width: 100,\n    // `height` of the surface, fallbacks to `size`\n    height: 100,\n  };\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Surface);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Surface;\n\nexport { wrap as Surface };\n\n\n\n// WEBPACK FOOTER //\n// ./src/surface.babel.js","import { Tweenable } from './tween/tweenable.babel.js';\nimport { Deltas } from './delta/deltas.babel.js';\nimport { ClassProto } from './class-proto.babel.js';\nimport { parseElement } from './helpers/parse-element.babel.js';\n\n/* ----------------- */\n/* The `Html` class  */\n/* ----------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Html = Object.create(Super);\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nHtml._declareDefaults = function () {\n  this._defaults = {\n    is3d: false,\n    el: null,\n    customProperties: {},\n\n    x: 0,\n    y: 0,\n    z: 0,\n\n    skewX: 0,\n    skewY: 0,\n\n    angle: 0,\n    angleX: 0,\n    angleY: 0,\n    angleZ: undefined,\n\n    scale: 1,\n    scaleX: undefined,\n    scaleY: undefined,\n    scaleZ: undefined,\n  };\n};\n\n/**\n * `init` - function init the class.\n *\n * @public\n * @extends @Tweenable\n */\nHtml.init = function (o = {}) {\n  // super call\n  Super.init.call(this, o);\n  // setup deltas\n  this._setupDeltas();\n};\n\n/**\n * `_setupDeltas` - function to set up `Deltas`.\n *\n * @private\n */\nHtml._setupDeltas = function () {\n  const customProperties = this._getCustomProperties();\n\n  this._deltas = new Deltas({\n    ...this._props,\n    customProperties,\n  });\n  // save the `timeline` to make the `tweenable` work\n  this.timeline = this._deltas.timeline;\n};\n\n/**\n* `_render` - function to render the component.\n*\n* @private\n* @param {Object} Target object to render to.\n* @param {Array} Support objects.\n*          @param {Object} support[0] Support object that will have\n*                                     all properties that are `isSkipRender`.\n*          @param {Object} support[1] Support render (original `render`\n*                                     from `customProperties` in this context).\n*/\nHtml._render = function (target, support) {\n  // get the supportProps\n  const { props, pipeObj } = support;\n  const { htmlRender } = pipeObj;\n\n  const scaleX = (props.scaleX !== undefined) ? props.scaleX : props.scale;\n  const scaleY = (props.scaleY !== undefined) ? props.scaleY : props.scale;\n\n  target.transform = `translate(${props.x}, ${props.y}) rotate(${props.angle}deg) skew(${props.skewX}deg, ${props.skewY}deg) scale(${scaleX}, ${scaleY})`;\n  // call the `original`\n  htmlRender(target, support);\n};\n\n/**\n * `_render3d` - function to render the component with 3d styles.\n *\n * @private\n * @param {Object} Target object to render to.\n * @param {Array} Support objects.\n *          @param {Object} support[0] Support object that will have\n *                                     all properties that are `isSkipRender`.\n *          @param {Object} support[1] Support render (original `render`\n *                                     from `customProperties` in this context).\n */\nHtml._render3d = function (target, support) {\n  // get the supportProps\n  const { props, pipeObj } = support;\n  const { htmlRender } = pipeObj;\n\n  const rotateZ = (props.angleZ !== undefined) ? props.angleZ : props.angle;\n  const scaleX = (props.scaleX !== undefined) ? props.scaleX : props.scale;\n  const scaleY = (props.scaleY !== undefined) ? props.scaleY : props.scale;\n  const scaleZ = (props.scaleZ !== undefined) ? props.scaleZ : props.scale;\n\n  target.transform = `translate3d(${props.x}, ${props.y}, ${props.z}) rotateX(${props.angleX}deg) rotateY(${props.angleY}deg) rotateZ(${rotateZ}deg) skew(${props.skewX}deg, ${props.skewY}deg) scale3d(${scaleX}, ${scaleY}, ${scaleZ})`;\n  // call the `original`\n  htmlRender(target, support);\n};\n\n/**\n * `_getCustomProperties` - function to create customProperties.\n *\n * @private\n * @return {Object} Custom properties.\n */\nHtml._getCustomProperties = function () {\n  const unitProps = ['x', 'y', 'z'];\n  const numberProps = ['angle', 'angleX', 'angleY', 'angleZ', 'skewX', 'skewY', 'scale', 'scaleX', 'scaleY', 'scaleZ'];\n  const { customProperties } = this._props;\n  const originalRender = customProperties.render;\n\n  const customProps = {\n    ...customProperties,\n  };\n\n  for (let i = 0; i < unitProps.length; i++) {\n    const prop = unitProps[i];\n    customProps[prop] = {\n      type: 'unit',\n      isSkipRender: true,\n    };\n  }\n\n  for (let i = 0; i < numberProps.length; i++) {\n    const prop = numberProps[i];\n    customProps[prop] = {\n      type: 'number',\n      isSkipRender: true,\n    };\n  }\n\n  const newRenderFunction = (this._is3dProperties())\n          ? this._render3d : this._render;\n  // if at least one of the `_default` properties set, pass the `render`\n  // function regarding the fact if the 3d property used\n  // otherwise pass thru the original `render` function\n  customProps.render = (this._isRender())\n    ? newRenderFunction\n    : originalRender;\n\n  customProps.pipeObj = {\n    ...customProperties.pipeObj,\n    htmlRender: (this._isRender()) ? originalRender || (() => {}) : (() => {}),\n  };\n\n  return customProps;\n};\n\n/**\n * `_isRender` - function to check if render function\n *               should be used (one of the defaults defined).\n *\n * @return {Boolean} If render should be used\n */\nHtml._isRender = function () {\n  const ignoreProperties = {\n    el: 1,\n    customProperties: 1,\n    is3d: 1,\n  };\n\n  const keys = Object.keys(this._defaults);\n  for (let i = 0; i < keys.length; i++) {\n    const prop = keys[i];\n    if (ignoreProperties[prop]) {\n      continue;\n    }\n\n    if (this._o[prop] !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * `_is3dProperties` - function to detect if the `3d` properties should be used.\n *\n * @return {Boolean} If 3d.\n */\nHtml._is3dProperties = function () {\n  const isAngleX = this._o.angleX != null;\n  const isAngleY = this._o.angleY != null;\n  const isAngleZ = this._o.angleZ != null;\n\n  const isRotate3d = isAngleX || isAngleY || isAngleZ;\n\n  const isZ = this._o.z != null;\n  const isScaleZ = this._o.scaleZ != null;\n\n  return this._is3d || isZ || isScaleZ || isRotate3d;\n};\n\n/**\n * `_extendDefaults` - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nHtml._extendDefaults = function () {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // delete `is3d` from options since we will pass them to `Deltas`\n  this._is3d = this._props.is3d;\n  delete this._props.is3d;\n  // if el was passed as `selector`(`string`), find the element in the DOM\n  this.el = parseElement(this._props.el);\n  // set the `el` on options to element style\n  // since this what we will pass to deltas\n  this._props.el = this.el.style;\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Html);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Html;\n\nexport { wrap as Html };\n\n\n\n// WEBPACK FOOTER //\n// ./src/html.babel.js","import { Tween } from '../tween/tween.babel.js';\nimport { ClassProto } from '../class-proto.babel.js';\nimport { separateTweenOptions } from './separate-tween-options.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\nimport { motionPathCache } from './motion-path-cache.babel.js';\n\n/* ----------------------- */\n/* The `MotionPath` class  */\n/* ----------------------- */\n\n// TODO:\n//  - add bounds?\n//  - add clone\n//  - add global cache\n\nconst Super = ClassProto;\nconst MotionPath = Object.create(Super);\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * `update` - function to update the MotionPath.\n *\n * @public\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If is forward direction.\n * @param {Object} This motion path.\n */\nMotionPath.update = function (ep) {\n  const { coordinate, property } = this._props;\n  const { step } = this._samples;\n\n  const index = (ep / step) | 0; // convert to integer\n  const key = index * step; // get the key\n  const nextKey = (index + 1) * step; // get the next key\n\n  const diff = ep - key; // get error for the eased progress\n  const value = this._samples.get(key)[coordinate]; // get the value\n\n  let norm = value;\n  // if next key is present, calculate the normalized value\n  // regarding the eased progress error\n  if (nextKey <= 1) {\n    const nextValue = this._samples.get(nextKey)[coordinate];\n    norm = value + ((nextValue - value) * (diff / step));\n  }\n\n  if (this._unit === undefined) {\n    this._target[property] = norm;\n  } else {\n    this._target[property] = `${norm}${this._unit}`;\n  }\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * `_samplePath` - function to sample path coordinates.\n *\n * @private\n * @param {Number} Number of floating point digits.\n */\nMotionPath._samplePath = function (n = this._props.precision) {\n  const { path, precision } = this._props;\n  const cachedPath = motionPathCache.get(path, precision);\n  // if we have the `path` with the `precision` cached - use it\n  if (cachedPath) {\n    this._samples = cachedPath;\n  // if no cache - start over\n  } else {\n    this._samples = new Map();\n    const totalLength = this._path.getTotalLength();\n    const step = 1 / n;\n    this._samples.step = step;\n    this._samples.totalLength = totalLength;\n    // samples the path, `key` is in range of [0..1]\n    for (let i = 0; i < n; i++) {\n      const key = i * step;\n      this._setForKey(key);\n    }\n    // the last sample is for `1`\n    this._setForKey(1);\n    motionPathCache.save(path, precision, this._samples);\n  }\n};\n\n/**\n * `_setForKey` - helper function for `_samplePath`,\n *                sets a key/value regarding `totalLength` on the map.\n *\n * @param  {Number} key Map key [0...1].\n */\nMotionPath._setForKey = function (key) {\n  const { totalLength } = this._samples;\n  // x/y computation\n  const length = key * totalLength;\n  const point = this._path.getPointAtLength(length);\n  const prevPoint = this._path.getPointAtLength(length - 1);\n  // cangle computation\n  const dY = point.y - prevPoint.y;\n  const dX = point.x - prevPoint.x;\n  const atan = (!isFinite(Math.atan(dY / dX))) ? 0 : Math.atan(dY / dX);\n  let angle = atan * (180 / Math.PI);\n\n  if (dX < 0) {\n    angle -= 180;\n  }\n  // set the point to the map\n  this._samples.set(key, { x: point.x, y: point.y, angle });\n};\n\n/**\n * `init` - function init the class.\n *\n * @extends @ClassProto\n * @public\n */\nMotionPath.init = function (o = {}) {\n  // super call\n  Super.init.call(this, o);\n  // get target, if the `isSkipRender` is set on `property`\n  // in `customProperties`, use `supportProps` otherwise use `el`\n  const { el, supportProps, property, customProperties } = this._props;\n  const custom = customProperties[property];\n  this._target = (custom && custom.isSkipRender) ? supportProps : el;\n  // if `unit` is defined or `type` is set on `customProperties`,\n  // set the render `_unit` that will be added on render\n  if (o.unit !== undefined || (custom && custom.type === 'unit')) {\n    this._unit = o.unit || 'px';\n  }\n  // parse path\n  this._parsePath();\n  // precompute path\n  this._samplePath();\n  // set up tween\n  this._setupTween();\n};\n\n/**\n * `_setupTween` - function set up tween if needed.\n *\n * @extends @ClassProto\n * @public\n */\nMotionPath._setupTween = function () {\n  // options\n  const options = { ...this._o };\n  // separate tween  options\n  const tweenOptions = separateTweenOptions(options);\n  if (tweenOptions !== undefined) {\n    this.tween = new Tween({\n      ...tweenOptions,\n      // send `onUpdate` function to call the `this.update` function\n      // and envoke previous `onUpdate`\n      onUpdate: (ep, p, isForward) => {\n        this.update(ep, p, isForward);\n        // envoke old `onUpdate` if is present\n        if (tweenOptions.onUpdate !== undefined) {\n          tweenOptions.onUpdate(ep, p, isForward);\n        }\n      },\n    });\n  }\n};\n\n/**\n * `_decalreDefaults` - function to declare defaults.\n *\n * @extends @ClassProto\n * @private\n */\nMotionPath._declareDefaults = function () {\n  this._defaults = {\n    el: null,\n    supportProps: null,\n    customProperties: {},\n    path: 'M0,0 L100,100',\n    precision: 140,\n    coordinate: 'x',\n    property: 'x',\n  };\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n * @overrides @ ClassProto\n */\nMotionPath._extendDefaults = function () {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // parse stagger\n  const propsKeys = Object.keys(this._props);\n  for (let i = 0; i < propsKeys.length; i++) {\n    const key = propsKeys[i];\n    const prop = staggerProperty(this._props[key], this.index, this._totalItemsInStagger);\n    // check if path generator was passed to `path` property\n    const isPathGenerator = (prop && typeof prop === 'object' && prop.path);\n    this._props[key] = (isPathGenerator) ? prop.path : prop;\n  }\n\n  const { property } = this._props;\n  if (property === 'y' || property === 'angle') {\n    this.setIfNotSet('coordinate', property);\n  }\n};\n\n/**\n * `_parsePath` - function to parse SVG motion path.\n */\nMotionPath._parsePath = function () {\n  const { path } = this._props;\n  this._path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  this._path.setAttributeNS(null, 'd', path);\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(MotionPath);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = MotionPath;\n\nexport { wrap as MotionPath };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/motion-path.babel.js","\nconst cache = new Map();\n\nconst createId = (path = '', n) => {\n  return `${n}___${path.trim()}`;\n};\n\nconst save = (path, n, obj) => {\n  cache.set(createId(path, n), obj);\n};\n\nconst get = (path, n) => {\n  return cache.get(createId(path, n));\n};\n\nexport const motionPathCache = {\n  createId,\n  save,\n  get,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/motion-path-cache.babel.js","/**\n * Tweener - singleton object that is responsible of:\n *  - starting `requestAnimationFrame` loop\n *  - stopping `requestAnimationFrame` loop\n *  - holding `tween`/`timeline` objects and passing current time to them.\n */\n\nconst tweens = [];\nlet savedTweens = [];\nlet isRunning = false;\n\n/**\n * `savePlayingTweens` - function to store all playing tweenes\n *                       when user leaves a page.\n */\nconst savePlayingTweens = () => {\n  savedTweens = tweens.slice(0);\n  for (let i = 0; i < savedTweens.length; i++) {\n    savedTweens[i].pause();\n  }\n};\n\n/**\n * `restorePlayingTweens` - function to restore all playing tweens.\n */\nconst restorePlayingTweens = () => {\n  for (let i = 0; i < savedTweens.length; i++) {\n    savedTweens[i].play();\n  }\n};\n\n/**\n * `onVisibilityChange` - visibilityChange handler.\n */\nconst onVisibilityChange = () => {\n  if (document.hidden) {\n    savePlayingTweens();\n  } else {\n    restorePlayingTweens();\n  }\n};\n\n/**\n * `stop` - function to stop the animation loop.\n */\nconst stop = () => {\n  tweens.length = 0;\n  isRunning = false;\n};\n\n// needed?\n// /**\n//  * `removeAll` - function stop updating all the child tweens/timelines.\n//  *\n//  * @return {type}  description\n//  */\n// const removeAll = () => { tweens.length = 0; };\n\n/**\n * `remove` - function to remove specific tween/timeline form updating.\n */\nconst remove = (tween) => {\n  const index = (typeof tween === 'number')\n                ? tween : tweens.indexOf(tween);\n\n  if (index !== -1) {\n    tweens.splice(index, 1);\n  }\n};\n\n/**\n *  `update` - fucntion  to update every tween/timeline on animation frame.\n */\nconst update = (time) => {\n  let i = tweens.length;\n  while (i--) {\n    const tween = tweens[i];\n    if (tween.update(time) === true) {\n      remove(tween);\n      tween.onTweenerFinish();\n    }\n  }\n};\n\n/*\n Main animation loop. Should have only one concurrent loop.\n @private\n @returns this\n*/\nconst loop = () => {\n  if (tweens.length === 0) {\n    return stop();\n  }\n  update(performance.now());\n  requestAnimationFrame(loop);\n};\n\n/**\n * `start` - function to start the animation loop.\n */\nconst start = () => {\n  if (isRunning) { return; }\n  isRunning = true;\n  requestAnimationFrame(loop);\n};\n\n/**\n * `add` - function to add a Tween/Timeline to loop pool.\n */\nconst add = (tween) => {\n  tweens.push(tween);\n  start();\n};\n\n/**\n * `caffeinate` - function to keep tweener awake on page blur.\n */\nconst caffeinate = () => {\n  document.removeEventListener('visibilitychange', onVisibilityChange, false);\n};\n\n// listen to visibility change\ndocument.addEventListener('visibilitychange', onVisibilityChange, false);\n\nconst tweener = { add, remove, caffeinate };\n\nexport { tweener };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tweener.babel.js","import { makeColorObject } from '../helpers/make-color-object.babel.js';\n\n/**\n * Function parse color delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseColor = (name, object) => {\n  const start = makeColorObject(object.start);\n  const end = makeColorObject(object.end);\n\n  const delta = {\n    r: end.r - start.r,\n    g: end.g - start.g,\n    b: end.b - start.b,\n    a: end.a - start.a,\n  };\n\n  return {\n    ...object,\n    type: 'color',\n    name,\n    start,\n    end,\n    delta,\n  };\n};\n\nexport { parseColor };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-color.babel.js","import { getRegexpUnit } from './get-regexp-unit.babel.js';\n\n/**\n * Function parse number delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseUnit = (name, object) => {\n  const result = {\n    ...object,\n    type: 'unit',\n    name,\n  };\n\n  // get start and end units\n  const startUnit = getRegexpUnit(result.start);\n  const endUnit = getRegexpUnit(result.end);\n  // get the unit for both with priority to startUnit\n  result.unit = endUnit || startUnit || 'px';\n  // parse the values in case we have strings there\n  result.start = parseFloat(result.start);\n  result.end = parseFloat(result.end);\n  // calculate delta\n  result.delta = result.end - result.start;\n\n  return result;\n};\n\nexport { parseUnit };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-unit.babel.js","import { unitRegexp } from '../helpers/unit-regexp.babel.js';\n\nconst getRegexpUnit = (value) => {\n  if (typeof value !== 'string') { return undefined; }\n  const valueMatch = value.match(unitRegexp);\n\n  return (valueMatch !== null) ? valueMatch[0] : undefined;\n};\n\nexport { getRegexpUnit };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/get-regexp-unit.babel.js","/**\n * Function parse number delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseNumber = (name, object) => {\n  const result = {\n    type: 'number',\n    name,\n    ...object,\n  };\n  // parse the values in case we have strings there\n  result.start = parseFloat(result.start);\n  result.end = parseFloat(result.end);\n  // calculate delta\n  result.delta = result.end - result.start;\n\n  return result;\n};\n\nexport { parseNumber };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-number.babel.js","import { parseEasing } from '../easing/parse-easing.babel.js';\nimport { separateTweenOptions } from '../delta/separate-tween-options.babel.js';\n\n/**\n * Function to split the delta object to `tween` options and actual `delta`.\n *\n * @param {Object} Object to split.\n * @returns {Object} Split `delta`.\n */\nconst splitDelta = (object) => {\n  const obj = { ...object };\n  // save curve because we need it directly on the\n  // parsed `delta` object vs `tween`\n  const curve = (obj.curve !== undefined)\n                  ? parseEasing(obj.curve) : undefined;\n  delete obj.curve;\n  // extract tween options\n  const tweenOptions = separateTweenOptions(obj);\n\n  let start;\n  let end;\n  // if `{ from: x, to: x }` syntax used\n  if (obj.from != undefined && obj.to != undefined) { // eslint-disable-line eqeqeq\n    start = obj.from;\n    end = obj.to;\n  // else `{ from: to }` syntax used\n  } else {\n    // at this point only the `start` -> `end` should left get the values\n    start = Object.keys(obj)[0];\n    end = obj[start];\n  }\n\n  return { start, end, curve, tweenOptions };\n};\n\nexport { splitDelta };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/split-delta.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const line = addShape('line', '<path d=\"M0,50 L100,50\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/line.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const polygon = addShape('polygon', '<path d=\"M70.6543967,94.8888889 L29.2092706,94.8888889 C26.0736196,94.8888889 23.2106339,93.2528971 21.7109748,90.526244 L1.12474438,54.8070893 C-0.374914792,52.0804363 -0.374914792,48.8084526 1.12474438,46.2181322 L21.8473074,10.3626449 C23.3469666,7.63599182 26.2099523,6 29.3456033,6 L70.6543967,6 C73.7900477,6 76.6530334,7.63599182 78.1526926,10.3626449 L98.8752556,46.2181322 C100.374915,48.9447853 100.374915,52.2167689 98.8752556,54.8070893 L78.1526926,90.6625767 C76.5167007,93.2528971 73.6537151,94.8888889 70.6543967,94.8888889 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/polygon.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const water = addShape('water', '<path d=\"M45.8293413,78.1018454 L34.9493612,66.798755 L24.0089368,78.1622898 C22.6648772,79.4305628 21.3535388,80.1570244 19.9591664,80.1569528 C18.3893642,80.1568735 16.9668102,79.4382436 15.9698404,78.4040671 L1.10053424,62.990762 C-1.63941805,59.9570193 1.1224296,54.714952 5.15030461,55.0121099 C6.46006272,55.1087435 7.67517952,55.7109102 8.5351873,56.6441069 L19.8987221,68.3703077 L30.4160362,57.4903276 C32.0307006,55.8585298 33.3183487,55.0254618 35.0702499,55.0121099 C36.7964337,54.9989572 38.1437543,56.1541867 39.3617976,57.4298833 L50.0000003,68.3703077 L60.6382031,57.4298833 C61.8562464,56.1541867 63.203567,54.9989572 64.9297508,55.0121099 C66.681652,55.025456 67.9693,55.8585298 69.5839645,57.4903276 L80.1012786,68.3703077 L91.4648133,56.6441069 C92.3248211,55.7109102 93.5399379,55.1087435 94.849696,55.0121099 C98.8775672,54.714952 101.639419,59.9570193 98.8994664,62.990762 L84.0301603,78.4040671 C83.0331905,79.4382436 81.6106365,80.1568735 80.0408342,80.1569528 C78.6464618,80.1570244 77.3351234,79.4305628 75.9910639,78.1622898 L65.0506395,66.798755 L54.1706594,78.1018454 C52.8829881,79.2323421 51.95142,80.1569528 50.0000003,80.1569528 C48.0485806,80.1569528 47.1170126,79.2323421 45.8293413,78.1018454 Z\" /><path d=\"M45.8293413,42.1018454 L34.9493612,30.798755 L24.0089368,42.1622898 C22.6648772,43.4305628 21.3535388,44.1570244 19.9591664,44.1569528 C18.3893642,44.1568735 16.9668102,43.4382436 15.9698404,42.4040671 L1.10053424,26.990762 C-1.63941805,23.9570193 1.1224296,18.714952 5.15030461,19.0121099 C6.46006272,19.1087435 7.67517952,19.7109102 8.5351873,20.6441069 L19.8987221,32.3703077 L30.4160362,21.4903276 C32.0307006,19.8585298 33.3183487,19.0254618 35.0702499,19.0121099 C36.7964337,18.9989572 38.1437543,20.1541867 39.3617976,21.4298833 L50.0000003,32.3703077 L60.6382031,21.4298833 C61.8562464,20.1541867 63.203567,18.9989572 64.9297508,19.0121099 C66.681652,19.025456 67.9693,19.8585298 69.5839645,21.4903276 L80.1012786,32.3703077 L91.4648133,20.6441069 C92.3248211,19.7109102 93.5399379,19.1087435 94.849696,19.0121099 C98.8775672,18.714952 101.639419,23.9570193 98.8994664,26.990762 L84.0301603,42.4040671 C83.0331905,43.4382436 81.6106365,44.1568735 80.0408342,44.1569528 C78.6464618,44.1570244 77.3351234,43.4305628 75.9910639,42.1622898 L65.0506395,30.798755 L54.1706594,42.1018454 C52.8829881,43.2323421 51.95142,44.1569528 50.0000003,44.1569528 C48.0485806,44.1569528 47.1170126,43.2323421 45.8293413,42.1018454 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/water.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const zigzag = addShape('zigzag', '<path d=\"M45.8293413,60.1018454 L34.9493612,48.798755 L24.0089368,60.1622898 C22.6648772,61.4305628 21.3535388,62.1570244 19.9591664,62.1569528 C18.3893642,62.1568735 16.9668102,61.4382436 15.9698404,60.4040671 L1.10053424,44.990762 C-1.63941805,41.9570193 1.1224296,36.714952 5.15030461,37.0121099 C6.46006272,37.1087435 7.67517952,37.7109102 8.5351873,38.6441069 L19.8987221,50.3703077 L30.4160362,39.4903276 C32.0307006,37.8585298 33.3183487,37.0254618 35.0702499,37.0121099 C36.7964337,36.9989572 38.1437543,38.1541867 39.3617976,39.4298833 L50.0000003,50.3703077 L60.6382031,39.4298833 C61.8562464,38.1541867 63.203567,36.9989572 64.9297508,37.0121099 C66.681652,37.025456 67.9693,37.8585298 69.5839645,39.4903276 L80.1012786,50.3703077 L91.4648133,38.6441069 C92.3248211,37.7109102 93.5399379,37.1087435 94.849696,37.0121099 C98.8775672,36.714952 101.639419,41.9570193 98.8994664,44.990762 L84.0301603,60.4040671 C83.0331905,61.4382436 81.6106365,62.1568735 80.0408342,62.1569528 C78.6464618,62.1570244 77.3351234,61.4305628 75.9910639,60.1622898 L65.0506395,48.798755 L54.1706594,60.1018454 C52.8829881,61.2323421 51.95142,62.1569528 50.0000003,62.1569528 C48.0485806,62.1569528 47.1170126,61.2323421 45.8293413,60.1018454 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/zigzag.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const equal = addShape('equal', '<path d=\"M10,19.2073333 C4.47716667,19.2073333 -3.33333332e-07,23.6843333 -3.33333332e-07,29.2073333 C-3.33333332e-07,34.73 4.47716667,39.2073333 10,39.2073333 L90,39.2073333 C95.5228333,39.2073333 100,34.73 100,29.2073333 C100,23.6843333 95.5228333,19.2073333 90,19.2073333 L10,19.2073333 Z M10,59.2073333 C4.47716667,59.2073333 -3.33333332e-07,63.6843333 -3.33333332e-07,69.2073333 C-3.33333332e-07,74.73 4.47716667,79.2073333 10,79.2073333 L90,79.2073333 C95.5228333,79.2073333 100,74.73 100,69.2073333 C100,63.6843333 95.5228333,59.2073333 90,59.2073333 L10,59.2073333 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/equal.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const triangle = addShape('triangle', '<path d=\"M57.7121583,9.0567569 C60.9018314,10.8206017 63.3716333,13.6357447 65.2444689,16.7137123 C75.2524339,32.8277779 85.2428411,48.9593651 95.2508061,65.0734307 C97.2875148,68.2506876 99.2832552,71.6031608 99.798285,75.4053561 C100.588387,80.1011548 99.0374455,85.1882701 95.4966158,88.429773 C92.03187,91.7180002 87.1273819,93.032123 82.4394404,92.9912392 C60.7847792,93.0029203 39.1359706,93.0029203 17.4813094,92.9912392 C11.6111404,93.1080501 5.30787825,90.7659913 2.13576302,85.5971083 C-1.27045666,80.2471685 -0.304775826,73.2034703 2.93757074,68.0170658 C13.5717652,50.7874559 24.2703383,33.5928894 34.945501,16.3866418 C37.4211555,12.3099409 41.2019423,8.82897562 45.8898838,7.55573666 C49.8286911,6.44019243 54.1713286,7.03592809 57.7121583,9.0567569 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/triangle.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const cross = addShape('cross', '<path d=\"M96.2338519,4.37841509 C91.7279481,-0.0424716981 84.4220442,-0.0426037736 79.9160058,4.37841509 L49.9999481,33.7299623 L20.0838904,4.37841509 C15.5778519,-0.0426037736 8.27221731,-0.0427358491 3.76604423,4.37841509 C-0.739859615,8.79930189 -0.739994231,15.9673585 3.76604423,20.3883774 L33.6821019,49.74 L3.76604423,79.0916981 C-0.739994231,83.5126415 -0.739859615,90.6807547 3.76604423,95.1015094 C8.27221731,99.5226415 15.5778519,99.5226415 20.0838904,95.1015094 L49.9999288,65.75 L79.9160058,95.1015094 C84.4220442,99.5226415 91.7279481,99.5224528 96.2338519,95.1015094 C100.740006,90.6803774 100.73991,83.5126415 96.2338712,79.0916981 L66.3178135,49.74 L96.2338519,20.3883774 C100.73989,15.9673774 100.740025,8.79956604 96.2338519,4.37841509 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/cross.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const zip = addShape('zip', '<path d=\"M77.8694327,6.32091008e-06 L37.1256938,6.32091008e-06 C36.1459999,6.32091008e-06 35.2815642,2.07465215 35.051048,2.99671696 L19.0878009,55.5544112 C18.6843976,56.9375084 19.7217205,57.629057 21.1624468,57.629057 L35.5120804,57.629057 L26.1185451,96.7015534 C25.5422546,98.8914573 28.308449,101.081361 29.8644334,99.4101188 L78.3304651,45.065924 C79.5983042,43.6828268 78.3304651,40.3403418 76.7168516,40.3403418 L58.5637007,40.3403418 L79.7711913,3.28486221 C80.1628518,2.60649153 80.1623529,1.77058534 79.769883,1.09268266 C79.377413,0.414779976 78.6527469,-0.0018715299 77.8694327,6.32091009e-06 L77.8694327,6.32091008e-06 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/zip.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const star = addShape('star', '<path d=\"M79.1358194,59.1672125 L97.1221917,45.9140961 C102.591732,41.811941 99.7517783,33.0817135 92.9148532,33.0817135 L70.5107754,32.9765301 C67.460455,32.9765301 64.7256849,30.9780442 63.7790337,28.1380907 L56.7317417,6.89103106 C54.6280724,0.369656313 45.3719276,0.369656313 43.2682583,6.89103106 L36.2209663,28.1380907 C35.2743151,30.9780442 32.539545,32.9765301 29.4892246,32.9765301 L7.08514681,33.0817135 C0.248221675,33.0817135 -2.59173184,41.811941 2.87780827,45.9140961 L20.8641806,59.1672125 C23.2834002,60.9553314 24.3352349,64.1108353 23.3885837,67.0559723 L16.656842,88.4082154 C14.5531727,94.9295902 22.0211987,100.293947 27.5959222,96.2969752 L45.7926615,83.2542257 C48.3170646,81.4661068 51.577752,81.4661068 54.1021551,83.2542257 L72.2988943,96.2969752 C77.8736179,100.293947 85.2364603,94.9295902 83.2379745,88.4082154 L76.5062328,67.0559723 C75.6647651,64.1108353 76.7165998,60.9553314 79.1358194,59.1672125 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/star.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const rect = addShape('rect', '<rect width=\"100\" height=\"100\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/rect.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const heart = addShape('heart', '<path d=\"M39.1909272,87.5505761 C42.1154825,90.4751329 45.961328,91.8892039 49.7964588,91.840996 C53.6315923,91.8945599 57.4774364,90.4751329 60.4073491,87.5505761 L91.8972124,56.2214035 C102.700929,45.4176866 102.700929,27.9024875 91.8972124,17.0987707 C81.0988515,6.30040978 63.5836524,6.30040978 52.7852915,17.0987707 L49.9839307,19.8572808 L47.2147085,17.0987707 C36.4163476,6.30040978 18.9011485,6.30040978 8.10278764,17.0987707 C-2.70092921,27.9024875 -2.70092921,45.4123306 8.10278764,56.2160475 L39.1909272,87.5505761 Z\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/heart.babel.js","import { addShape } from './add-shape.babel.js';\n\nexport const circle = addShape('circle', '<circle cx=\"50\" cy=\"50\" r=\"50\" />');\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/circle.babel.js","import { generatePath } from './generate-path.babel.js';\nimport { staggerProperty } from './stagger-property.babel.js';\n\nconst BURST_DEFAUTLS = {\n  degree: 360,\n  degreeOffset: 0,\n};\n\nexport const burstGenerator = (o = {}) => {\n  // extend by burst defaults\n  const burstOptions = {\n    ...BURST_DEFAUTLS,\n    ...o,\n  };\n\n  const staggerFunction = (index, total) => {\n    let { degree, degreeOffset } = burstOptions;\n    // if stagger properties - parse them\n    degree = staggerProperty(degree, index, total);\n    degreeOffset = staggerProperty(degreeOffset, index, total);\n    // calculate the particle angle regarding burst generator\n    const staggerAngle = degreeOffset + (index * (degree / total));\n    // generate the particle path\n    const path = generatePath({\n      ...o,\n      angle: (o.angle != null) ? o.angle : staggerAngle,\n      // pass stagger `index` and `total` values\n      index,\n      total,\n    });\n\n    return { path };\n  };\n\n  // TODO: refactor to staggerFunction\n  staggerFunction.__mojs__isStaggerFunction = true;\n\n  return staggerFunction;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/burst-generator.babel.js","\n/**\n * Constants.\n */\nexport const defaultEasing = ['sin', 'out'];\nexport const defaultEasingString = defaultEasing.join('.');\nexport const name = 'mojs';\nexport const consoleName = `:${name}:`;\nexport const bundleLink = 'https://aka.ms/mojs-bundle';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.babel.js","import { Surface } from '../surface.babel.js';\nimport { SvgShape } from './svg/svg-shape.babel.js';\nimport { tweenDefaults } from '../tween/tween-defaults.babel.js';\n\n/* ------------------ */\n/* The `Shape` class  */\n/* ------------------ */\n\nconst Super = Surface.__mojsClass;\nconst Shape = Object.create(Super);\n\n// TODO:\n//  - add `tune` method\n\n/**\n * `arrayToObj` - function to tranform string[] to `{ [string]: true }` object\n *\n * @param {Array} array Array of strings.\n * @returns {Object} Object of { [key]: true }.\n */\nconst arrayToObj = (array) => {\n  const obj = {};\n  for (let i = 0; i < array.length; i++) {\n    const key = array[i];\n    obj[key] = true;\n  }\n\n  return obj;\n};\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @Surface\n */\nShape._declareDefaults = function () {\n  Super._declareDefaults.call(this);\n  // save surface property\n  this._surfaceDefaults = {\n    ...this._defaults,\n    width: 100,\n    height: 100,\n  };\n  // defaults of this module\n  this._shapeDefaults = {\n    // add `Shape` defaults\n    shape: 'circle',\n    size: 100,\n    sizeX: undefined,\n    sizeY: undefined,\n  };\n  // declare shape defaults\n  this._defaults = {\n    // keep the `Surface` defaults\n    ...this._surfaceDefaults,\n    // add this module defaults\n    ...this._shapeDefaults,\n  };\n\n  // create shape module\n  this.shape = new SvgShape({\n    el: this.el,\n    shape: this._o.shape,\n  });\n\n  // create customProperties\n  const newCustomProps = this._createCustomProperties(this._o);\n  this._o.customProperties = newCustomProps;\n};\n\n/**\n * `_createCustomProperties` - function to create new customProperties.\n *\n * @param {Object} o Options.\n * @return {Object} New custom properties.\n */\nShape._createCustomProperties = function (o) {\n  const { customProperties = {} } = o;\n  const originalCustomProps = { ...customProperties };\n  // save original `render`\n  const originalRender = originalCustomProps.render;\n  delete originalCustomProps.render;\n  // save `surfaceOptions` and delete it from `options`\n  const { surfaceOptions = [] } = this._o;\n  const surfaceOptionsObject = arrayToObj(surfaceOptions);\n  delete this._o.surfaceOptions;\n\n  const newCustomProps = {};\n  // add `isSkipRender: true` to all `shapeDefaults` properties\n  const shapeDefaultsKeys = Object.keys(this._shapeDefaults);\n  for (let i = 0; i < shapeDefaultsKeys.length; i++) {\n    const key = shapeDefaultsKeys[i];\n    if (key !== 'shape') {\n      newCustomProps[key] = {\n        type: 'number',\n        isSkipRender: true,\n      };\n    }\n  }\n  // for all `options` check if the property is present on the `surface` defaults,\n  // if not present, add `isKipRender` to it\n  const styleKeys = [];\n  const optionKeys = Object.keys(o);\n  for (let i = 0; i < optionKeys.length; i++) {\n    const key = optionKeys[i];\n    if (key !== 'el') {\n      if (!this._surfaceDefaults.hasOwnProperty(key) && !surfaceOptionsObject[key]) {\n        newCustomProps[key] = { isSkipRender: true };\n        // original `key` record in original `customProperties`\n        const originalRecord = originalCustomProps[key] || {};\n        // filter out the shape properties and properties\n        // that have the `isSkipRender` defined\n        const isOnShapeDefaults = this._shapeDefaults.hasOwnProperty(key);\n        const isTweenOptions = !!tweenDefaults[key];\n        if (!isOnShapeDefaults && !originalRecord.isSkipRender && !isTweenOptions) {\n          styleKeys.push(key);\n        }\n      }\n    }\n  }\n  // return new `customProperties`\n  return {\n    ...newCustomProps,\n    ...originalCustomProps,\n    pipeObj: {\n      styleKeys,\n      root: this.shape.root,\n    },\n    render: (mainEl, support, ep, p, isForward) => {\n      this.shape.render(mainEl, support, ep, p, isForward);\n      // call the original `render` function if defined\n      if (originalRender !== undefined) {\n        originalRender(mainEl, support, ep, p, isForward);\n      }\n    },\n  };\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Shape);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Shape;\n\nexport { wrap as Shape };\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/shape.babel.js","/**\n * `parseElement` - function to parse element.\n *\n * @param {Sting, HTMLElement} el Element to parse.\n * @return {HTMLElement} Parsed `html` element.\n */\nexport const parseElement = (el) => {\n  // if `selector` passed, find the element in the DOM\n  if (typeof el === 'string') {\n    el = document.querySelector(el);\n  }\n\n  return el;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-element.babel.js","import { Delta } from '../delta/delta.babel.js';\n\n// TODO: cover by unit tests\n\n/**\n * `parseStaticProperty` - function to parse static property\n *                         regarding types in `customProperties`.\n *\n * @param {String} key Property name.\n * @param {String} property Property value.\n * @param {Object} customProperties Custom properties object.\n * @param {Number} index Index.\n */\nexport const parseStaticProperty = (key, property, customProperties, index = 0, total = 1) => {\n  // if property is not defined, just return it\n  if (property == null) {\n    return property;\n  }\n\n  const target = {};\n  const object = {\n    from: property,\n    to: property,\n  };\n  // greate a delta with `{ from: property, to: property }` transition\n  const delta = new Delta({\n    key,\n    target,\n    customProperties,\n    index,\n    totalItemsInStagger: total,\n    object,\n    supportProps: target,\n  });\n  // update the delta with `0` progress\n  delta.update(0, 0);\n\n  // get the result on target\n  const result = target[key];\n  // check if `result` is `NaN` return original propert\n  return (isNaN(result) && !result) ? property : result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-static-property.babel.js","/**\n * div - and element that is added to DOM for enviroment test purposes.\n */\nconst div = document.createElement('div');\ndocument.body.append(div);\n\nexport { div };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/div.babel.js","import { Deltas } from '../delta/deltas.babel.js';\nimport { Tweenable } from '../tween/tweenable.babel.js';\nimport { getRadialPoint } from '../helpers/get-radial-point.babel.js';\n\n/* ---------------- */\n/* The `Rig` class  */\n/* ---------------- */\n\n/*\n  TODO:\n    - direction -> size\n*/\n\nconst Super = Tweenable.__mojsClass;\nconst Rig = Object.create(Super);\n\nconst DEGREE_RAD = 180 / Math.PI;\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nRig._declareDefaults = function () {\n  this._defaults = {\n    size: 200,\n    curvature: 0,\n    direction: 1,\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 100,\n    onRender: () => {},\n  };\n\n  this._support = {\n    handle1: {},\n    handle2: {},\n    center: {},\n    knee: {},\n    angle1: 0,\n    angle2: 0,\n  };\n};\n\nRig._vars = function () {\n  Super._vars.call(this);\n  // create `Deltas` module to control all the deltas\n  this._createDeltas();\n};\n\nRig._createDeltas = function () {\n  const customProperties = this._o.customProperties || {};\n  const originalRender = customProperties.render;\n\n  const keys = Object.keys(this._defaults);\n  // it is forbidden to override the rig defaults\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (customProperties[key] !== undefined) {\n      delete customProperties[key];\n    }\n  }\n\n  const propsToPass = { ...this._props };\n  delete propsToPass.onRender;\n  // create deltas to add animations to the properties\n  this._deltas = new Deltas({\n    el: this._props,\n    ...propsToPass,\n    customProperties: {\n      ...customProperties,\n      render: (props, support, ep, p, isForward) => {\n        this.render(props, support, ep, p, isForward);\n        // call the original `render` is set\n        if (typeof originalRender === 'function') {\n          originalRender(props, support, ep, p, isForward);\n        }\n      },\n    },\n  });\n  // make the tweenable interface work\n  this.timeline = this._deltas.timeline;\n};\n\n/**\n * `render` - function to render the Rig.\n *\n * @public\n */\nRig.render = function () {\n  let { size } = this._props;\n  const support = this._support;\n\n  const {\n    x1,\n    x2,\n    y1,\n    y2,\n    direction,\n    curvature,\n    onRender,\n  } = this._props;\n\n  const direction3dShift = Math.sin(Math.abs(direction) * (Math.PI / 2));\n  size = direction3dShift * Math.abs(size);\n\n  // deltas should be at least 1, otherwise a lot of ambiguities can happen\n  const dX = (x1 - x2) || 1;\n  const dY = (y1 - y2) || 1;\n  const length = direction3dShift * Math.sqrt((dX * dX) + (dY * dY));\n\n  const maxPartLength = size / 2;\n  const actualPartLength = length / 2;\n\n  // get base angle between 2 points\n  let angle = (Math.atan(dY / dX) * DEGREE_RAD) + 90;\n  angle = (dX < 0) ? angle : 180 + angle;\n  const normActualLegnth = actualPartLength / direction3dShift;\n  // get center point\n  getRadialPoint(x1, y1, normActualLegnth, angle, support.center);\n\n  const isStretch = actualPartLength > maxPartLength;\n  const depth = (isStretch) ? 0 : Math.sqrt((maxPartLength ** 2) - (actualPartLength ** 2));\n\n  const directionCoeficient = (direction >= 0) ? 1 : -1;\n  const kneeAngle = angle - (directionCoeficient * 90);\n\n  getRadialPoint(support.center.x, support.center.y, depth, kneeAngle, support.knee);\n\n  // angle calculation\n  const nAngle = angle - 180;\n\n  const baseAngle = Math.atan(depth / normActualLegnth) * DEGREE_RAD;\n\n  let gripAngle1 = nAngle + baseAngle;\n  let gripAngle2 = angle - baseAngle;\n\n  const r = 25 * curvature;\n  gripAngle1 = (isStretch === false) ? gripAngle1 + r : nAngle;\n  gripAngle2 = (isStretch === false) ? gripAngle2 - r : angle;\n\n  if (direction > 0) {\n    const temp = gripAngle1;\n    gripAngle1 = gripAngle2 - 180;\n    gripAngle2 = temp - 180;\n  }\n\n  // handle calculations\n  const k = (0.25 * size) * curvature;\n  getRadialPoint(support.knee.x, support.knee.y, k, nAngle, support.handle1);\n  getRadialPoint(support.knee.x, support.knee.y, k, angle, support.handle2);\n\n  support.stretchRatio = actualPartLength / maxPartLength;\n  support.angle1 = gripAngle1;\n  support.angle2 = gripAngle2;\n\n  onRender(this._props, support);\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Rig);\n  const result = instance.init(o);\n\n  return result || instance;\n};\n\nwrap.__mojsClass = Rig;\n\nexport { wrap as Rig };\n\n\n\n// WEBPACK FOOTER //\n// ./src/rig/rig.babel.js","import { Timeline } from '../tween/timeline.babel.js';\nimport { Tweenable } from '../tween/tweenable.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\nimport { staggerFunction } from './stagger-function.babel.js';\nimport { staggerRand } from './stagger-rand.babel.js';\nimport { staggerRandFloat } from './stagger-rand-float.babel.js';\nimport { staggerStep } from './stagger-step.babel.js';\nimport { staggerMap } from './stagger-map.babel.js';\n\n/* -------------------- */\n/* The `Stagger` class  */\n/* -------------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Stagger = Object.create(Super);\n\n/**\n * `init` - function init the class.\n *\n * @extends @Tweenable\n * @public\n */\nStagger.init = function (o = {}, Module) {\n  // super call\n  Super.init.call(this, o);\n  // create main timeline\n  this._createTimeline(o.timeline);\n  // create modules\n  this._createModules(Module);\n};\n\n/**\n * `_createModules` - function to create modules.\n *\n * @private\n * @param {Object} Child module class.\n */\nStagger._createModules = function (Module) {\n  this._modules = [];\n  const { items, el = {} } = this._o;\n  const modulesCount = items || el.length || 1;\n\n  for (let i = 0; i < modulesCount; i++) {\n    const module = new Module({\n      ...this._getStaggerOptions(this._o, i, modulesCount),\n      totalItemsInStagger: modulesCount,\n    });\n    this._modules.push(module);\n    this.timeline.add(module);\n  }\n};\n\n/**\n * `_getStaggerOptions` - get stagger options for a single module.\n *\n * @private\n * @param {Object} Stagger options.\n * @param {Number} Index of a module.\n */\nStagger._getStaggerOptions = function (options, i, modulesCount) {\n  // pass index to child properties\n  const o = { index: i };\n\n  const keys = Object.keys(options);\n  for (let j = 0; j < keys.length; j++) {\n    const key = keys[j];\n    // `items` - is the special `stagger` keyword, filter out it\n    if (key !== 'items') {\n      o[key] = staggerProperty(options[key], i, modulesCount);\n    }\n  }\n\n  return o;\n};\n\n/**\n * `_createTimeline` - function to create a timeline.\n *\n * @private\n * @param {Object} Timeline options.\n */\nStagger._createTimeline = function (options) {\n  this.timeline = new Timeline(options);\n\n  delete this._o.timeline;\n};\n\n/**\n * function to wrap a Module with the stagger wrapper.\n */\nconst stagger = (Module) => { // eslint-disable-line arrow-body-style\n  return (options) => {\n    const instance = Object.create(Stagger);\n    instance.init(options, Module);\n\n    return instance;\n  };\n};\n\nstagger.function = staggerFunction;\nstagger.rand = staggerRand;\nstagger.randFloat = staggerRandFloat;\nstagger.step = staggerStep;\nstagger.map = staggerMap;\n\nexport { stagger };\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger.babel.js","/**\n * `staggerMap` - function to mark another function as `stagger` one.\n * @param {_} args Function parameters to make items of the stagger map.\n * @returns {Array} Newly created array that is marked as stagger one.\n */\nexport const staggerMap = (...args) => {\n  // clone the map\n  const newMap = [...args];\n  // mark as stagger one\n  newMap.__mojs__isStaggerMap = true;\n  // return the new map\n  return newMap;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-map.babel.js","import { staggerFunction } from './stagger-function.babel.js';\nimport { parseUnitValue } from '../helpers/parse-unit-value.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\n\n/**\n * `staggerStep` - function to value for stagger item.\n * @param {Number, String} base Base value.\n * @param {Number, String} step Step value.\n * @returns {Number, String} Stepped value.\n */\nexport const staggerStep = (base, step) => {\n  const isBaseDefined = !(step === undefined);\n  // if only one value passed, treat it as `base` of `0`\n  if (!isBaseDefined) {\n    step = base;\n    base = 0;\n  }\n  // mark the function as `stagger` one\n  return staggerFunction((i, total) => {\n    // parse units\n    const baseUnitValue = parseUnitValue(staggerProperty(base, i, total));\n    const stepUnitValue = parseUnitValue(staggerProperty(step, i, total));\n    // decide what is the result unit, the `base` one is top priority\n    const resultUnit = (isBaseDefined === true)\n          ? baseUnitValue.unit\n          : stepUnitValue.unit;\n    // calculate value for the current item\n    const resultNumber = baseUnitValue.value + (i * stepUnitValue.value);\n    // if unit defined, use it with result number\n    return (resultUnit) ? `${resultNumber}${resultUnit}` : resultNumber;\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-step.babel.js","import { randFloat } from '../helpers/rand-float.babel.js';\nimport { staggerFunction } from './stagger-function.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\n\n/**\n * `staggerRand` - function to create delayed `stagger` function\n *                 that generates random floats in range.\n * @param {Number} min Min bound.\n * @param {Number} max Max bound.\n * @returns {Function} Newly created function that is marked as stagger\n *                     and will call the `rand` one.\n */\nexport const staggerRandFloat = (min, max) => {\n  // mark the function as `stagger` one\n  return staggerFunction((i, total) => {\n    const minValue = staggerProperty(min, i, total);\n    const maxValue = staggerProperty(max, i, total);\n    // generate random float regarding `stagger` parsing\n    return randFloat(minValue, maxValue);\n  });\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-rand-float.babel.js","import { rand } from '../helpers/rand.babel.js';\nimport { staggerFunction } from './stagger-function.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\n\n/**\n * `staggerRand` - function to create delayed `stagger` function\n *                 that generates random integers in range.\n * @param {Number} min Min bound.\n * @param {Number} max Max bound.\n * @returns {Function} Newly created function that is marked as stagger\n *                     and will call the `rand` one.\n */\nexport const staggerRand = (min, max) => {\n  // mark the function as `stagger` one\n  return staggerFunction((i, total) => {\n    const minValue = staggerProperty(min, i, total);\n    const maxValue = staggerProperty(max, i, total);\n    // min/max regarding `staggerProperty` parsing\n    return rand(minValue, maxValue);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-rand.babel.js","import { pow } from './pow.babel.js';\n\n/**\n * `addBasicEasing` - function to add `basic easing functions`.\n *\n * @param {Object} `mojs` object.\n */\nconst addBasicEasing = (mojs) => {\n  /**\n   * `Quad` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quad = pow(2);\n\n  /**\n   * `Cubic` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.cubic = pow(3);\n\n  /**\n   * `Quart` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quart = pow(4);\n\n  /**\n   * `Quint` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quint = pow(5);\n\n  /**\n   * `Expo` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.expo = {\n    in: (k) => { return (k === 0) ? 0 : 1024 ** (k - 1); },\n    out: (k) => { return (k === 1) ? 1 : 1 - (2 ** (-10 * k)); },\n    inout: (k) => {\n      if (k === 0 || k === 1) {\n        return k;\n      }\n\n      k *= 2;\n\n      if (k < 1) {\n        return 0.5 * (1024 ** (k - 1));\n      }\n\n      return 0.5 * (-(2 ** (-10 * (k - 1))) + 2);\n    },\n  };\n\n  /**\n   * `Circ` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.circ = {\n    in(k) { return 1 - Math.sqrt(1 - (k * k)); },\n    out(k) { return Math.sqrt(1 - (--k * k)); },\n    inout(k) {\n      k *= 2;\n\n      if (k < 1) {\n        return -0.5 * (Math.sqrt(1 - (k * k)) - 1);\n      }\n\n      return 0.5 * (Math.sqrt(1 - ((k -= 2) * k)) + 1);\n    },\n  };\n\n  /**\n   * `Elastic` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.elastic = {\n    in(k) {\n      const p = 0.4;\n      const a = 1;\n      const s = p / 4;\n\n      if (k === 0 || k === 1) {\n        return k;\n      }\n      return -(a * (2 ** (10 * (k -= 1))) * Math.sin(((k - s) * (2 * Math.PI)) / p));\n    },\n    out(k) {\n      const p = 0.4;\n      const a = 1;\n      const s = p / 4;\n\n      if (k === 0 || k === 1) { return k; }\n      return (a * (2 ** (-10 * k)) * Math.sin(((k - s) * (2 * Math.PI)) / p)) + 1;\n    },\n    inout(k) {\n      if (k === 0 || k === 1) {\n        return k;\n      }\n\n      k *= 2;\n\n      if (k < 1) {\n        return -0.5 * (2 ** (10 * (k - 1))) * Math.sin((k - 1.1) * 5 * Math.PI);\n      }\n\n      return (0.5 * (2 ** (-10 * (k - 1))) * Math.sin((k - 1.1) * 5 * Math.PI)) + 1;\n    },\n  };\n\n  /**\n   * `Back` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.back = {\n    in(k) {\n      const s = 1.70158;\n      return k * k * (((s + 1) * k) - s);\n    },\n    out(k) {\n      const s = 1.70158;\n      return (--k * (k * (((s + 1) * k) + s))) + 1;\n    },\n    inout(k) {\n      const s = 1.70158 * 1.525;\n      k *= 2;\n\n      if (k < 1) {\n        return 0.5 * k * k * (((s + 1) * k) - s);\n      }\n\n      return 0.5 * (((k -= 2) * k * (((s + 1) * k) + s)) + 2);\n    },\n  };\n\n  /**\n   * `Bounce` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.bounce = {\n    in(k) { return 1 - mojs.easing.bounce.out(1 - k); },\n    out(k) {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k;\n      } else if (k < (2 / 2.75)) {\n        return (7.5625 * (k -= 1.5 / 2.75) * k) + 0.75;\n      } else if (k < (2.5 / 2.75)) {\n        return (7.5625 * (k -= 2.25 / 2.75) * k) + 0.9375;\n      }\n\n      return (7.5625 * (k -= 2.625 / 2.75) * k) + 0.984375;\n    },\n    inout(k) {\n      return (k < 0.5)\n        ? mojs.easing.bounce.in(k * 2) * 0.5\n        : (mojs.easing.bounce.out((k * 2) - 1) * 0.5) + 0.5;\n    },\n  };\n};\n\nexport { addBasicEasing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/basic-easing.babel.js","import { getRegexpUnit } from '../delta/get-regexp-unit.babel.js';\n\n/**\n * `parseStagger` - function to parse `stagger()` strings.\n *\n * @param {_} Property value.\n * @param {Number} Stagger index.\n * @returns {String, Any} Parsed stagger value or unattended value.\n */\nconst parseStagger = (value, index) => {\n  const type = typeof value;\n  // if not string return the value itself as it can not be a stagger string\n  if (type !== 'string') { return value; }\n  // if string test it on `stagger` sequence, if not present\n  // return the value as it is not a stagger string\n  if (!value.match(/^stagger\\(/)) { return value; }\n\n  // split the value `stagger([body])`\n  const body = value.split(/stagger\\(|\\)$/)[1].toLowerCase();\n  // split the body\n  const stagger = body.split(/([^(,\\s]+)(?=\\s*,|\\s*$)/gim);\n  // assume two values in the `stagger(20, 20)`\n  let base = stagger[1];\n  let step = stagger[3];\n  // if only one value provided in the `stagger(20)`\n  if (stagger.length <= 3) {\n    base = 0;\n    step = stagger[1];\n  }\n  // parse base\n  const baseValue = parseFloat(base);\n  const baseUnit = getRegexpUnit(base);\n  // parse step\n  const stepValue = parseFloat(step);\n  const stepUnit = getRegexpUnit(step);\n  // get result unit and result\n  const unit = (baseUnit !== undefined) ? baseUnit : stepUnit;\n  const result = baseValue + (index * stepValue);\n  // if unit is present - return the result with unit, otherwise return number\n  return (unit) ? `${result}${unit}` : result;\n};\n\nexport { parseStagger };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-stagger.babel.js","import { ClassProto } from './class-proto.babel.js';\n// tween related\nimport { Tween } from './tween/tween.babel.js';\nimport { tweenDefaults } from './tween/tween-defaults.babel.js';\nimport { Timeline } from './tween/timeline.babel.js';\nimport { tweener } from './tween/tweener.babel.js';\n// easing\nimport { easing } from './easing/easing.babel.js';\nimport { parseEasing } from './easing/parse-easing.babel.js';\n// temporary - not needed for base file\nimport { Delta } from './delta/delta.babel.js';\nimport { splitDelta } from './delta/split-delta.babel.js';\nimport { parseNumber } from './delta/parse-number.babel.js';\nimport { parseUnit } from './delta/parse-unit.babel.js';\nimport { parseColor } from './delta/parse-color.babel.js';\nimport { separateTweenOptions } from './delta/separate-tween-options.babel.js';\nimport { Tweenable } from './tween/tweenable.babel.js';\nimport { staggerProperty } from './helpers/stagger-property.babel.js';\nimport { parseStagger } from './helpers/parse-stagger.babel.js';\nimport { makeColorObject } from './helpers/make-color-object.babel.js';\n\nimport { SvgShape } from './shape/svg/svg-shape.babel.js';\n\nimport { getRadialPoint } from './helpers/get-radial-point.babel.js';\nimport { parseUnitValue } from './helpers/parse-unit-value.babel.js';\nimport { motionPathCache } from './delta/motion-path-cache.babel.js';\n\nimport { getSvgShapeNameID } from './shape/svg/add-shape.babel.js'; // eslint-disable-line import/no-duplicates\n\n/*\n  Browsers' support:\n    - rAF\n    - performance.now\n    - Map\n*/\n\n/*\n  TODO:\n    - add spring easing\n    - add bezier easing\n    - add array deltas\n\n    - what to do with static props? in stagger?\n    - add angle offset for `burstGenerator` ? or inside motionPath?\n    - styleKeys should have only delta keys\n\n    - `reverse` on shape\n    - add rig renderers\n\n    - add springs\n    - add path/curve generators\n*/\n\nconst mojs = {\n  revision: '2.16.5',\n  Tween,\n  Timeline,\n  easing,\n  // temporary\n  __helpers__: {\n    parseEasing,\n    ClassProto,\n    SvgShape,\n    tweenDefaults,\n    tweener,\n    Delta,\n    splitDelta,\n    parseNumber,\n    parseUnit,\n    parseColor,\n    separateTweenOptions,\n    Tweenable,\n    staggerProperty,\n    parseStagger,\n    makeColorObject,\n    getRadialPoint,\n    parseUnitValue,\n    motionPathCache,\n    getSvgShapeNameID,\n  },\n};\n\n/* Extensions */\n// `basic easing functions`\nimport { addBasicEasing } from './easing/basic-easing.babel.js'; // eslint-disable-line import/newline-after-import, import/first\naddBasicEasing(mojs);\n// Deltas\nimport { Deltas } from './delta/deltas.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Deltas = Deltas;\n// MotionPath\nimport { MotionPath } from './delta/motion-path.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.MotionPath = MotionPath;\n\n// stagger\nimport { stagger } from './stagger/stagger.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.stagger = stagger;\n// html\nimport { Html } from './html.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Html = Html;\n// surface\nimport { Surface } from './surface.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Surface = Surface;\n\n// rig\nimport { Rig } from './rig/rig.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Rig = Rig;\n\n// shape\nimport { Shape } from './shape/shape.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Shape2 = Shape;\n// addShape\nimport { addShape } from './shape/svg/add-shape.babel.js'; // eslint-disable-line import/newline-after-import, import/first, import/no-duplicates\nmojs.addShape = addShape;\n// shapes\nrequire('./shape/svg/circle.babel.js');\nrequire('./shape/svg/heart.babel.js');\nrequire('./shape/svg/rect.babel.js');\nrequire('./shape/svg/star.babel.js');\nrequire('./shape/svg/zip.babel.js');\nrequire('./shape/svg/cross.babel.js');\nrequire('./shape/svg/triangle.babel.js');\nrequire('./shape/svg/equal.babel.js');\nrequire('./shape/svg/zigzag.babel.js');\nrequire('./shape/svg/water.babel.js');\nrequire('./shape/svg/polygon.babel.js');\nrequire('./shape/svg/line.babel.js');\n\n// path generator\nimport { generatePath } from './helpers/generate-path.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.generatePath = generatePath;\n\n// burst generator\nimport { burstGenerator } from './helpers/burst-generator.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.burstGenerator = burstGenerator;\n\n// random integer generator\nimport { rand } from './helpers/rand.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.rand = rand;\n// random integer generator\nimport { randFloat } from './helpers/rand-float.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.randFloat = randFloat;\n\nexport default mojs;\n\n\n\n// WEBPACK FOOTER //\n// ./src/mojs.babel.js"],"sourceRoot":""}