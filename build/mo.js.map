{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ec285d2b5771cebfdeb4","webpack:///./src/helpers/stagger-property.babel.js","webpack:///./src/class-proto.babel.js","webpack:///./src/tween/tweenable.babel.js","webpack:///./src/tween/tween.babel.js","webpack:///./src/helpers/parse-unit-value.babel.js","webpack:///./src/easing/parse-easing.babel.js","webpack:///./src/delta/separate-tween-options.babel.js","webpack:///./src/stagger/stagger-function.babel.js","webpack:///./src/helpers/rand-float.babel.js","webpack:///./src/helpers/unit-regexp.babel.js","webpack:///./src/helpers/get-radial-point.babel.js","webpack:///./src/delta/deltas.babel.js","webpack:///./src/tween/tween-defaults.babel.js","webpack:///./src/delta/delta.babel.js","webpack:///./src/helpers/make-color-object.babel.js","webpack:///./src/tween/timeline.babel.js","webpack:///./src/helpers/rand.babel.js","webpack:///./src/helpers/generate-path.babel.js","webpack:///./src/easing/path.babel.js","webpack:///./src/easing/easing.babel.js","webpack:///./src/easing/pow.babel.js","webpack:///./src/delta/motion-path.babel.js","webpack:///./src/delta/motion-path-cache.babel.js","webpack:///./src/tween/tweener.babel.js","webpack:///./src/delta/parse-color.babel.js","webpack:///./src/delta/parse-unit.babel.js","webpack:///./src/delta/get-regexp-unit.babel.js","webpack:///./src/delta/parse-number.babel.js","webpack:///./src/delta/split-delta.babel.js","webpack:///./src/surface.babel.js","webpack:///./src/html.babel.js","webpack:///./src/shape/svg/svg-shape.babel.js","webpack:///./src/helpers/burst-generator.babel.js","webpack:///./src/constants.babel.js","webpack:///./src/rig/rig.babel.js","webpack:///./src/helpers/parse-static-property.babel.js","webpack:///./src/helpers/div.babel.js","webpack:///./src/shape/shape.babel.js","webpack:///./src/helpers/parse-element.babel.js","webpack:///./src/stagger/stagger.babel.js","webpack:///./src/stagger/stagger-map.babel.js","webpack:///./src/stagger/stagger-step.babel.js","webpack:///./src/stagger/stagger-rand-float.babel.js","webpack:///./src/stagger/stagger-rand.babel.js","webpack:///./src/easing/basic-easing.babel.js","webpack:///./src/shape/svg/custom.babel.js","webpack:///./src/helpers/parse-stagger.babel.js","webpack:///./src/mojs.babel.js","webpack:///./src/shape/svg/circle.babel.js"],"names":["isStaggerMap","prop","Array","__mojs__isStaggerMap","isStaggerFunction","__mojs__isStaggerFunction","staggerProperty","index","totalItems","length","ClassProto","get","key","_props","set","value","setIfNotSet","_o","undefined","init","o","_totalItemsInStagger","totalItemsInStagger","_declareDefaults","_extendDefaults","_vars","_defaults","Super","Tweenable","Object","create","call","methods","i","method","rest","timeline","tween","wrap","instance","__mojsClass","Tween","play","_state","_setState","_setupPlay","_playTime","performance","now","_speed","speed","pause","remove","stop","progress","newProgress","isReverse","stopProc","setProgress","reset","replay","repeat","setSpeed","setStartTime","reverse","_reverseCallbacks","_elapsed","delay","_end","_spot","_start","time","_prevTime","update","_isActive","_repeatCount","add","onStart","onComplete","onChimeIn","onChimeOut","duration","_time","_cbs","_chCbs","startTime","shiftTime","onUpdate","easing","backwardEasing","t","_progress","onRefresh","isForward","ease","isActive","p","state","_prevState","wasPause","wasStop","wasPlay","wasReverse","wasPlaying","wasStill","onPlaybackStart","onPlaybackPause","onPlaybackStop","onTweenerFinish","isReverseOnRepeat","onPlaybackComplete","count","propsKeys","keys","parseUnitValue","defaultUnit","result","unit","match","parseFloat","parseEasing","type","toLowerCase","split","easeParent","console","error","separateTweenOptions","object","tweenOptions","defaultKeys","option","staggerFunction","fun","newFunction","randFloat","min","max","minUnitValue","maxUnitValue","minNumber","maxNumber","resultUnit","resultNumber","Math","random","unitRegexp","getRadialPoint","centerX","centerY","radius","angle","target","radAngle","x","cos","y","sin","Deltas","options","timelineOptions","_customProperties","customProperties","_render","render","_pipeObj","pipeObj","_el","el","parent","_supportProps","_setupTween","_setupTimeline","_parseProperties","ep","_upd_deltas","support","props","_tweenDeltas","_plainDeltas","_staticProps","optionsKeys","custom","isSkipRender","property","delta","path","supportProps","push","tweenDefaults","parsersMap","number","color","Delta","_target","_parseDelta","_delta","_upd_number","curve","start","_upd_unit","_upd_color","r","g","b","a","curveP","record","_parseByCustom","_parseByGuess","_getSplit","startColor","endColor","end","isError","isUnit","toString","parseType","customProperty","normalizeHex","string","parseHEXColor","exec","parseInt","makeColorObject","originColor","isRgb","style","window","getComputedStyle","regexString1","regexString2","RegExp","Timeline","shift","abs","forEach","tw","runner","_items","append","_callOnItems","name","args","_createUpdate","context","_onUpdate","rand","randomFloat","round","defaults","xEasing","yEasing","depth","startOffset","direction","isGrow","total","getValue","generatePath","point","point1","point2","point3","step","flip","proc","d","yProc","yCoef","curvePointAngle","parsePath","domPath","document","createElementNS","setAttributeNS","sample","n","totalLength","getTotalLength","samples","getPointAtLength","findY","middle","floor","nextValue","diff","translateSamples","map","Map","pathCoordinates","preSamples","nextKey","nextY","linear","none","k","in","PI","out","inout","pow","easeIn","easeOut","MotionPath","coordinate","_samples","norm","_unit","_samplePath","precision","cachedPath","_path","_setForKey","save","prevPoint","dY","dX","atan","isFinite","_parsePath","isPathGenerator","cache","createId","trim","obj","motionPathCache","tweens","savedTweens","isRunning","savePlayingTweens","slice","restorePlayingTweens","onVisibilityChange","hidden","indexOf","splice","loop","requestAnimationFrame","caffeinate","removeEventListener","addEventListener","tweener","parseColor","parseUnit","startUnit","endUnit","getRegexpUnit","valueMatch","parseNumber","splitDelta","from","to","Surface","_createElement","width","height","appendChild","createElement","_htmlDefaults","body","Html","is3d","z","skewX","skewY","angleX","angleY","angleZ","scale","scaleX","scaleY","scaleZ","_setupDeltas","_getCustomProperties","_deltas","htmlRender","transform","_render3d","rotateZ","unitProps","numberProps","originalRender","customProps","newRenderFunction","_is3dProperties","_isRender","ignoreProperties","isAngleX","isAngleY","isAngleZ","isRotate3d","isZ","isScaleZ","_is3d","SvgShape","NS","_createSVGCanvas","_initializeShape","canvas","root","setAttribute","BURST_DEFAUTLS","degree","degreeOffset","burstGenerator","burstOptions","staggerAngle","defaultEasing","defaultEasingString","join","consoleName","bundleLink","Rig","DEGREE_RAD","size","curvature","x1","y1","x2","y2","onRender","_support","handle1","handle2","center","knee","angle1","angle2","_createDeltas","propsToPass","direction3dShift","sqrt","maxPartLength","actualPartLength","normActualLegnth","isStretch","directionCoeficient","kneeAngle","nAngle","baseAngle","gripAngle1","gripAngle2","temp","stretchRatio","parseStaticProperty","isNaN","div","Shape","arrayToObj","array","_surfaceDefaults","_shapeDefaults","sizeX","sizeY","shape","newCustomProps","_createCustomProperties","originalCustomProps","surfaceOptions","surfaceOptionsObject","defaultsKeys","styleKeys","optionKeys","hasOwnProperty","originalRecord","isOnShapeDefaults","mainEl","parseElement","querySelector","Stagger","Module","_createTimeline","_createModules","_modules","items","modulesCount","module","_getStaggerOptions","j","stagger","function","staggerMap","newMap","staggerStep","base","isBaseDefined","baseUnitValue","stepUnitValue","staggerRandFloat","minValue","maxValue","staggerRand","addBasicEasing","mojs","quad","cubic","quart","quint","expo","circ","elastic","s","back","bounce","Custom","getShape","innerHTML","cacheName","maxScale","shiftX","shiftY","_transform","parseStagger","baseValue","baseUnit","stepValue","stepUnit","revision","__helpers__","svg","Circle","Shape2","shapeEl","rx","ry","_rx","_ry"],"mappings":"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","file":"mo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mojs\"] = factory();\n\telse\n\t\troot[\"mojs\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"build/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 47);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ec285d2b5771cebfdeb4","export const isStaggerMap = (prop) => {\n  return (prop instanceof Array) && (prop.__mojs__isStaggerMap);\n};\n\nexport const isStaggerFunction = (prop) => {\n  return typeof prop === 'function' && prop.__mojs__isStaggerFunction;\n};\n\nexport const staggerProperty = (prop, index, totalItems) => {\n  // if property is an array map the index to some array item\n  if (isStaggerMap(prop)) {\n    prop = prop[index % prop.length];\n  }\n  // if prop is a function, call the it with index and return the result\n  if (isStaggerFunction(prop)) {\n    prop = prop(index, totalItems);\n  }\n  // if nested, parse it\n  return (isStaggerMap(prop) || isStaggerFunction(prop))\n    ? staggerProperty(prop, index, totalItems)\n    : prop;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/stagger-property.babel.js","/**\n * ClassProto - base class for module.\n * It is needed to:\n *   - declare `_defaults`\n *   - extend `_defaults` by `options` and save result to `_props`\n *   - declare `_vars` after extention\n *   - call `_render` eventually\n */\nconst ClassProto = {};\n\n/**\n * `get` - Method to get a property from `_props`.\n *\n * @public\n * @param {String} Key.\n * @returns {Any} Value from the `_props` by `key`.\n */\nClassProto.get = function (key) {\n  return this._props[key];\n};\n\n/**\n * `set` - Method to get a property from `_props`.\n *\n * @public\n * @param {String} Key.\n * @param {Any} Value.\n */\nClassProto.set = function (key, value) {\n  this._props[key] = value;\n};\n\n/**\n * `setIfNotSet` - function to set a property if it isn't\n *                 present in the initialization options.\n *\n * @public\n * @param {String} Key.\n * @param {Any} Value.\n * @returns {Object} This instance.\n */\nClassProto.setIfNotSet = function (key, value) {\n  if (this._o[key] === undefined) {\n    this.set(key, value);\n  }\n\n  return this;\n};\n\n/**\n * `init` - lifecycle initialization function.\n *\n * @private\n */\nClassProto.init = function (o = {}) {\n  // save options\n  this._o = { ...o };\n\n  // parse index and delete it from options\n  this.index = this._o.index || 0;\n  delete this._o.index;\n  // parse total items and delete it from options\n  this._totalItemsInStagger = this._o.totalItemsInStagger || 1;\n  delete this._o.totalItemsInStagger;\n\n  this._declareDefaults();\n  this._extendDefaults();\n  this._vars();\n};\n\n/**\n * _declareDefaults - function to declare `_defaults` object.\n *\n * @private\n */\nClassProto._declareDefaults = function () { this._defaults = {}; };\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n */\nClassProto._extendDefaults = function () {\n  this._props = {\n    ...this._defaults,\n    ...this._o,\n  };\n};\n\n/**\n * _vars - function do declare `variables` after `_defaults` were extended\n *         by `options` and saved to `_props`\n *\n * @private\n */\nClassProto._vars = function () {};\n\nexport { ClassProto };\n\n\n\n// WEBPACK FOOTER //\n// ./src/class-proto.babel.js","import { ClassProto } from '../class-proto.babel.js';\n\n/* --------------------- */\n/* The `Tweenable` class */\n/* --------------------- */\n\nconst Super = ClassProto;\nconst Tweenable = Object.create(Super);\n\n/**\n * `init` - lifecycle initialization function.\n *\n * @private\n * @extends @ ClassProto\n */\nTweenable.init = function (o) {\n  Super.init.call(this, o);\n  // proxy all tween public methods to `timeline` with fallback to `tween`\n  const methods = ['play', 'pause', 'stop', 'replay', 'setSpeed', 'reverse', 'setProgress', 'reset', 'setStartTime'];\n  for (let i = 0; i < methods.length; i++) {\n    const method = methods[i];\n    this[method] = (...rest) => {\n      // eslint-disable-next-line no-unused-expressions\n      rest; // otherwise rest arguments got lost\n      (this.timeline || this.tween)[method](...rest);\n    };\n  }\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Tweenable);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Tweenable;\n\nexport { wrap as Tweenable };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tweenable.babel.js","import { ClassProto } from '../class-proto.babel.js';\nimport { tweenDefaults } from './tween-defaults.babel.js';\nimport { tweener } from './tweener.babel.js';\nimport { parseEasing } from '../easing/parse-easing.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\n\n/* ------------------ */\n/* The `Tween` class  */\n/* ------------------ */\n\nconst Tween = Object.create(ClassProto);\n/**\n * _declareDefaults - function to declare `_defaults` object.\n *\n * @private\n * @override ClassProto\n */\nTween._declareDefaults = function () {\n  this._defaults = { ...tweenDefaults };\n};\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * play - function to `play` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.play = function () {\n  if (this._state === 'play') {\n    return this;\n  }\n\n  this._setState('play');\n  this._setupPlay();\n\n  this._playTime = performance.now();\n  this._speed = this._props.speed;\n\n  return this;\n};\n\n/**\n * pause - function to `pause` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.pause = function () {\n  if (this._state === 'pause' || this._state === 'stop') { return this; }\n\n  tweener.remove(this);\n  this._setState('pause');\n  // reset speed variable to `1` because speed should not be applied\n  // when setProgress is used\n  this._speed = 1;\n\n  return this;\n};\n\n/*\n * stop - function to stop the tween.\n *\n * @public\n * @param {Number} Progress to stop with in [0...1]\n * @returns {Object} This tween.\n */\nTween.stop = function (progress) {\n  if (this._state === 'stop') { return this; }\n  const newProgress = (this._props.isReverse === true) ? 1 : 0;\n\n  const stopProc = (progress !== undefined)\n    ? progress\n    /* if no progress passed - set 1 if tween\n       is playingBackward, otherwise set to 0 */\n    : newProgress;\n\n  this.setProgress(stopProc);\n  this.reset();\n\n  return this;\n};\n\n/**\n * play - function to `replay`(`retart`) the tween.\n *\n * @public\n * @param {Number} Repeat count.\n * @returns {Object} This tween.\n */\nTween.replay = function (repeat) {\n  this.reset();\n  this.play(repeat);\n\n  return this;\n};\n\n/**\n * setSpeed - function to set speed.\n *\n * @public\n * @param {Number} Speed in [0..]\n * @return {Object} This tween.\n */\nTween.setSpeed = function (speed) {\n  this._props.speed = speed;\n\n  if (this._state === 'play') {\n    this.setStartTime();\n    this._speed = speed;\n    this._playTime = performance.now();\n  }\n\n  return this;\n};\n\n/**\n * reverse - function to `reverse` the tween.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween.reverse = function () {\n  this._props.isReverse = !this._props.isReverse;\n  // reverse callbacks in the `_cbs`\n  this._reverseCallbacks();\n\n  if (this._elapsed > 0) {\n    const { delay } = this._props;\n    this._elapsed = (this._end - this._spot) - (this._elapsed - delay);\n  }\n\n  this.setStartTime();\n\n  return this;\n};\n\n/**\n * setProgress - function to set tween progress.\n *\n * @public\n * @param {Number} Progress to set.\n * @return {Object} This tween.\n */\nTween.setProgress = function (progress = 0) {\n  if (this._start === undefined) {\n    this.setStartTime();\n  }\n\n  const time = (progress === 1)\n    ? this._end : this._spot + (progress * (this._end - this._spot));\n\n  // set initial time\n  if (this._prevTime === undefined) {\n    this._prevTime = this._start;\n  }\n  // save speed before updating form `setProgress`\n  const speed = this._speed;\n  this._speed = 1;\n  // update with current time\n  this.update(time);\n  // restore speed after updating form `setProgress`\n  this._speed = speed;\n\n  return this;\n};\n\n/**\n * reset - function to reset the `Tween`.\n */\nTween.reset = function () {\n  tweener.remove(this);\n  this._isActive = false;\n  this._elapsed = 0;\n  this._repeatCount = 0;\n  this._setState('stop');\n  delete this._prevTime;\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * _setupPlay - function to setup before `play`.\n *\n * @public\n * @returns {Object} This tween.\n */\nTween._setupPlay = function () {\n  this.setStartTime();\n  tweener.add(this);\n};\n\n/**\n * _vars - function do declare `variables` after `_defaults` were extended\n *         by `options` and saved to `_props`\n *\n * @return {type}  description\n */\nTween._vars = function () {\n  const {\n    isReverse,\n    onStart,\n    onComplete,\n    onChimeIn,\n    onChimeOut,\n    delay,\n    duration,\n  } = this._props;\n  // if tween is in active period\n  this._isActive = false;\n  // time progress\n  this._elapsed = 0;\n  // initial state\n  this._state = 'stop';\n  // set \"id\" speed\n  this._speed = 1;\n  this._time = delay + duration;\n  // how many times we have been repeating\n  this._repeatCount = 0;\n  // callbacks array - used to flip the callbacks order on `isReverse`\n  this._cbs = [onStart, onComplete, 0, 1];\n  // chime callbacks\n  this._chCbs = [onChimeIn, onChimeOut];\n  // if `isReverse` - flip the callbacks\n  if (isReverse === true) {\n    this._reverseCallbacks();\n  }\n};\n\n/**\n * setStartTime - function to set `startTime`\n *\n * @param {Number, Undefined} Start time to set.\n */\nTween.setStartTime = function (startTime = performance.now()) {\n  const { delay, duration, shiftTime } = this._props;\n\n  // if `elapsed` is greated that end bound -> reset it to `0`\n  if (this._elapsed >= (this._end - this._spot)) {\n    this._elapsed = 0;\n  }\n  // `_spot` - is the animation initialization spot\n  // `_elapsed` is how much time elapsed in the `active` period,\n  // needed for `play`/`pause` functionality\n  this._spot = (startTime - this._elapsed) + shiftTime;\n  // play time is needed to recalculate time regarding `speed`\n  this._playTime = this._spot;\n  // `_start` - is the active animation start time bound\n  this._start = this._spot + delay;\n  // `_end` - is the active animation end time bound\n  this._end = this._start + duration;\n};\n\n/**\n * update - function to update `Tween` with current time.\n *\n * @param {Number} The current update time.\n */\nTween.update = function (time) {\n  const { onUpdate, isReverse, easing, backwardEasing } = this._props;\n\n  // `t` - `time` regarding `speed`\n  const t = this._playTime + (this._speed * (time - this._playTime));\n\n  // save elapsed time\n  this._elapsed = t - this._spot;\n\n  // if pregress is not right - call the `onRefresh` function #before\n  if (t < this._start && this._progress !== this._cbs[2]) {\n    this._props.onRefresh(false, this.index, t);\n    this._progress = this._cbs[2];\n  }\n  // if pregress is not right - call the `onRefresh` function #after\n  if (t > this._end && this._progress !== this._cbs[3]) {\n    this._props.onRefresh(true, this.index, t);\n    this._progress = this._cbs[3];\n  }\n\n  // if forward progress\n  const isForward = t > this._prevTime;\n  const ease = (isForward !== isReverse) ? easing : backwardEasing;\n\n  if (t >= this._start && t <= this._end && this._prevTime !== undefined) {\n    let isActive;\n    const p = (t - this._start) / this._props.duration;\n    this._progress = isReverse === false ? p : 1 - p;\n    onUpdate(ease(this._progress), this._progress, isForward, t);\n\n    if (t > this._start && this._isActive === false && isForward === true) {\n      // `onStart`\n      this._cbs[0](isForward, isReverse, this.index);\n      // `onChimeIn`\n      this._chCbs[0](isForward, isReverse, this.index, t);\n    }\n\n    if (t === this._start) {\n      // `onStart`\n      this._cbs[0](isForward, isReverse, this.index);\n      // `onChimeIn`\n      this._chCbs[0](isForward, isReverse, this.index, t);\n      // set `isActive` to `true` for forward direction\n      // but set it to `false` for backward\n      isActive = isForward;\n    }\n\n    if (t < this._end && this._isActive === false && isForward === false) {\n      // `onComplete`\n      this._cbs[1](false, isReverse, this.index);\n      // `onChimeOut`\n      this._chCbs[1](isForward, isReverse, this.index, t);\n    }\n\n    if (t === this._end) {\n      // `onComplete`\n      this._cbs[1](isForward, isReverse, this.index);\n      // `onChimeOut`\n      this._chCbs[1](isForward, isReverse, this.index, t);\n      // set `isActive` to `false` for forward direction\n      // but set it to `true` for backward\n      isActive = !isForward;\n    }\n\n    this._isActive = (isActive === undefined) ? true : isActive;\n\n    this._prevTime = t;\n\n    return !this._isActive;\n  }\n\n  if (t > this._end && this._isActive === true) {\n    this._progress = this._cbs[3];\n    // one\n    onUpdate(ease(this._progress), this._progress, isForward, t);\n    // `onComplete`\n    this._cbs[1](isForward, isReverse, this.index);\n    // `onChimeOut`\n    this._chCbs[1](isForward, isReverse, this.index, t);\n    this._isActive = false;\n    this._prevTime = t;\n    return true;\n  }\n\n  if (t < this._start && this._isActive === true) {\n    this._progress = this._cbs[2];\n    // zero\n    onUpdate(ease(this._progress), this._progress, isForward, t);\n    // `onStart`\n    this._cbs[0](isForward, isReverse, this.index);\n    // `onChimeIn`\n    this._chCbs[0](isForward, isReverse, this.index, t);\n\n    this._isActive = false;\n    this._prevTime = t;\n\n    return true;\n  }\n\n  this._prevTime = t;\n};\n\n/**\n * Function to reverse callbacks.\n */\nTween._reverseCallbacks = function () {\n  this._cbs = [this._cbs[1], this._cbs[0], this._cbs[3], this._cbs[2]];\n};\n\n/*\n * Method set playback `_state` string and call appropriate callbacks.\n *\n * @private\n * @param {String} State name [play, pause, 'stop', 'reverse']\n */\nTween._setState = function (state) {\n  // save previous state\n  this._prevState = this._state;\n  this._state = state;\n  // callbacks\n  const wasPause = this._prevState === 'pause';\n  const wasStop = this._prevState === 'stop';\n  const wasPlay = this._prevState === 'play';\n  const wasReverse = this._prevState === 'reverse';\n  const wasPlaying = wasPlay || wasReverse;\n  const wasStill = wasStop || wasPause;\n\n  if ((state === 'play' || state === 'reverse') && wasStill) {\n    this._props.onPlaybackStart(state, this._prevState);\n  }\n  if (state === 'pause' && wasPlaying) {\n    this._props.onPlaybackPause();\n  }\n  if (state === 'stop' && (wasPlaying || wasPause)) {\n    this._props.onPlaybackStop();\n  }\n};\n\n/**\n * onTweenerFinish - function that is called when the tweeener finished\n *                   playback for this tween and removemd it from the queue\n *\n */\nTween.onTweenerFinish = function () {\n  const { isReverse, repeat, isReverseOnRepeat, onPlaybackComplete } = this._props;\n  const count = this._repeatCount;\n\n  onPlaybackComplete(!isReverse, count, repeat - count);\n\n  this.reset();\n\n  if (repeat - count > 0) {\n    let value = isReverseOnRepeat;\n    // if `value` is `array`, parse it\n    value = (isReverseOnRepeat instanceof Array) ? value[count % value.length] : value;\n    // if `value` is `function`, parse it\n    if (typeof value === 'function') { value = value(count); }\n    if (value) {\n      this.reverse();\n    }\n\n    this._repeatCount = count + 1;\n    this.play();\n  }\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n * @overrides @ ClassProto\n */\nTween._extendDefaults = function () {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // parse stagger\n  const propsKeys = Object.keys(this._props);\n  for (let i = 0; i < propsKeys.length; i++) {\n    const key = propsKeys[i];\n    this._props[key] = staggerProperty(this._props[key], this.index);\n  }\n  // parse `easing`\n  this._props.easing = parseEasing(this._props.easing);\n  // parse `backwardEasing`, fallback to `easing` if\n  // `backwardEasing` is `null`/`undefined`\n  const { easing, backwardEasing } = this._props;\n  this._props.backwardEasing = (backwardEasing != null)\n                                ? parseEasing(backwardEasing) : easing;\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Tween);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Tween;\n\nexport { wrap as Tween };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tween.babel.js","import { unitRegexp } from './unit-regexp.babel.js';\n\n/**\n * `parseUnitValue` - function to parse a string with unit e.g. `10%`.\n * @param {String, Number, Any} value Value to parse.\n * @param {String} defaultUnit Default unit to fallback to.\n * @returns {Object} Parsed unit object.\n */\nexport const parseUnitValue = (value, defaultUnit) => {\n  const result = {\n    unit: defaultUnit,\n    value,\n  };\n\n  if (typeof value === 'string') {\n    const match = value.match(unitRegexp);\n\n    result.unit = (match === null || match === undefined) ? defaultUnit : match[0];\n    result.value = parseFloat(value);\n  }\n\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-unit-value.babel.js","import {\n  defaultEasing,\n  defaultEasingString,\n  consoleName,\n} from '../constants.babel.js';\n\nimport { easing } from './easing.babel.js';\nimport { path } from './path.babel.js';\n\n/**\n * parseEasing - function to parse all easing values to a function.\n *\n * @param  {String, Function, Array} Easing representation.\n * @return {Function} Parsed Easing.\n */\nconst parseEasing = (ease = defaultEasingString) => {\n  const type = typeof ease;\n\n  switch (type) {\n    case 'function': {\n      return ease;\n    }\n    case 'string': {\n      // path easing\n      if (ease[0].toLowerCase() === 'm') {\n        return path(ease);\n      }\n\n      ease = ease.toLowerCase().split('.');\n      const easeParent = easing[ease[0]];\n\n      if (!easeParent) {\n        console.error(`${consoleName} Easing with name \"${ease[0]}\" wasn't found, fallback to \"${defaultEasingString}\" instead.`, easing); // eslint-disable-line no-console\n\n        return easing[defaultEasing[0]][defaultEasing[1]];\n      }\n      return easeParent[ease[1]];\n    }\n    default:\n      console.error(`${consoleName} Only strings and function supported atm.`, ease); // eslint-disable-line no-console\n\n    // // comming soon:\n    // //   - if array passed - parse as `bezier` function\n    // // ---\n    // case 'object' {\n    //   if (easing instanceof Array) {\n    //     return this.bezier.apply(this, easing);\n    //   } else {\n    //     console.error(\n    //       `:mojs: Failed to parse easing value of `,\n    //       easing,\n    //       ` fallback to \"linear.none\" instead`\n    //     );\n    //     return easing[defaultEasing[0]][defaultEasing[1]];\n    //   }\n    // }\n  }\n};\n\nexport { parseEasing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/parse-easing.babel.js","import { tweenDefaults } from '../tween/tween-defaults.babel.js';\n\n/**\n * Function to split the delta object to `tween` options and actual `delta`.\n *\n * @param {Object} Object to split.\n * @returns {Object} Split `delta`.\n */\nconst separateTweenOptions = (object) => {\n  let tweenOptions;\n  const defaultKeys = Object.keys(tweenDefaults);\n  for (let i = 0; i < defaultKeys.length; i++) {\n    const option = defaultKeys[i];\n\n    if (object[option] !== undefined) {\n      tweenOptions = tweenOptions || {};\n      tweenOptions[option] = object[option];\n      delete object[option];\n    }\n  }\n\n  return tweenOptions;\n};\n\nexport { separateTweenOptions };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/separate-tween-options.babel.js","/**\n * `staggerFunction` - function to mark another function as `stagger` one.\n * @param {Function} fun Function to mark as `stagger` function.\n * @returns {Function} Newly created function that is marked as stagger\n *                     and will call the original one.\n */\nexport const staggerFunction = (fun) => {\n  const newFunction = function (...args) {\n    return fun(...args);\n  };\n  newFunction.__mojs__isStaggerFunction = true;\n  // return the new function\n  return newFunction;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-function.babel.js","import { parseUnitValue } from '../helpers/parse-unit-value.babel.js';\n\n/**\n * `rand` - function to generate random `float` number in range.\n * @param {Number} min Min bound.\n * @param {Number} max Max bound.\n * @return {Number} Random `float` number in range.\n */\nexport const randFloat = (min = 0, max = 10) => {\n  // parse units\n  const minUnitValue = parseUnitValue(min);\n  const maxUnitValue = parseUnitValue(max);\n  const minNumber = parseFloat(min);\n  const maxNumber = parseFloat(max);\n  // decide what is the result unit, the `base` one is top priority\n  const resultUnit = (maxUnitValue.unit !== undefined)\n        ? maxUnitValue.unit\n        : minUnitValue.unit;\n\n  const resultNumber = minNumber + (Math.random() * (maxNumber - minNumber));\n\n  return (resultUnit)\n      ? `${resultNumber}${resultUnit}`\n      : resultNumber;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/rand-float.babel.js","/**\n * The regexp intended to parse all `units` supported.\n */\nconst unitRegexp = /px|%|rem|em|ex|cm|ch|mm|in|pt|pc|vh|vw|vmin|deg|fr/gim;\n\nexport { unitRegexp };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/unit-regexp.babel.js","/**\n * `getRadialPoint` - function to get a point on imaginary circle\n *                    with provided parameters.\n *\n * `Note:` This function is explicetely recieves a target object to set\n *         the result on, this was made because producing a lot of\n *          new return objects on every animation frame will cause GC issues.\n *\n * @param {Number} centerX Circle's center `x` coordinate.\n * @param {Number} centerY Circle's center `y` coordinate.\n * @param {Number} radius Circle's radius.\n * @param {Number} angle Angle of a line from center to a point.\n * @param {Object} target Object to set the result on.\n */\nexport const getRadialPoint = (centerX, centerY, radius, angle, target) => {\n  const radAngle = (angle - 90) * 0.017453292519943295; // Math.PI / 180\n  target.x = centerX + (Math.cos(radAngle) * radius);\n  target.y = centerY + (Math.sin(radAngle) * radius);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/get-radial-point.babel.js","import { Tween } from '../tween/tween.babel.js';\nimport { Timeline } from '../tween/timeline.babel.js';\nimport { Tweenable } from '../tween/tweenable.babel.js';\nimport { Delta } from './delta.babel.js';\nimport { separateTweenOptions } from './separate-tween-options.babel.js';\nimport { parseStaticProperty } from '../helpers/parse-static-property.babel.js';\n// TODO: should point to MotionPath stub\nimport { MotionPath } from './motion-path.babel.js';\n\n/* ------------------- */\n/* The `Deltas` class  */\n/* ------------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Deltas = Object.create(Super);\n\n/**\n * `init` - function init the class.\n *\n * @extends @Tweenable\n * @public\n */\nDeltas.init = function (o = {}) {\n  // super call\n  Super.init.call(this, o);\n  // clone the options\n  const options = { ...o };\n  // get `timeline` options and remove them immediately\n  const timelineOptions = options.timeline;\n  delete options.timeline;\n\n  // get `customProperties` options and remove them immediately\n  this._customProperties = options.customProperties || {};\n  this._render = this._customProperties.render || (() => {});\n  this._pipeObj = this._customProperties.pipeObj || {};\n  delete options.customProperties;\n\n  // save the el object and remove it immediately\n  this._el = options.el || {};\n  delete options.el;\n  delete options.parent; // TODO: cover!\n  // create support object for complex properties\n  this._supportProps = {};\n  // set up the main `tween`\n  this._setupTween(options);\n  // set up the `timeline`\n  this._setupTimeline(timelineOptions);\n  // parse deltas from options that left so far\n  this._parseProperties(options);\n};\n\n/**\n * `_setupTween` - function to set up main tween.\n *\n * @param {Object} Options.\n */\nDeltas._setupTween = function (options) {\n  // separate main tween options\n  const tweenOptions = separateTweenOptions(options) || {};\n  // create tween\n  this.tween = new Tween({\n    ...tweenOptions,\n    // update plain deltas on update\n    // and call the previous `onUpdate` if present\n    onUpdate: (ep, p, isForward) => {\n      // update plain deltas\n      this._upd_deltas(ep, p, isForward);\n      // envoke onUpdate if present\n      if (tweenOptions.onUpdate !== undefined) {\n        tweenOptions.onUpdate(ep, p, isForward);\n      }\n    },\n  });\n};\n\n/**\n * `_setupTimeline` - function to set up main timeline.\n *\n * @param {Object} Timeline options.\n */\nDeltas._setupTimeline = function (options = {}) {\n  const support = {\n    props: this._supportProps,\n    pipeObj: this._pipeObj,\n  };\n\n  this.timeline = new Timeline({\n    ...options,\n    onUpdate: (ep, p, isForward) => {\n      // call render function\n      this._render(this._el, support, ep, p, isForward);\n      // envoke onUpdate if present\n      if (options.onUpdate !== undefined) {\n        options.onUpdate(ep, p, isForward);\n      }\n    },\n  });\n  this.timeline.add(this.tween);\n};\n\n/**\n * `_parseProperties` - function to parse deltas and static properties.\n *\n * @param {Object} Options.\n */\nDeltas._parseProperties = function (options) {\n  // deltas that have tween\n  this._tweenDeltas = [];\n  // deltas that don't have tween\n  this._plainDeltas = [];\n  // static properties\n  this._staticProps = {};\n  const optionsKeys = Object.keys(options);\n  // loop thru options and create deltas with objects\n  for (let i = 0; i < optionsKeys.length; i++) {\n    const key = optionsKeys[i];\n    const value = options[key];\n    // if value is tatic save it to static props\n    if (typeof value !== 'object') {\n      // find out property `el`, it can be `supportProps` if the `isSkipRender`\n      // is set for the property in the `customProperties`\n      const custom = this._customProperties[key];\n      const target = (custom && custom.isSkipRender)\n        ? this._supportProps\n        : this._el;\n\n      const property = parseStaticProperty(\n        key,\n        value,\n        this._customProperties,\n        this.index,\n        this._totalItemsInStagger,\n      );\n      this._staticProps[key] = property;\n      target[key] = property;\n      continue;\n    }\n\n    // check the delta type\n    let delta;\n    if (value.path !== undefined) {\n      delta = new MotionPath({\n        el: this._el,\n        ...value,\n        supportProps: this._supportProps,\n        customProperties: this._customProperties,\n        unit: value.unit,\n        property: key,\n        index: this.index,\n      });\n    } else {\n      // if value is not motion path, create delta object\n      delta = new Delta({\n        key,\n        target: this._el,\n        supportProps: this._supportProps,\n        object: value,\n        customProperties: this._customProperties,\n        index: this.index,\n      });\n    }\n\n    // check if delta has own tween and add to `_tweenDeltas`\n    if (delta.tween) {\n      this._tweenDeltas.push(delta);\n    // else add to plain deltas\n    } else {\n      this._plainDeltas.push(delta);\n    }\n  }\n  // add tween deltas to the timeline\n  this.timeline.add(this._tweenDeltas);\n};\n\n/**\n * `_upd_deltas` - function to update the plain deltas.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDeltas._upd_deltas = function (ep, p, isForward) {\n  // update plain deltas\n  for (let i = 0; i < this._plainDeltas.length; i++) {\n    this._plainDeltas[i].update(ep, p, isForward);\n  }\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Deltas);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Deltas;\n\nexport { wrap as Deltas };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/deltas.babel.js","const tweenDefaults = {\n  // delay of the tween [-..]\n  delay: 0,\n  // duration of the tween [0..]\n  duration: 350,\n  // speed of playback [0..], speed that is less then 1\n  // will slowdown playback, for instance .5 will make tween\n  // run 2x slower. Speed of 2 will speedup the tween to 2x.\n  speed: 1,\n  // easing for the tween, could be any easing type\n  easing: 'Sin.Out',\n  // Easing for backward direction of the tweenthe tween,\n  // if `null` - fallbacks to `easing` property.\n  // forward direction in `yoyo` period is treated as backward for the easing.\n  backwardEasing: null,\n  // if should reverse the tween\n  isReverse: false,\n  // how many times repeat the tween (excluding the first run)\n  repeat: 0,\n  // if should `reverse` before repeating\n  isReverseOnRepeat: false,\n  // `onUpdate` callback is called on every animation frame\n  onUpdate(ep, p, isForward) {}, // eslint-disable-line no-unused-vars\n  /*\n    onStart callback runs on very start of the tween just after onProgress\n    one. Runs on very end of the tween if tween is reversed.\n    @param {Boolean}  Direction of the tween.\n                      `true` for forward direction.\n                      `false` for backward direction(tween runs in reverse).\n  */\n  onStart() {},\n  onComplete() {},\n  // `onChimeIn` is invoked when the `Tween` becomes active\n  // kind of like `onStart` but regardless `isReverse` option\n  onChimeIn() {},\n  // `onChimeOut` is invoked when the `Tween` becomes active\n  // kind of like `onComplete` but regardless `isReverse` option\n  onChimeOut() {},\n  // onRefresh - callback is called when progress runs over the `_end` time\n  // and then suddenly goes before the `_start` time. Indecates that\n  // progress (1) should be refreshed to (0), or vice versa.\n  // @param {Boolean} isForward\n  //                    - `true` if skipped in forward direction\n  //                    - `false` if skipped in backward direction\n  onRefresh() {},\n  // playback callbacks, these fire only when\n  // `play`, `replay`, `playBackward`, `replayBackward` called\n  onPlaybackStart() {},\n  onPlaybackPause() {},\n  onPlaybackStop() {},\n  onPlaybackComplete() {},\n  // tween index\n  index: 0,\n  // shift time - mostly needed for timeline\n  shiftTime: 0,\n};\n\nexport { tweenDefaults };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tween-defaults.babel.js","import { ClassProto } from '../class-proto.babel.js';\nimport { Tween } from '../tween/tween.babel.js';\nimport { splitDelta } from './split-delta.babel.js';\nimport { parseNumber } from './parse-number.babel.js';\nimport { parseUnit } from './parse-unit.babel.js';\nimport { parseColor } from './parse-color.babel.js';\nimport { unitRegexp } from '../helpers/unit-regexp.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\nimport { makeColorObject } from '../helpers/make-color-object.babel.js';\n\n/*\n  TODO:\n    - rename `target` to `el`\n*/\n\n// map that holds all available parsers\nconst parsersMap = {\n  number: parseNumber,\n  unit: parseUnit,\n  color: parseColor,\n};\n\n/* ------------------ */\n/* The `Delta` class  */\n/* ------------------ */\n\nconst Delta = Object.create(ClassProto);\n\n/**\n * `init` - function init the class.\n *\n * @extends @ClassProto\n * @public\n */\nDelta.init = function (o = {}) {\n  // super call\n  ClassProto.init.call(this, o);\n  // save target\n  const { target, supportProps, customProperties = {}, key } = this._props;\n  // if the `isSkipRender` property is set, set the property on\n  // `supportProps` otherwise set is as ususal on the `target` object\n  this._target = (customProperties[key] && customProperties[key].isSkipRender)\n    ? supportProps : target;\n  // parse delta\n  this._parseDelta();\n  // set up the update function acording to the delta type\n  this.update = this[`_upd_${this._delta.type}`];\n  // set up the tween\n  this._setupTween();\n};\n\n/**\n * `_upd_number` - function to update `number` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_number = function (ep, p) {\n  const { curve, delta, start } = this._delta;\n  const { key } = this._props;\n\n  this._target[key] = (curve === undefined)\n    ? start + (ep * delta)\n    : (curve(p) * start) + (p * delta);\n\n  return this;\n};\n\n/**\n * `_upd_unit` - function to update `unit` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_unit = function (ep, p) {\n  const { curve, delta, start, unit } = this._delta;\n  const { key } = this._props;\n\n  const value = (curve === undefined)\n    ? start + (ep * delta)\n    : (curve(p) * start) + (p * delta);\n\n  this._target[key] = `${value}${unit}`;\n\n  return this;\n};\n\n/**\n * `_upd_color` - function to update `color` delta.\n *\n * @private\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If forward update direction.\n * @returns {Object} This delta.\n */\nDelta._upd_color = function (ep, p) {\n  const { curve, delta, start } = this._delta;\n  const { key } = this._props;\n\n  if (curve === undefined) {\n    const r = start.r + (ep * delta.r);\n    const g = start.g + (ep * delta.g);\n    const b = start.b + (ep * delta.b);\n    const a = start.a + (ep * delta.a);\n    this._target[key] = `rgba(${r | 0}, ${g | 0}, ${b | 0}, ${a})`;\n  } else {\n    const curveP = curve(p);\n    const r = (curveP * start.r) + (p * delta.r);\n    const g = (curveP * start.g) + (p * delta.g);\n    const b = (curveP * start.b) + (p * delta.b);\n    const a = (curveP * start.a) + (p * delta.a);\n    this._target[key] = `rgba(${r | 0}, ${g | 0}, ${b | 0}, ${a})`;\n  }\n\n  return this;\n};\n\n/**\n * `_setupTween` - function to set up tween if needed.\n */\nDelta._setupTween = function () {\n  const { tweenOptions } = this._delta;\n  // set up tween if `tweenOptions` is set\n  if (tweenOptions === undefined) { return; }\n\n  // create tween with tween options\n  this.tween = new Tween({\n    index: this.index,\n    ...tweenOptions,\n    // send `onUpdate` function to call the `this.update` function\n    // and envoke previous `onUpdate`\n    onUpdate: (ep, p, isForward) => {\n      this.update(ep, p, isForward);\n      // envoke old `onUpdate` if is present\n      if (tweenOptions.onUpdate !== undefined) {\n        tweenOptions.onUpdate(ep, p, isForward);\n      }\n    },\n  });\n};\n\n/**\n * `_declareDefaults` - function to declare defaults.\n *\n * @extends @ClassProto\n * @private\n */\nDelta._declareDefaults = function () {\n  this._defaults = {\n    key: null,\n    object: null,\n    customProperties: {},\n    target: null,\n    supportProps: null,\n  };\n};\n\n/**\n * `_parseDelta` - function to parse delta.\n *\n * @private\n */\nDelta._parseDelta = function () {\n  const { key, customProperties } = this._props;\n  const record = customProperties[key];\n\n  return (record != null && record.type != null)\n      ? this._parseByCustom()\n      : this._parseByGuess();\n};\n\n/**\n * `_parseByGuess` - function to parse delta by guess.\n *\n * @private\n */\nDelta._parseByGuess = function () {\n  const { key, object } = this._props;\n  const split = this._getSplit(object);\n  // try to parse `start`/`end` as colors first, if ok - this is a color delta\n  const startColor = makeColorObject(split.start);\n  const endColor = makeColorObject(split.end);\n  if (!startColor.isError && !endColor.isError) {\n    this._delta = parseColor(key, split);\n    return;\n  }\n  // conver the delta properties to string and check if unit is present\n  const isUnit = `${split.start}`.match(unitRegexp) ||\n                 `${split.end}`.toString().match(unitRegexp);\n  // parse regarding unit presence\n  const parseType = (isUnit) ? 'unit' : 'number';\n  this._delta = parsersMap[parseType](key, split);\n};\n\n/**\n * `_parseByCustom` - function to parse delta with help of customProperties.\n *\n * @private\n */\nDelta._parseByCustom = function () {\n  const { key, object, customProperties } = this._props;\n\n  const customProperty = customProperties[key];\n  const { type } = customProperty;\n\n  this._delta = parsersMap[type](key, this._getSplit(object));\n};\n\n/**\n * `_getSplit` - function to get options split\n *               and parse `stagger` in `start`/`end` properties.\n *\n * @param {Object} Object to split.\n * @return {Object} Split.\n */\nDelta._getSplit = function (object) {\n  const split = splitDelta(object);\n  // parse the `stagger` in `start`/`end` delta properties\n  split.start = staggerProperty(split.start, this.index, this._totalItemsInStagger);\n  split.end = staggerProperty(split.end, this.index, this._totalItemsInStagger);\n\n  return split;\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Delta);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Delta;\n\nexport { wrap as Delta };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/delta.babel.js","import { div } from './div.babel.js';\n\n/**\n * `normalizeHex` - Function to normalize part of a HEX color to FF format,\n *                  if one character passed, return doubled version of it.\n *\n * @param {Steing} Color part to normalize.\n * @param {Steing} Normalized part of a color.\n */\nconst normalizeHex = (string) => { // eslint-disable-line arrow-body-style\n  return (string.length === 2) ? string : string + string;\n};\n\n/**\n * `parseHEXColor` - function to parse #HEX colors.\n */\nconst parseHEXColor = (color) => {\n  const result = /^#?([a-f\\d]{1,2})([a-f\\d]{1,2})([a-f\\d]{1,2})$/i.exec(color);\n  if (result) {\n    return {\n      r: parseInt(normalizeHex(result[1]), 16),\n      g: parseInt(normalizeHex(result[2]), 16),\n      b: parseInt(normalizeHex(result[3]), 16),\n      a: 1,\n    };\n  }\n};\n\n/**\n * Function to parse a color string to color object.\n *\n * @param {String} String to parse.\n * @returns {Object} Color object.\n */\nconst makeColorObject = (color) => {\n  const originColor = color;\n  // #HEX\n  if (color[0] === '#') {\n    return parseHEXColor(color);\n  }\n\n  const isRgb = (color[0] === 'r' && color[1] === 'g' && color[2] === 'b');\n  // if color is not `rgb`, it is a shortcut (`cyan`, `hotpink` etc)\n  // so we need to set the color on DOM element and get the calculated color\n  if (!isRgb) {\n    div.style.color = 'black';\n    div.style.color = color;\n    color = window.getComputedStyle(div).color;\n  }\n\n  // parse `rgb` color\n  const regexString1 = '^rgba?\\\\((\\\\d{1,3}),\\\\s?(\\\\d{1,3}),';\n  const regexString2 = '\\\\s?(\\\\d{1,3}),?\\\\s?(\\\\d{1}|0?\\\\.\\\\d{1,})?\\\\)$';\n  const result = new RegExp(regexString1 + regexString2, 'gi').exec(color);\n  const a = parseFloat(result[4] || 1);\n\n  if (result) {\n    const r = parseInt(result[1], 10);\n    const g = parseInt(result[2], 10);\n    const b = parseInt(result[3], 10);\n    // if origin color was not black but black\n    // returned from the DOM - that's an error\n    return (originColor !== 'black' && r === 0 && g === 0 && b === 0 && a === 1)\n      ? { isError: true } : { r, g, b, a };\n  }\n\n  return {\n    isError: true,\n  };\n};\n\nexport { makeColorObject };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/make-color-object.babel.js","import { Tween } from './tween.babel.js';\n\n// TODO:\n//  - add `onRefresh` that will call all the child items.\n\n/* --------------------- */\n/* The `Timeline` class  */\n/* --------------------- */\n\nconst Super = Tween.__mojsClass;\nconst Timeline = Object.create(Super);\n\n/**\n * _declareDefaults - function do override some defaults.\n *\n * @overrides @ Tween\n * @private\n */\nTimeline._declareDefaults = function () {\n  // super call\n  Super._declareDefaults.call(this);\n  // reset `duration` to `0` because user cannot set duration of a Timeline -\n  // it is calculated automatically regarding child timelines durations\n  // this._defaults.duration = 0;\n  // reset the `easing` since timeline should not have easing by default\n  this._defaults.easing = 'linear.none';\n};\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * add - function to add `Tween` to the timeline.\n *\n * @public\n * @param   {Object, Array} A tween or array of tweens to add.\n * @param   {Number} Time shift >= 0.\n * @returns {Object} Self.\n */\nTimeline.add = function (tween, shift = 0) {\n  // make sure the shift is positive\n  shift = Math.abs(shift);\n  // if tween is really an array of tweens,\n  // loop thru them and add one by one\n  if (tween instanceof Array) {\n    tween.forEach((tw) => { this.add(tw, shift); });\n  // if a single tween, add it to `_items`\n  } else {\n    // if it has child `timeline` or `tween` property - add it instead\n    const runner = tween.timeline || tween.tween;\n    if (runner) { tween = runner; }\n    // set the `shiftTime` on tween\n    tween.set('shiftTime', shift);\n    // add to child timelines\n    this._items.push(tween);\n    // check if we need to increase timeline's bound\n    const { delay, duration, shiftTime } = tween._props;\n    const time = delay + duration + shiftTime;\n    this._props.duration = Math.max(this._props.duration, time);\n  }\n\n  return this;\n};\n\n/**\n * append - function to append `Tween` to the timeline.\n *\n * @public\n * @param   {Object, Array} A tween or array of tweens to append.\n * @param   {Number} Time shift >= 0.\n * @returns {Object} Self.\n */\nTimeline.append = function (tween, shift = 0) {\n  // add the tweens shifting them to the current `duration`\n  this.add(tween, this._props.duration + Math.abs(shift));\n\n  return this;\n};\n\n/**\n * stop - function to stop the Timeline.\n *\n * @public\n * @param   {Number} Progress [0..1] to set when stopped.\n * @returns {Object} Self.\n */\nTimeline.stop = function (progress) {\n  Super.stop.call(this, progress);\n\n  for (let i = this._items.length - 1; i >= 0; i--) {\n    this._items[i].stop(progress);\n  }\n\n  return this;\n};\n\n/**\n * reset - function to reset tween's state and properties.\n *\n * @public\n * @overrides @ Tween\n * @returns this.\n */\nTimeline.reset = function () {\n  Super.reset.call(this);\n  this._callOnItems('reset');\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * setStartTime - function to set the start tme for the the Timeline.\n *\n * @extends @ Tween\n * @public\n *\n * @param  {Number} Start time.\n */\nTimeline.setStartTime = function (time) {\n  Super.setStartTime.call(this, time);\n  this._callOnItems('setStartTime', this._start);\n\n  return this;\n};\n\n/**\n * Timeline - function to call a function on all child items.\n *\n * @param  {String} `name` Function name.\n * @param  {Arrag} args All other arguments.\n */\nTimeline._callOnItems = function (name, ...args) {\n  for (let i = 0; i < this._items.length; i++) {\n    this._items[i][name](...args);\n  }\n};\n\n/**\n * _createUpdate - function constructor to update the Timeline and child items.\n *\n * @private\n * @param {Function} `onUpdate` callback from passed options.\n * @param {Object} Instance.\n */\nTimeline._createUpdate = function (onUpdate, context) {\n  /**\n   * _createUpdate - function constructor to update the Timeline and child items.\n   *\n   * @private\n   * @param {Number} Eased progress [0...1].\n   * @param {Number} Progress [0...1].\n   * @param {Boolean} If forward or backward direction.\n   * @param {Number} Update time.\n   */\n  return function (ep, p, isForward, time) {\n    // 1. the order is important\n    for (let i = 0; i < context._items.length; i++) {\n      context._items[i].update(time);\n    }\n    // 2. the order is important\n    onUpdate(ep, p, isForward, time);\n  };\n};\n\n/**\n * _vars - declare vars.\n *\n * @extends @ Tween\n * @private\n */\nTimeline._vars = function () {\n  Super._vars.call(this);\n  // child `timelines`\n  this._items = [];\n  // reset the duraton because timeline cannot have it\n  this._props.duration = 0;\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @overrides @ Tween\n * @private\n */\nTimeline._extendDefaults = function () {\n  // super call\n  Super._extendDefaults.call(this);\n  // save the `onUpdate` callback\n  this._onUpdate = this._props.onUpdate;\n  // redefine the `onUpdate` callback to `_createUpdate` function\n  this._props.onUpdate = this._createUpdate(this._onUpdate, this);\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Timeline);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Timeline;\n\nexport { wrap as Timeline };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/timeline.babel.js","import { randFloat } from './rand-float.babel.js';\nimport { parseUnitValue } from '../helpers/parse-unit-value.babel.js';\n\n/**\n * `rand` - function to generate random `integer` number in range.\n * @param {Number} min Min bound.\n * @param {Number} max Max bound.\n * @return {Number} Random `integer` number in range.\n */\nexport const rand = (min = 0, max = 10) => {\n  const randomFloat = randFloat(min, max);\n  const resultUnit = parseUnitValue(randomFloat);\n  const resultNumber = Math.round(parseFloat(randomFloat));\n\n  return (resultUnit.unit)\n      ? `${resultNumber}${resultUnit.unit}`\n      : resultNumber;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/rand.babel.js","// TODO: think about test coverage\nimport { parseEasing } from '../easing/parse-easing.babel.js';\nimport { getRadialPoint } from './get-radial-point.babel.js';\n\nconst defaults = {\n  xEasing: 'cubic.in',\n  yEasing: 'linear.none',\n  count: 2,\n  length: 100,\n  depth: .25,\n  x: 0,\n  y: 0,\n  angle: 90,\n  startOffset: 0,\n  direction: true,\n  isGrow: 1,\n  // stagger properties:\n  index: 0,\n  total: 1,\n};\n\nconst getValue = (value, index, total) => {\n  return (typeof value === 'function') ? value(index, total) : value;\n};\n\nexport const generatePath = (options = {}) => {\n  const o = {\n    ...defaults,\n    ...options,\n  };\n\n  const keys = Object.keys(o);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    o[key] = getValue(o[key], o.index, o.total);\n  }\n\n  // parse easing properties\n  o.xEasing = parseEasing(o.xEasing);\n  o.yEasing = parseEasing(o.yEasing);\n  // calculate depth\n  const depth = o.depth * o.length;\n  // util points\n  const point = {};\n  const point1 = {};\n  const point2 = {};\n  const point3 = {};\n  // get the start point\n  getRadialPoint(o.x, o.y, o.startOffset, o.angle, point);\n  // loop util variables\n  const step = 1 / o.count;\n\n  let flip = o.direction;\n\n  let proc = step / 2;\n  let d = `M ${point.x}, ${point.y}`;\n  while (proc <= 1) {\n    const yProc = (o.isGrow) ? proc : 1 - proc;\n    flip = !flip;\n    const yCoef = (flip) ? -1 : 1;\n    // get the next center point\n    getRadialPoint(point.x, point.y, o.xEasing(proc) * o.length, o.angle, point1);\n    // get the curve control point, flip the direction on every segment\n    const curvePointAngle = o.angle + (yCoef * 90);\n    getRadialPoint(point1.x, point1.y, o.yEasing(yProc) * depth, curvePointAngle, point2);\n    // get the next center point\n    getRadialPoint(point.x, point.y, o.xEasing(proc + (step / 2)) * o.length, o.angle, point3);\n    // add the curve - curve point + the next center segment\n    d += ` Q ${point2.x}, ${point2.y} ${point3.x}, ${point3.y} `;\n    // add curve to the path\n    proc += step;\n  }\n\n  return d;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/generate-path.babel.js","const parsePath = (path) => {\n  const domPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  domPath.setAttributeNS(null, 'd', path);\n  return domPath;\n};\n\nconst sample = (path, n) => {\n  const step = 1 / n;\n  const totalLength = path.getTotalLength();\n  // create the samples map and save main properties\n  const samples = [];\n  // samples the path, `key` is in range of [0..1]\n  for (let i = 0; i < n + 1; i++) {\n    const point = path.getPointAtLength(i * step * totalLength);\n    samples[i] = {\n      x: point.x / 100,\n      y: point.y / 100,\n    };\n  }\n\n  return samples;\n};\n\n\nconst findY = (key, samples, n) => {\n  let start = 0;\n  let end = samples.length - 1;\n  const step = 1 / n;\n  // find `start`/`end` bounds with binary search\n  while (Math.abs(end - start) > 1) {\n    const delta = end - start;\n    const middle = start + Math.floor(delta / 2);\n    const value = samples[middle];\n\n    if (key === value.x) { return value.y; }\n    // shift a bound regarding the `value.x` value\n    if (key < value.x) {\n      end = middle;\n    } else {\n      start = middle;\n    }\n  }\n  // when the loop stops - we've found `start` and `end` bounds\n  const value = samples[start];\n  // if key is greate than `start` - normalize it\n  if (key > value.x) {\n    const nextValue = samples[start + 1];\n    if (nextValue !== undefined) {\n      const diff = value.x - key;\n      return value.y - ((nextValue.y - value.y) * (diff / step));\n    }\n  }\n\n  return value.y;\n};\n\nconst translateSamples = (samples, n) => {\n  const map = new Map();\n  const step = 1 / n;\n  // samples the path, `key` is in range of [0..1]\n  for (let i = 0; i < n + 1; i++) {\n    const key = i * step;\n    map.set(key, 1 - findY(key, samples, n));\n  }\n\n  return map;\n};\n\nconst path = (pathCoordinates, n = 200) => {\n  const preSamples = sample(parsePath(pathCoordinates), n);\n  const samples = translateSamples(preSamples, n);\n  const step = 1 / n;\n\n  return (p) => {\n    const index = (p / step) | 0; // convert to integer\n    const key = index * step; // get the key\n    const nextKey = (index + 1) * step; // get the next key\n    let y = samples.get(key); // get the y\n    // if next key is present, calculate the normalized y\n    // regarding the progress error\n    if (nextKey <= 1) {\n      const nextY = samples.get(nextKey);\n      y += (nextY - y) * ((p - key) / step);\n    }\n\n    return y;\n  };\n};\n\nexport { path };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/path.babel.js","import { path } from './path.babel.js';\n\n/**\n * TODO:\n *  [] add `setParent` public method.\n */\n\nimport { pow } from './pow.babel.js';\n\n/**\n * `easing` - object that holds all easing avaliable in `mojs`.\n */\nconst easing = {\n  /**\n   * `Linear` easing, also `null` or `id` easing - simply returns whatever\n   * passed to the function.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  linear: { none: k => k },\n\n  /**\n   * `Sin` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  sin: {\n    in: (k) => { return 1 - Math.cos((k * Math.PI) / 2); },\n    out: (k) => { return Math.sin((k * Math.PI) / 2); },\n    inout: (k) => { return 0.5 * (1 - Math.cos(Math.PI * k)); },\n  },\n\n  pow,\n  path,\n};\n\nexport { easing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/easing.babel.js","const pow = (p = 2) => {\n  const easeIn = (k => t => t ** k)(p);\n  const easeOut = (k => t => 1 - Math.abs((t - 1) ** k))(p);\n\n  return {\n    in: easeIn,\n    out: easeOut,\n    inout: (t) => {\n      return (t < .5) ? easeIn(t * 2) / 2 : (easeOut((t * 2) - 1) / 2) + .5;\n    },\n  };\n};\n\nexport { pow };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/pow.babel.js","import { Tween } from '../tween/tween.babel.js';\nimport { ClassProto } from '../class-proto.babel.js';\nimport { separateTweenOptions } from './separate-tween-options.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\nimport { motionPathCache } from './motion-path-cache.babel.js';\n\n/* ----------------------- */\n/* The `MotionPath` class  */\n/* ----------------------- */\n\n// TODO:\n//  - add bounds?\n//  - add clone\n//  - add global cache\n\nconst Super = ClassProto;\nconst MotionPath = Object.create(Super);\n\n/* ---------------------- */\n/* The `Public` functions */\n/* ---------------------- */\n\n/**\n * `update` - function to update the MotionPath.\n *\n * @public\n * @param {Number} Eased progress.\n * @param {Number} Progress.\n * @param {Boolean} If is forward direction.\n * @param {Object} This motion path.\n */\nMotionPath.update = function (ep) {\n  const { coordinate, property } = this._props;\n  const { step } = this._samples;\n\n  const index = (ep / step) | 0; // convert to integer\n  const key = index * step; // get the key\n  const nextKey = (index + 1) * step; // get the next key\n\n  const diff = ep - key; // get error for the eased progress\n  const value = this._samples.get(key)[coordinate]; // get the value\n\n  let norm = value;\n  // if next key is present, calculate the normalized value\n  // regarding the eased progress error\n  if (nextKey <= 1) {\n    const nextValue = this._samples.get(nextKey)[coordinate];\n    norm = value + ((nextValue - value) * (diff / step));\n  }\n\n  if (this._unit === undefined) {\n    this._target[property] = norm;\n  } else {\n    this._target[property] = `${norm}${this._unit}`;\n  }\n\n  return this;\n};\n\n/* ----------------------- */\n/* The `Private` functions */\n/* ----------------------- */\n\n/**\n * `_samplePath` - function to sample path coordinates.\n *\n * @private\n * @param {Number} Number of floating point digits.\n */\nMotionPath._samplePath = function (n = this._props.precision) {\n  const { path, precision } = this._props;\n  const cachedPath = motionPathCache.get(path, precision);\n  // if we have the `path` with the `precision` cached - use it\n  if (cachedPath) {\n    this._samples = cachedPath;\n  // if no cache - start over\n  } else {\n    this._samples = new Map();\n    const totalLength = this._path.getTotalLength();\n    const step = 1 / n;\n    this._samples.step = step;\n    this._samples.totalLength = totalLength;\n    // samples the path, `key` is in range of [0..1]\n    for (let i = 0; i < n; i++) {\n      const key = i * step;\n      this._setForKey(key);\n    }\n    // the last sample is for `1`\n    this._setForKey(1);\n    motionPathCache.save(path, precision, this._samples);\n  }\n};\n\n/**\n * `_setForKey` - helper function for `_samplePath`,\n *                sets a key/value regarding `totalLength` on the map.\n *\n * @param  {Number} key Map key [0...1].\n */\nMotionPath._setForKey = function (key) {\n  const { totalLength } = this._samples;\n  // x/y computation\n  const length = key * totalLength;\n  const point = this._path.getPointAtLength(length);\n  const prevPoint = this._path.getPointAtLength(length - 1);\n  // cangle computation\n  const dY = point.y - prevPoint.y;\n  const dX = point.x - prevPoint.x;\n  const atan = (!isFinite(Math.atan(dY / dX))) ? 0 : Math.atan(dY / dX);\n  const angle = atan * (180 / Math.PI);\n  // set the point to the map\n  this._samples.set(key, { x: point.x, y: point.y, angle });\n};\n\n/**\n * `init` - function init the class.\n *\n * @extends @ClassProto\n * @public\n */\nMotionPath.init = function (o = {}) {\n  // super call\n  Super.init.call(this, o);\n  // get target, if the `isSkipRender` is set on `property`\n  // in `customProperties`, use `supportProps` otherwise use `el`\n  const { el, supportProps, property, customProperties } = this._props;\n  const custom = customProperties[property];\n  this._target = (custom && custom.isSkipRender) ? supportProps : el;\n  // if `unit` is defined or `type` is set on `customProperties`,\n  // set the render `_unit` that will be added on render\n  if (o.unit !== undefined || (custom && custom.type === 'unit')) {\n    this._unit = o.unit || 'px';\n  }\n  // parse path\n  this._parsePath();\n  // precompute path\n  this._samplePath();\n  // set up tween\n  this._setupTween();\n};\n\n/**\n * `_setupTween` - function set up tween if needed.\n *\n * @extends @ClassProto\n * @public\n */\nMotionPath._setupTween = function () {\n  // options\n  const options = { ...this._o };\n  // separate tween  options\n  const tweenOptions = separateTweenOptions(options);\n  if (tweenOptions !== undefined) {\n    this.tween = new Tween({\n      ...tweenOptions,\n      // send `onUpdate` function to call the `this.update` function\n      // and envoke previous `onUpdate`\n      onUpdate: (ep, p, isForward) => {\n        this.update(ep, p, isForward);\n        // envoke old `onUpdate` if is present\n        if (tweenOptions.onUpdate !== undefined) {\n          tweenOptions.onUpdate(ep, p, isForward);\n        }\n      },\n    });\n  }\n};\n\n/**\n * `_decalreDefaults` - function to declare defaults.\n *\n * @extends @ClassProto\n * @private\n */\nMotionPath._declareDefaults = function () {\n  this._defaults = {\n    el: null,\n    supportProps: null,\n    customProperties: {},\n    path: 'M0,0 L100,100',\n    precision: 140,\n    coordinate: 'x',\n    property: 'x',\n  };\n};\n\n/**\n * _extendDefaults - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n * @private\n * @overrides @ ClassProto\n */\nMotionPath._extendDefaults = function () {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // parse stagger\n  const propsKeys = Object.keys(this._props);\n  for (let i = 0; i < propsKeys.length; i++) {\n    const key = propsKeys[i];\n    const prop = staggerProperty(this._props[key], this.index, this._totalItemsInStagger);\n    // check if path generator was passed to `path` property\n    const isPathGenerator = (prop && typeof prop === 'object' && prop.path);\n    this._props[key] = (isPathGenerator) ? prop.path : prop;\n  }\n\n  const { property } = this._props;\n  if (property === 'y' || property === 'angle') {\n    this.setIfNotSet('coordinate', property);\n  }\n};\n\n/**\n * `_parsePath` - function to parse SVG motion path.\n */\nMotionPath._parsePath = function () {\n  const { path } = this._props;\n  this._path = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  this._path.setAttributeNS(null, 'd', path);\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Tween instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(MotionPath);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = MotionPath;\n\nexport { wrap as MotionPath };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/motion-path.babel.js","\nconst cache = new Map();\n\nconst createId = (path = '', n) => {\n  return `${n}___${path.trim()}`;\n};\n\nconst save = (path, n, obj) => {\n  cache.set(createId(path, n), obj);\n};\n\nconst get = (path, n) => {\n  return cache.get(createId(path, n));\n};\n\nexport const motionPathCache = {\n  createId,\n  save,\n  get,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/motion-path-cache.babel.js","/**\n * Tweener - singleton object that is responsible of:\n *  - starting `requestAnimationFrame` loop\n *  - stopping `requestAnimationFrame` loop\n *  - holding `tween`/`timeline` objects and passing current time to them.\n */\n\nconst tweens = [];\nlet savedTweens = [];\nlet isRunning = false;\n\n/**\n * `savePlayingTweens` - function to store all playing tweenes\n *                       when user leaves a page.\n */\nconst savePlayingTweens = () => {\n  savedTweens = tweens.slice(0);\n  for (let i = 0; i < savedTweens.length; i++) {\n    savedTweens[i].pause();\n  }\n};\n\n/**\n * `restorePlayingTweens` - function to restore all playing tweens.\n */\nconst restorePlayingTweens = () => {\n  for (let i = 0; i < savedTweens.length; i++) {\n    savedTweens[i].play();\n  }\n};\n\n/**\n * `onVisibilityChange` - visibilityChange handler.\n */\nconst onVisibilityChange = () => {\n  if (document.hidden) {\n    savePlayingTweens();\n  } else {\n    restorePlayingTweens();\n  }\n};\n\n/**\n * `stop` - function to stop the animation loop.\n */\nconst stop = () => {\n  tweens.length = 0;\n  isRunning = false;\n};\n\n// needed?\n// /**\n//  * `removeAll` - function stop updating all the child tweens/timelines.\n//  *\n//  * @return {type}  description\n//  */\n// const removeAll = () => { tweens.length = 0; };\n\n/**\n * `remove` - function to remove specific tween/timeline form updating.\n */\nconst remove = (tween) => {\n  const index = (typeof tween === 'number')\n                ? tween : tweens.indexOf(tween);\n\n  if (index !== -1) {\n    tweens.splice(index, 1);\n  }\n};\n\n/**\n *  `update` - fucntion  to update every tween/timeline on animation frame.\n */\nconst update = (time) => {\n  let i = tweens.length;\n  while (i--) {\n    const tween = tweens[i];\n    if (tween.update(time) === true) {\n      remove(tween);\n      tween.onTweenerFinish();\n    }\n  }\n};\n\n/*\n Main animation loop. Should have only one concurrent loop.\n @private\n @returns this\n*/\nconst loop = () => {\n  if (tweens.length === 0) {\n    return stop();\n  }\n  update(performance.now());\n  requestAnimationFrame(loop);\n};\n\n/**\n * `start` - function to start the animation loop.\n */\nconst start = () => {\n  if (isRunning) { return; }\n  isRunning = true;\n  requestAnimationFrame(loop);\n};\n\n/**\n * `add` - function to add a Tween/Timeline to loop pool.\n */\nconst add = (tween) => {\n  tweens.push(tween);\n  start();\n};\n\n/**\n * `caffeinate` - function to keep tweener awake on page blur.\n */\nconst caffeinate = () => {\n  document.removeEventListener('visibilitychange', onVisibilityChange, false);\n};\n\n// listen to visibility change\ndocument.addEventListener('visibilitychange', onVisibilityChange, false);\n\nconst tweener = { add, remove, caffeinate };\n\nexport { tweener };\n\n\n\n// WEBPACK FOOTER //\n// ./src/tween/tweener.babel.js","import { makeColorObject } from '../helpers/make-color-object.babel.js';\n\n/**\n * Function parse color delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseColor = (name, object) => {\n  const start = makeColorObject(object.start);\n  const end = makeColorObject(object.end);\n\n  const delta = {\n    r: end.r - start.r,\n    g: end.g - start.g,\n    b: end.b - start.b,\n    a: end.a - start.a,\n  };\n\n  return {\n    ...object,\n    type: 'color',\n    name,\n    start,\n    end,\n    delta,\n  };\n};\n\nexport { parseColor };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-color.babel.js","import { getRegexpUnit } from './get-regexp-unit.babel.js';\n\n/**\n * Function parse number delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseUnit = (name, object) => {\n  const result = {\n    ...object,\n    type: 'unit',\n    name,\n  };\n\n  // get start and end units\n  const startUnit = getRegexpUnit(result.start);\n  const endUnit = getRegexpUnit(result.end);\n  // get the unit for both with priority to startUnit\n  result.unit = endUnit || startUnit || 'px';\n  // parse the values in case we have strings there\n  result.start = parseFloat(result.start);\n  result.end = parseFloat(result.end);\n  // calculate delta\n  result.delta = result.end - result.start;\n\n  return result;\n};\n\nexport { parseUnit };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-unit.babel.js","import { unitRegexp } from '../helpers/unit-regexp.babel.js';\n\nconst getRegexpUnit = (value) => {\n  if (typeof value !== 'string') { return undefined; }\n  const valueMatch = value.match(unitRegexp);\n\n  return (valueMatch !== null) ? valueMatch[0] : undefined;\n};\n\nexport { getRegexpUnit };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/get-regexp-unit.babel.js","/**\n * Function parse number delta.\n *\n * @param {String} Name of the property.\n * @param {Object} Object to parse.\n * @returns {Object} Parsed `delta`.\n */\nconst parseNumber = (name, object) => {\n  const result = {\n    type: 'number',\n    name,\n    ...object,\n  };\n  // parse the values in case we have strings there\n  result.start = parseFloat(result.start);\n  result.end = parseFloat(result.end);\n  // calculate delta\n  result.delta = result.end - result.start;\n\n  return result;\n};\n\nexport { parseNumber };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/parse-number.babel.js","import { parseEasing } from '../easing/parse-easing.babel.js';\nimport { separateTweenOptions } from '../delta/separate-tween-options.babel.js';\n\n/**\n * Function to split the delta object to `tween` options and actual `delta`.\n *\n * @param {Object} Object to split.\n * @returns {Object} Split `delta`.\n */\nconst splitDelta = (object) => {\n  const obj = { ...object };\n  // save curve because we need it directly on the\n  // parsed `delta` object vs `tween`\n  const curve = (obj.curve !== undefined)\n                  ? parseEasing(obj.curve) : undefined;\n  delete obj.curve;\n  // extract tween options\n  const tweenOptions = separateTweenOptions(obj);\n\n  let start;\n  let end;\n  // if `{ from: x, to: x }` syntax used\n  if (obj.from != undefined && obj.to != undefined) { // eslint-disable-line eqeqeq\n    start = obj.from;\n    end = obj.to;\n  // else `{ from: to }` syntax used\n  } else {\n    // at this point only the `start` -> `end` should left get the values\n    start = Object.keys(obj)[0];\n    end = obj[start];\n  }\n\n  return { start, end, curve, tweenOptions };\n};\n\nexport { splitDelta };\n\n\n\n// WEBPACK FOOTER //\n// ./src/delta/split-delta.babel.js","import { Html } from './html.babel.js';\n\n/* -------------------- */\n/* The `Surface` class  */\n/* -------------------- */\n\n// It wextends `Html` module, create an HTMLElement and adds it to the DOM,\n// after that it passes the newely create element to `el` option of the\n// Html module and declares `width`/`height` defaults.\n// Thus it cretes a `Surface` that is controlled by `Html` module.\n\nconst Super = Html.__mojsClass;\nconst Surface = Object.create(Super);\n\n/**\n * `init` - function init the class.\n *\n * @public\n * @extends @Html\n */\nSurface.init = function (o = {}) {\n  // create an Html element\n  this._createElement();\n  // add element and custom properties definition to the options\n  o.el = this.el;\n  o.customProperties = {\n    ...o.customProperties,\n    width: { type: 'unit' },\n    height: { type: 'unit' },\n  };\n\n  // super call on HTML\n  Super.init.call(this, o);\n  // add element to DOM - we have `_props` available now\n  this._props.parent.appendChild(this.el);\n};\n\n/**\n * `_createElement` - function to create `Html` element.\n */\nSurface._createElement = function () {\n  this.el = document.createElement('div');\n};\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nSurface._declareDefaults = function () {\n  // super call\n  Super._declareDefaults.call(this);\n  // save html related defaults\n  this._htmlDefaults = { ...this._defaults };\n  // declare surface defaults\n  this._defaults = {\n    ...this._htmlDefaults,\n    // add surface properties\n    parent: document.body,\n    // `width` of the surface, fallbacks to `size`\n    width: 100,\n    // `height` of the surface, fallbacks to `size`\n    height: 100,\n  };\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Surface);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Surface;\n\nexport { wrap as Surface };\n\n\n\n// WEBPACK FOOTER //\n// ./src/surface.babel.js","import { Tweenable } from './tween/tweenable.babel.js';\nimport { Deltas } from './delta/deltas.babel.js';\nimport { ClassProto } from './class-proto.babel.js';\nimport { parseElement } from './helpers/parse-element.babel.js';\n\n/* ----------------- */\n/* The `Html` class  */\n/* ----------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Html = Object.create(Super);\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nHtml._declareDefaults = function () {\n  this._defaults = {\n    is3d: false,\n    el: null,\n    customProperties: {},\n\n    x: 0,\n    y: 0,\n    z: 0,\n\n    skewX: 0,\n    skewY: 0,\n\n    angle: 0,\n    angleX: 0,\n    angleY: 0,\n    angleZ: undefined,\n\n    scale: 1,\n    scaleX: undefined,\n    scaleY: undefined,\n    scaleZ: undefined,\n  };\n};\n\n/**\n * `init` - function init the class.\n *\n * @public\n * @extends @Tweenable\n */\nHtml.init = function (o = {}) {\n  // super call\n  Super.init.call(this, o);\n  // setup deltas\n  this._setupDeltas();\n};\n\n/**\n * `_setupDeltas` - function to set up `Deltas`.\n *\n * @private\n */\nHtml._setupDeltas = function () {\n  const customProperties = this._getCustomProperties();\n\n  this._deltas = new Deltas({\n    ...this._props,\n    customProperties,\n  });\n  // save the `timeline` to make the `tweenable` work\n  this.timeline = this._deltas.timeline;\n};\n\n/**\n* `_render` - function to render the component.\n*\n* @private\n* @param {Object} Target object to render to.\n* @param {Array} Support objects.\n*          @param {Object} support[0] Support object that will have\n*                                     all properties that are `isSkipRender`.\n*          @param {Object} support[1] Support render (original `render`\n*                                     from `customProperties` in this context).\n*/\nHtml._render = function (target, support) {\n  // get the supportProps\n  const { props, pipeObj } = support;\n  const { htmlRender } = pipeObj;\n\n  const scaleX = (props.scaleX !== undefined) ? props.scaleX : props.scale;\n  const scaleY = (props.scaleY !== undefined) ? props.scaleY : props.scale;\n\n  target.transform = `translate(${props.x}, ${props.y}) rotate(${props.angle}deg) skew(${props.skewX}deg, ${props.skewY}deg) scale(${scaleX}, ${scaleY})`;\n  // call the `original`\n  htmlRender(target, support);\n};\n\n/**\n * `_render3d` - function to render the component with 3d styles.\n *\n * @private\n * @param {Object} Target object to render to.\n * @param {Array} Support objects.\n *          @param {Object} support[0] Support object that will have\n *                                     all properties that are `isSkipRender`.\n *          @param {Object} support[1] Support render (original `render`\n *                                     from `customProperties` in this context).\n */\nHtml._render3d = function (target, support) {\n  // get the supportProps\n  const { props, pipeObj } = support;\n  const { htmlRender } = pipeObj;\n\n  const rotateZ = (props.angleZ !== undefined) ? props.angleZ : props.angle;\n  const scaleX = (props.scaleX !== undefined) ? props.scaleX : props.scale;\n  const scaleY = (props.scaleY !== undefined) ? props.scaleY : props.scale;\n  const scaleZ = (props.scaleZ !== undefined) ? props.scaleZ : props.scale;\n\n  target.transform = `translate3d(${props.x}, ${props.y}, ${props.z}) rotateX(${props.angleX}deg) rotateY(${props.angleY}deg) rotateZ(${rotateZ}deg) skew(${props.skewX}deg, ${props.skewY}deg) scale3d(${scaleX}, ${scaleY}, ${scaleZ})`;\n  // call the `original`\n  htmlRender(target, support);\n};\n\n/**\n * `_getCustomProperties` - function to create customProperties.\n *\n * @private\n * @return {Object} Custom properties.\n */\nHtml._getCustomProperties = function () {\n  const unitProps = ['x', 'y', 'z'];\n  const numberProps = ['angle', 'angleX', 'angleY', 'angleZ', 'skewX', 'skewY', 'scale', 'scaleX', 'scaleY', 'scaleZ'];\n  const { customProperties } = this._props;\n  const originalRender = customProperties.render;\n\n  const customProps = {\n    ...customProperties,\n  };\n\n  for (let i = 0; i < unitProps.length; i++) {\n    const prop = unitProps[i];\n    customProps[prop] = {\n      type: 'unit',\n      isSkipRender: true,\n    };\n  }\n\n  for (let i = 0; i < numberProps.length; i++) {\n    const prop = numberProps[i];\n    customProps[prop] = {\n      type: 'number',\n      isSkipRender: true,\n    };\n  }\n\n  const newRenderFunction = (this._is3dProperties())\n          ? this._render3d : this._render;\n  // if at least one of the `_default` properties set, pass the `render`\n  // function regarding the fact if the 3d property used\n  // otherwise pass thru the original `render` function\n  customProps.render = (this._isRender())\n    ? newRenderFunction\n    : originalRender;\n\n  customProps.pipeObj = {\n    ...customProperties.pipeObj,\n    htmlRender: (this._isRender()) ? originalRender || (() => {}) : (() => {}),\n  };\n\n  return customProps;\n};\n\n/**\n * `_isRender` - function to check if render function\n *               should be used (one of the defaults defined).\n *\n * @return {Boolean} If render should be used\n */\nHtml._isRender = function () {\n  const ignoreProperties = {\n    el: 1,\n    customProperties: 1,\n    is3d: 1,\n  };\n\n  const keys = Object.keys(this._defaults);\n  for (let i = 0; i < keys.length; i++) {\n    const prop = keys[i];\n    if (ignoreProperties[prop]) {\n      continue;\n    }\n\n    if (this._o[prop] !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * `_is3dProperties` - function to detect if the `3d` properties should be used.\n *\n * @return {Boolean} If 3d.\n */\nHtml._is3dProperties = function () {\n  const isAngleX = this._o.angleX != null;\n  const isAngleY = this._o.angleY != null;\n  const isAngleZ = this._o.angleZ != null;\n\n  const isRotate3d = isAngleX || isAngleY || isAngleZ;\n\n  const isZ = this._o.z != null;\n  const isScaleZ = this._o.scaleZ != null;\n\n  return this._is3d || isZ || isScaleZ || isRotate3d;\n};\n\n/**\n * `_extendDefaults` - Method to copy `_o` options to `_props` object\n *                  with fallback to `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nHtml._extendDefaults = function () {\n  // super call\n  ClassProto._extendDefaults.call(this);\n  // delete `is3d` from options since we will pass them to `Deltas`\n  this._is3d = this._props.is3d;\n  delete this._props.is3d;\n  // if el was passed as `selector`(`string`), find the element in the DOM\n  this.el = parseElement(this._props.el);\n  // set the `el` on options to element style\n  // since this what we will pass to deltas\n  this._props.el = this.el.style;\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Html);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Html;\n\nexport { wrap as Html };\n\n\n\n// WEBPACK FOOTER //\n// ./src/html.babel.js","import { ClassProto } from '../../class-proto.babel.js';\n\n/* --------------------- */\n/* The `SvgShape` class  */\n/* --------------------- */\n\nconst Super = ClassProto;\nconst SvgShape = Object.create(Super);\n\nconst NS = 'http://www.w3.org/2000/svg';\n\n/**\n * `init` - lifecycle initialization function.\n *\n * @extends @ClassProto\n * @private\n */\nSvgShape.init = function (o) {\n  // super call\n  Super.init.call(this, o);\n  // create SVG canvas\n  this._createSVGCanvas();\n  // lifecycle method for shapes that will extend this class\n  if (this._initializeShape) {\n    // create SVG canvas\n    this._initializeShape();\n  }\n};\n\n/**\n * `_createSVGCanvas` - function to create a canvas.\n */\nSvgShape._createSVGCanvas = function () {\n  this.canvas = document.createElementNS(NS, 'svg');\n  this.canvas.style.width = '100%';\n  this.canvas.style.height = '100%';\n  // create root `<g>` element\n  this.root = document.createElementNS(NS, 'g');\n  this.root.setAttribute('vector-effect', 'non-scaling-stroke');\n  this.canvas.appendChild(this.root);\n\n  this._o.el.appendChild(this.canvas);\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} SvgShape instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(SvgShape);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = SvgShape;\n\nexport { wrap as SvgShape };\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/svg-shape.babel.js","import { generatePath } from './generate-path.babel.js';\nimport { staggerProperty } from './stagger-property.babel.js';\n\nconst BURST_DEFAUTLS = {\n  degree: 360,\n  degreeOffset: 0,\n};\n\nexport const burstGenerator = (o = {}) => {\n  // extend by burst defaults\n  const burstOptions = {\n    ...BURST_DEFAUTLS,\n    ...o,\n  };\n\n  const staggerFunction = (index, total) => {\n    let { degree, degreeOffset } = burstOptions;\n    // if stagger properties - parse them\n    degree = staggerProperty(degree, index, total);\n    degreeOffset = staggerProperty(degreeOffset, index, total);\n    // calculate the particle angle regarding burst generator\n    const staggerAngle = degreeOffset + (index * (degree / total));\n    // generate the particle path\n    const path = generatePath({\n      ...o,\n      angle: (o.angle != null) ? o.angle : staggerAngle,\n      // pass stagger `index` and `total` values\n      index,\n      total,\n    });\n\n    return { path };\n  };\n\n  // TODO: refactor to staggerFunction\n  staggerFunction.__mojs__isStaggerFunction = true;\n\n  return staggerFunction;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/burst-generator.babel.js","\n/**\n * Constants.\n */\nexport const defaultEasing = ['sin', 'out'];\nexport const defaultEasingString = defaultEasing.join('.');\nexport const name = 'mojs';\nexport const consoleName = `:${name}:`;\nexport const bundleLink = 'https://aka.ms/mojs-bundle';\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.babel.js","import { Deltas } from '../delta/deltas.babel.js';\nimport { Tweenable } from '../tween/tweenable.babel.js';\nimport { getRadialPoint } from '../helpers/get-radial-point.babel.js';\n\n/* ---------------- */\n/* The `Rig` class  */\n/* ---------------- */\n\n/*\n  TODO:\n    - direction -> size\n*/\n\nconst Super = Tweenable.__mojsClass;\nconst Rig = Object.create(Super);\n\nconst DEGREE_RAD = 180 / Math.PI;\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @ ClassProto\n */\nRig._declareDefaults = function () {\n  this._defaults = {\n    size: 200,\n    curvature: 0,\n    direction: 1,\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 100,\n    onRender: () => {},\n  };\n\n  this._support = {\n    handle1: {},\n    handle2: {},\n    center: {},\n    knee: {},\n    angle1: 0,\n    angle2: 0,\n  };\n};\n\nRig._vars = function () {\n  Super._vars.call(this);\n  // create `Deltas` module to control all the deltas\n  this._createDeltas();\n};\n\nRig._createDeltas = function () {\n  const customProperties = this._o.customProperties || {};\n  const originalRender = customProperties.render;\n\n  const keys = Object.keys(this._defaults);\n  // it is forbidden to override the rig defaults\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (customProperties[key] !== undefined) {\n      delete customProperties[key];\n    }\n  }\n\n  const propsToPass = { ...this._props };\n  delete propsToPass.onRender;\n  // create deltas to add animations to the properties\n  this._deltas = new Deltas({\n    el: this._props,\n    ...propsToPass,\n    customProperties: {\n      ...customProperties,\n      render: (props, support, ep, p, isForward) => {\n        this.render(props, support, ep, p, isForward);\n        // call the original `render` is set\n        if (typeof originalRender === 'function') {\n          originalRender(props, support, ep, p, isForward);\n        }\n      },\n    },\n  });\n  // make the tweenable interface work\n  this.timeline = this._deltas.timeline;\n};\n\n/**\n * `render` - function to render the Rig.\n *\n * @public\n */\nRig.render = function () {\n  let { size } = this._props;\n  const support = this._support;\n\n  const {\n    x1,\n    x2,\n    y1,\n    y2,\n    direction,\n    curvature,\n    onRender,\n  } = this._props;\n\n  const direction3dShift = Math.sin(Math.abs(direction) * (Math.PI / 2));\n  size = direction3dShift * Math.abs(size);\n\n  // deltas should be at least 1, otherwise a lot of ambiguities can happen\n  const dX = (x1 - x2) || 1;\n  const dY = (y1 - y2) || 1;\n  const length = direction3dShift * Math.sqrt((dX * dX) + (dY * dY));\n\n  const maxPartLength = size / 2;\n  const actualPartLength = length / 2;\n\n  // get base angle between 2 points\n  let angle = (Math.atan(dY / dX) * DEGREE_RAD) + 90;\n  angle = (dX < 0) ? angle : 180 + angle;\n  const normActualLegnth = actualPartLength / direction3dShift;\n  // get center point\n  getRadialPoint(x1, y1, normActualLegnth, angle, support.center);\n\n  const isStretch = actualPartLength > maxPartLength;\n  const depth = (isStretch) ? 0 : Math.sqrt((maxPartLength ** 2) - (actualPartLength ** 2));\n\n  const directionCoeficient = (direction >= 0) ? 1 : -1;\n  const kneeAngle = angle - (directionCoeficient * 90);\n\n  getRadialPoint(support.center.x, support.center.y, depth, kneeAngle, support.knee);\n\n  // angle calculation\n  const nAngle = angle - 180;\n\n  const baseAngle = Math.atan(depth / normActualLegnth) * DEGREE_RAD;\n\n  let gripAngle1 = nAngle + baseAngle;\n  let gripAngle2 = angle - baseAngle;\n\n  const r = 25 * curvature;\n  gripAngle1 = (isStretch === false) ? gripAngle1 + r : nAngle;\n  gripAngle2 = (isStretch === false) ? gripAngle2 - r : angle;\n\n  if (direction > 0) {\n    const temp = gripAngle1;\n    gripAngle1 = gripAngle2 - 180;\n    gripAngle2 = temp - 180;\n  }\n\n  // handle calculations\n  const k = (0.25 * size) * curvature;\n  getRadialPoint(support.knee.x, support.knee.y, k, nAngle, support.handle1);\n  getRadialPoint(support.knee.x, support.knee.y, k, angle, support.handle2);\n\n  support.stretchRatio = actualPartLength / maxPartLength;\n  support.angle1 = gripAngle1;\n  support.angle2 = gripAngle2;\n\n  onRender(this._props, support);\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Rig);\n  const result = instance.init(o);\n\n  return result || instance;\n};\n\nwrap.__mojsClass = Rig;\n\nexport { wrap as Rig };\n\n\n\n// WEBPACK FOOTER //\n// ./src/rig/rig.babel.js","import { Delta } from '../delta/delta.babel.js';\n\n// TODO: cover by unit tests\n\n/**\n * `parseStaticProperty` - function to parse static property\n *                         regarding types in `customProperties`.\n *\n * @param {String} key Property name.\n * @param {String} property Property value.\n * @param {Object} customProperties Custom properties object.\n * @param {Number} index Index.\n */\nexport const parseStaticProperty = (key, property, customProperties, index = 0, total = 1) => {\n  // if property is not defined, just return it\n  if (property == null) {\n    return property;\n  }\n\n  const target = {};\n  const object = {\n    from: property,\n    to: property,\n  };\n  // greate a delta with `{ from: property, to: property }` transition\n  const delta = new Delta({\n    key,\n    target,\n    customProperties,\n    index,\n    totalItemsInStagger: total,\n    object,\n    supportProps: target,\n  });\n  // update the delta with `0` progress\n  delta.update(0, 0);\n\n  // get the result on target\n  const result = target[key];\n  // check if `result` is `NaN` return original propert\n  return (isNaN(result) && !result) ? property : result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-static-property.babel.js","/**\n * div - and element that is added to DOM for enviroment test purposes.\n */\nconst div = document.createElement('div');\ndocument.body.append(div);\n\nexport { div };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/div.babel.js","import { Surface } from '../surface.babel.js';\n// import { Circle } from './svg/circle.babel.js';\nimport { Custom } from './svg/custom.babel.js';\n// import { Line } from './svg/line.babel.js';\n\n/* ------------------ */\n/* The `Shape` class  */\n/* ------------------ */\n\nconst Super = Surface.__mojsClass;\nconst Shape = Object.create(Super);\n\n// TODO:\n//  - add `tune` method\n//  - add more `SVG`/canvas shapes and map them`\n\n/**\n * `arrayToObj` - function to tranform string[] to `{ [string]: true }` object\n *\n * @param {Array} array Array of strings.\n * @returns {Object} Object of { [key]: true }.\n */\nconst arrayToObj = (array) => {\n  const obj = {};\n  for (let i = 0; i < array.length; i++) {\n    const key = array[i];\n    obj[key] = true;\n  }\n\n  return obj;\n};\n\n/**\n * `_declareDefaults` - Method to declare `_defaults`.\n *\n * @private\n * @overrides @Surface\n */\nShape._declareDefaults = function () {\n  Super._declareDefaults.call(this);\n  // save surface property\n  this._surfaceDefaults = {\n    ...this._defaults,\n    width: 100,\n    height: 100,\n  };\n  // defaults of this module\n  this._shapeDefaults = {\n    // add `Shape` defaults\n    size: 100,\n    sizeX: undefined,\n    sizeY: undefined,\n  };\n  // declare shape defaults\n  this._defaults = {\n    // keep the `Surface` defaults\n    ...this._surfaceDefaults,\n    // add this module defaults\n    ...this._shapeDefaults,\n  };\n\n  // create shape module\n  this.shape = new Custom({ el: this.el });\n\n  // create customProperties\n  const newCustomProps = this._createCustomProperties(this._o);\n  this._o.customProperties = newCustomProps;\n};\n\n/**\n * `_createCustomProperties` - function to create new customProperties.\n *\n * @param {Object} o Options.\n * @return {Object} New custom properties.\n */\nShape._createCustomProperties = function (o) {\n  const { customProperties = {} } = o;\n  const originalCustomProps = { ...customProperties };\n  // save original `render`\n  const originalRender = originalCustomProps.render;\n  delete originalCustomProps.render;\n  // save `surfaceOptions` and delete it from `options`\n  const { surfaceOptions = [] } = this._o;\n  const surfaceOptionsObject = arrayToObj(surfaceOptions);\n  delete this._o.surfaceOptions;\n\n  const newCustomProps = {};\n  // add `isSkipRender: true` to all `shapeDefaults` properties\n  const defaultsKeys = Object.keys(this._shapeDefaults);\n  for (let i = 0; i < defaultsKeys.length; i++) {\n    newCustomProps[defaultsKeys[i]] = {\n      type: 'unit',\n      isSkipRender: true,\n    };\n  }\n  // for all `options` check if the property is present on the `surface` defaults,\n  // if not present, add `isKipRender` to it\n  const styleKeys = [];\n  const optionKeys = Object.keys(o);\n  for (let i = 0; i < optionKeys.length; i++) {\n    const key = optionKeys[i];\n    if (key !== 'el') {\n      if (!this._surfaceDefaults.hasOwnProperty(key) && !surfaceOptionsObject[key]) {\n        newCustomProps[key] = { isSkipRender: true };\n        // original `key` record in original `customProperties`\n        const originalRecord = originalCustomProps[key] || {};\n        // filter out the shape properties and properties\n        // that have the `isSkipRender` defined\n        const isOnShapeDefaults = this._shapeDefaults.hasOwnProperty(key);\n        if (!isOnShapeDefaults && !originalRecord.isSkipRender) {\n          styleKeys.push(key);\n        }\n      }\n    }\n  }\n  // return new `customProperties`\n  return {\n    ...newCustomProps,\n    ...originalCustomProps,\n    pipeObj: {\n      styleKeys,\n      root: this.shape.root,\n    },\n    render: (mainEl, support, ep, p, isForward) => {\n      this.shape.render(mainEl, support, ep, p, isForward);\n      // call the original `render` function if defined\n      if (originalRender !== undefined) {\n        originalRender(mainEl, support, ep, p, isForward);\n      }\n    },\n  };\n};\n\n/**\n * Imitate `class` with wrapper.\n *\n * @param {Object} Options object.\n * @returns {Object} `Html` instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Shape);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Shape;\n\nexport { wrap as Shape };\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/shape.babel.js","/**\n * `parseElement` - function to parse element.\n *\n * @param {Sting, HTMLElement} el Element to parse.\n * @return {HTMLElement} Parsed `html` element.\n */\nexport const parseElement = (el) => {\n  // if `selector` passed, find the element in the DOM\n  if (typeof el === 'string') {\n    el = document.querySelector(el);\n  }\n\n  return el;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-element.babel.js","import { Timeline } from '../tween/timeline.babel.js';\nimport { Tweenable } from '../tween/tweenable.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\nimport { staggerFunction } from './stagger-function.babel.js';\nimport { staggerRand } from './stagger-rand.babel.js';\nimport { staggerRandFloat } from './stagger-rand-float.babel.js';\nimport { staggerStep } from './stagger-step.babel.js';\nimport { staggerMap } from './stagger-map.babel.js';\n\n/* -------------------- */\n/* The `Stagger` class  */\n/* -------------------- */\n\nconst Super = Tweenable.__mojsClass;\nconst Stagger = Object.create(Super);\n\n/**\n * `init` - function init the class.\n *\n * @extends @Tweenable\n * @public\n */\nStagger.init = function (o = {}, Module) {\n  // super call\n  Super.init.call(this, o);\n  // create main timeline\n  this._createTimeline(o.timeline);\n  // create modules\n  this._createModules(Module);\n};\n\n/**\n * `_createModules` - function to create modules.\n *\n * @private\n * @param {Object} Child module class.\n */\nStagger._createModules = function (Module) {\n  this._modules = [];\n  const { items, el = {} } = this._o;\n  const modulesCount = items || el.length || 1;\n\n  for (let i = 0; i < modulesCount; i++) {\n    const module = new Module({\n      ...this._getStaggerOptions(this._o, i, modulesCount),\n      totalItemsInStagger: modulesCount,\n    });\n    this._modules.push(module);\n    this.timeline.add(module);\n  }\n};\n\n/**\n * `_getStaggerOptions` - get stagger options for a single module.\n *\n * @private\n * @param {Object} Stagger options.\n * @param {Number} Index of a module.\n */\nStagger._getStaggerOptions = function (options, i, modulesCount) {\n  // pass index to child properties\n  const o = { index: i };\n\n  const keys = Object.keys(options);\n  for (let j = 0; j < keys.length; j++) {\n    const key = keys[j];\n    o[key] = staggerProperty(options[key], i, modulesCount);\n  }\n\n  return o;\n};\n\n/**\n * `_createTimeline` - function to create a timeline.\n *\n * @private\n * @param {Object} Timeline options.\n */\nStagger._createTimeline = function (options) {\n  this.timeline = new Timeline(options);\n\n  delete this._o.timeline;\n};\n\n/**\n * function to wrap a Module with the stagger wrapper.\n */\nconst stagger = (Module) => { // eslint-disable-line arrow-body-style\n  return (options) => {\n    const instance = Object.create(Stagger);\n    instance.init(options, Module);\n\n    return instance;\n  };\n};\n\nstagger.function = staggerFunction;\nstagger.rand = staggerRand;\nstagger.randFloat = staggerRandFloat;\nstagger.step = staggerStep;\nstagger.map = staggerMap;\n\nexport { stagger };\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger.babel.js","/**\n * `staggerMap` - function to mark another function as `stagger` one.\n * @param {_} args Function parameters to make items of the stagger map.\n * @returns {Array} Newly created array that is marked as stagger one.\n */\nexport const staggerMap = (...args) => {\n  // clone the map\n  const newMap = [...args];\n  // mark as stagger one\n  newMap.__mojs__isStaggerMap = true;\n  // return the new map\n  return newMap;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-map.babel.js","import { staggerFunction } from './stagger-function.babel.js';\nimport { parseUnitValue } from '../helpers/parse-unit-value.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\n\n/**\n * `staggerStep` - function to value for stagger item.\n * @param {Number, String} base Base value.\n * @param {Number, String} step Step value.\n * @returns {Number, String} Stepped value.\n */\nexport const staggerStep = (base, step) => {\n  const isBaseDefined = !(step === undefined);\n  // if only one value passed, treat it as `base` of `0`\n  if (!isBaseDefined) {\n    step = base;\n    base = 0;\n  }\n  // mark the function as `stagger` one\n  return staggerFunction((i, total) => {\n    // parse units\n    const baseUnitValue = parseUnitValue(staggerProperty(base, i, total));\n    const stepUnitValue = parseUnitValue(staggerProperty(step, i, total));\n    // decide what is the result unit, the `base` one is top priority\n    const resultUnit = (isBaseDefined === true)\n          ? baseUnitValue.unit\n          : stepUnitValue.unit;\n    // calculate value for the current item\n    const resultNumber = baseUnitValue.value + (i * stepUnitValue.value);\n    // if unit defined, use it with result number\n    return (resultUnit) ? `${resultNumber}${resultUnit}` : resultNumber;\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-step.babel.js","import { randFloat } from '../helpers/rand-float.babel.js';\nimport { staggerFunction } from './stagger-function.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\n\n/**\n * `staggerRand` - function to create delayed `stagger` function\n *                 that generates random floats in range.\n * @param {Number} min Min bound.\n * @param {Number} max Max bound.\n * @returns {Function} Newly created function that is marked as stagger\n *                     and will call the `rand` one.\n */\nexport const staggerRandFloat = (min, max) => {\n  // mark the function as `stagger` one\n  return staggerFunction((i, total) => {\n    const minValue = staggerProperty(min, i, total);\n    const maxValue = staggerProperty(max, i, total);\n    // generate random float regarding `stagger` parsing\n    return randFloat(minValue, maxValue);\n  });\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-rand-float.babel.js","import { rand } from '../helpers/rand.babel.js';\nimport { staggerFunction } from './stagger-function.babel.js';\nimport { staggerProperty } from '../helpers/stagger-property.babel.js';\n\n/**\n * `staggerRand` - function to create delayed `stagger` function\n *                 that generates random integers in range.\n * @param {Number} min Min bound.\n * @param {Number} max Max bound.\n * @returns {Function} Newly created function that is marked as stagger\n *                     and will call the `rand` one.\n */\nexport const staggerRand = (min, max) => {\n  // mark the function as `stagger` one\n  return staggerFunction((i, total) => {\n    const minValue = staggerProperty(min, i, total);\n    const maxValue = staggerProperty(max, i, total);\n    // min/max regarding `staggerProperty` parsing\n    return rand(minValue, maxValue);\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/stagger/stagger-rand.babel.js","import { pow } from './pow.babel.js';\n\n/**\n * `addBasicEasing` - function to add `basic easing functions`.\n *\n * @param {Object} `mojs` object.\n */\nconst addBasicEasing = (mojs) => {\n  /**\n   * `Quad` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quad = pow(2);\n\n  /**\n   * `Cubic` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.cubic = pow(3);\n\n  /**\n   * `Quart` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quart = pow(4);\n\n  /**\n   * `Quint` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.quint = pow(5);\n\n  /**\n   * `Expo` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.expo = {\n    in: (k) => { return (k === 0) ? 0 : 1024 ** (k - 1); },\n    out: (k) => { return (k === 1) ? 1 : 1 - (2 ** (-10 * k)); },\n    inout: (k) => {\n      if (k === 0 || k === 1) {\n        return k;\n      }\n\n      k *= 2;\n\n      if (k < 1) {\n        return 0.5 * (1024 ** (k - 1));\n      }\n\n      return 0.5 * (-(2 ** (-10 * (k - 1))) + 2);\n    },\n  };\n\n  /**\n   * `Circ` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.circ = {\n    in(k) { return 1 - Math.sqrt(1 - (k * k)); },\n    out(k) { return Math.sqrt(1 - (--k * k)); },\n    inout(k) {\n      k *= 2;\n\n      if (k < 1) {\n        return -0.5 * (Math.sqrt(1 - (k * k)) - 1);\n      }\n\n      return 0.5 * (Math.sqrt(1 - ((k -= 2) * k)) + 1);\n    },\n  };\n\n  /**\n   * `Elastic` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.elastic = {\n    in(k) {\n      const p = 0.4;\n      const a = 1;\n      const s = p / 4;\n\n      if (k === 0 || k === 1) {\n        return k;\n      }\n      return -(a * (2 ** (10 * (k -= 1))) * Math.sin(((k - s) * (2 * Math.PI)) / p));\n    },\n    out(k) {\n      const p = 0.4;\n      const a = 1;\n      const s = p / 4;\n\n      if (k === 0 || k === 1) { return k; }\n      return (a * (2 ** (-10 * k)) * Math.sin(((k - s) * (2 * Math.PI)) / p)) + 1;\n    },\n    inout(k) {\n      if (k === 0 || k === 1) {\n        return k;\n      }\n\n      k *= 2;\n\n      if (k < 1) {\n        return -0.5 * (2 ** (10 * (k - 1))) * Math.sin((k - 1.1) * 5 * Math.PI);\n      }\n\n      return (0.5 * (2 ** (-10 * (k - 1))) * Math.sin((k - 1.1) * 5 * Math.PI)) + 1;\n    },\n  };\n\n  /**\n   * `Back` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.back = {\n    in(k) {\n      const s = 1.70158;\n      return k * k * (((s + 1) * k) - s);\n    },\n    out(k) {\n      const s = 1.70158;\n      return (--k * (k * (((s + 1) * k) + s))) + 1;\n    },\n    inout(k) {\n      const s = 1.70158 * 1.525;\n      k *= 2;\n\n      if (k < 1) {\n        return 0.5 * k * k * (((s + 1) * k) - s);\n      }\n\n      return 0.5 * (((k -= 2) * k * (((s + 1) * k) + s)) + 2);\n    },\n  };\n\n  /**\n   * `Bounce` easing. Has `in`/`out`/`inout` options.\n   * @param {Number} Progress in range of `[0...1]`\n   * @returns {Number} Eased progress in range of `[0...1]`\n   */\n  mojs.easing.bounce = {\n    in(k) { return 1 - mojs.easing.bounce.out(1 - k); },\n    out(k) {\n      if (k < (1 / 2.75)) {\n        return 7.5625 * k * k;\n      } else if (k < (2 / 2.75)) {\n        return (7.5625 * (k -= 1.5 / 2.75) * k) + 0.75;\n      } else if (k < (2.5 / 2.75)) {\n        return (7.5625 * (k -= 2.25 / 2.75) * k) + 0.9375;\n      }\n\n      return (7.5625 * (k -= 2.625 / 2.75) * k) + 0.984375;\n    },\n    inout(k) {\n      return (k < 0.5)\n        ? mojs.easing.bounce.in(k * 2) * 0.5\n        : (mojs.easing.bounce.out((k * 2) - 1) * 0.5) + 0.5;\n    },\n  };\n};\n\nexport { addBasicEasing };\n\n\n\n// WEBPACK FOOTER //\n// ./src/easing/basic-easing.babel.js","import { SvgShape } from './svg-shape.babel.js';\n\n/* --------------------- */\n/* The `Custom` class  */\n/* --------------------- */\n\nconst Super = SvgShape.__mojsClass;\nconst Custom = Object.create(Super);\n\n/**\n * `getShape` - function to define a custom SVG shape markup.\n *              The custom shape expected to be inscribed into 100x100 rectangle.\n * @public\n * @returns {String} String that holds SVG markup of custom shape inscribed into 100x100 rectangle.\n */\nCustom.getShape = function() {\n  return '<ellipse cx=\"50\" cy=\"50\" rx=\"50\" ry=\"50\" />';\n};\n\n/**\n * `_initializeShape` - function to element for render.\n */\nCustom._initializeShape = function () {\n  this.root.innerHTML = this.getShape();\n};\n\n/**\n * `render` - function to element for render.\n */\nCustom.render = function (mainEl, support) {\n  // `styleKeys` are keys for visual representation props - `fill`, `stroke` etc\n  const { props, pipeObj } = support;\n  const { root, styleKeys } = pipeObj;\n  // draw visual stying\n  for (let i = 0; i < styleKeys.length; i++) {\n    const key = styleKeys[i];\n    const cacheName = `_${key}`;\n    const value = props[key];\n    if (support[cacheName] !== value) {\n      root.style[key] = value;\n    }\n    support[cacheName] = value;\n  }\n  // root transform calculation\n  const sizeX = (props.sizeX !== undefined) ? props.sizeX : props.size;\n  const sizeY = (props.sizeY !== undefined) ? props.sizeY : props.size;\n  // calculate scales\n  const scaleX = sizeX / 100;\n  const scaleY = sizeY / 100;\n\n  const maxScale = Math.max(scaleX,scaleY);\n  // calculate shift\n  const shiftX = (300 / 2) - (50 * scaleX);\n  const shiftY = (300 / 2) - (50 * scaleY);\n\n  const transform = `translate(${0}, ${0}) scale(${scaleX}, ${scaleY})`;\n  // make sure to set only if changed\n  if (support._transform !== transform) {\n    root.setAttribute('transform', transform);\n    support._transform = transform;\n  }\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Custom instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Custom);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Custom;\n\nexport { wrap as Custom };\n\n\n\n\n\n\n// class Custom extends Bit {\n//   /*\n//     Method to get shape perimeter length.\n//     @public\n//     @returns {Number} Default length string.\n//   */\n//   getLength () { return 100; }\n//   /*\n//     Method to draw the shape.\n//     Called on every frame.\n//     @private\n//     @overrides @ Bit\n//   */\n//   _draw () {\n//     var p     = this._props,\n//         state = this._state,\n//         radiusXChange = state[ 'radiusX' ] !== p.radiusX,\n//         radiusYChange = state[ 'radiusY' ] !== p.radiusY,\n//         radiusChange  = state[ 'radius' ] !== p.radius;\n\n//     // update transform only if one of radiuses changed\n//     if ( radiusXChange || radiusYChange || radiusChange ) {\n//       this.el.setAttribute( 'transform', this._getScale() );\n//       state[ 'radiusX' ] = p.radiusX;\n//       state[ 'radiusY' ] = p.radiusY;\n//       state[ 'radius' ]  = p.radius;\n//     }\n\n//     this._setAttrIfChanged( 'stroke-width', p['stroke-width'] / p.maxScale );\n\n//     super._draw();\n//   }\n\n//   /*\n//     Method to get scales for the shape.\n//     @private\n//     @mutates @props\n//   */\n//   _getScale () {\n//     var p = this._props,\n//         radiusX = ( p.radiusX ) ? p.radiusX : p.radius,\n//         radiusY = ( p.radiusY ) ? p.radiusY : p.radius;\n    \n//     p.scaleX   = (2*radiusX)/100;\n//     p.scaleY   = (2*radiusY)/100;\n//     p.maxScale = Math.max( p.scaleX, p.scaleY );\n\n//     p.shiftX = (p.width/2  - 50*p.scaleX);\n//     p.shiftY = (p.height/2 - 50*p.scaleY);\n\n//     var translate = `translate(${p.shiftX}, ${p.shiftY})`;\n//     return `${translate} scale(${ p.scaleX }, ${p.scaleY})`;\n//   }\n// }\n\n// export default Custom;\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/custom.babel.js","import { getRegexpUnit } from '../delta/get-regexp-unit.babel.js';\n\n/**\n * `parseStagger` - function to parse `stagger()` strings.\n *\n * @param {_} Property value.\n * @param {Number} Stagger index.\n * @returns {String, Any} Parsed stagger value or unattended value.\n */\nconst parseStagger = (value, index) => {\n  const type = typeof value;\n  // if not string return the value itself as it can not be a stagger string\n  if (type !== 'string') { return value; }\n  // if string test it on `stagger` sequence, if not present\n  // return the value as it is not a stagger string\n  if (!value.match(/^stagger\\(/)) { return value; }\n\n  // split the value `stagger([body])`\n  const body = value.split(/stagger\\(|\\)$/)[1].toLowerCase();\n  // split the body\n  const stagger = body.split(/([^(,\\s]+)(?=\\s*,|\\s*$)/gim);\n  // assume two values in the `stagger(20, 20)`\n  let base = stagger[1];\n  let step = stagger[3];\n  // if only one value provided in the `stagger(20)`\n  if (stagger.length <= 3) {\n    base = 0;\n    step = stagger[1];\n  }\n  // parse base\n  const baseValue = parseFloat(base);\n  const baseUnit = getRegexpUnit(base);\n  // parse step\n  const stepValue = parseFloat(step);\n  const stepUnit = getRegexpUnit(step);\n  // get result unit and result\n  const unit = (baseUnit !== undefined) ? baseUnit : stepUnit;\n  const result = baseValue + (index * stepValue);\n  // if unit is present - return the result with unit, otherwise return number\n  return (unit) ? `${result}${unit}` : result;\n};\n\nexport { parseStagger };\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/parse-stagger.babel.js","import { ClassProto } from './class-proto.babel.js';\n// tween related\nimport { Tween } from './tween/tween.babel.js';\nimport { tweenDefaults } from './tween/tween-defaults.babel.js';\nimport { Timeline } from './tween/timeline.babel.js';\nimport { tweener } from './tween/tweener.babel.js';\n// easing\nimport { easing } from './easing/easing.babel.js';\nimport { parseEasing } from './easing/parse-easing.babel.js';\n// temporary - not needed for base file\nimport { Delta } from './delta/delta.babel.js';\nimport { splitDelta } from './delta/split-delta.babel.js';\nimport { parseNumber } from './delta/parse-number.babel.js';\nimport { parseUnit } from './delta/parse-unit.babel.js';\nimport { parseColor } from './delta/parse-color.babel.js';\nimport { separateTweenOptions } from './delta/separate-tween-options.babel.js';\nimport { Tweenable } from './tween/tweenable.babel.js';\nimport { staggerProperty } from './helpers/stagger-property.babel.js';\nimport { parseStagger } from './helpers/parse-stagger.babel.js';\nimport { makeColorObject } from './helpers/make-color-object.babel.js';\n\nimport { SvgShape } from './shape/svg/svg-shape.babel.js';\nimport { Custom } from './shape/svg/custom.babel.js';\nimport { Circle } from './shape/svg/circle.babel.js';\n\nimport { getRadialPoint } from './helpers/get-radial-point.babel.js';\nimport { parseUnitValue } from './helpers/parse-unit-value.babel.js';\nimport { motionPathCache } from './delta/motion-path-cache.babel.js';\n\n/*\n  Browsers' support:\n    - rAF\n    - performance.now\n    - Map\n*/\n\n/*\n  TODO:\n    - add shapes\n    - `play` method context\n    - add custom shapes\n    - add spring easing\n    - add bezier easing\n    - add array deltas\n\n    - add rig renderers\n\n    - add springs\n    - add path/curve generators\n*/\n\nconst mojs = {\n  revision: '2.16.0',\n  Tween,\n  Timeline,\n  easing,\n  __helpers__: {\n    parseEasing,\n    ClassProto,\n    SvgShape,\n    tweenDefaults,\n    tweener,\n    // temporary\n    Delta,\n    splitDelta,\n    parseNumber,\n    parseUnit,\n    parseColor,\n    separateTweenOptions,\n    Tweenable,\n    staggerProperty,\n    parseStagger,\n    makeColorObject,\n    getRadialPoint,\n    parseUnitValue,\n    motionPathCache,\n    svg: {\n      Circle,\n      Custom,\n    },\n  },\n};\n\n/* Extensions */\n// `basic easing functions`\nimport { addBasicEasing } from './easing/basic-easing.babel.js'; // eslint-disable-line import/newline-after-import, import/first\naddBasicEasing(mojs);\n// Deltas\nimport { Deltas } from './delta/deltas.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Deltas = Deltas;\n// MotionPath\nimport { MotionPath } from './delta/motion-path.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.MotionPath = MotionPath;\n\n// stagger\nimport { stagger } from './stagger/stagger.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.stagger = stagger;\n// html\nimport { Html } from './html.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Html = Html;\n// surface\nimport { Surface } from './surface.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Surface = Surface;\n// shape\nimport { Shape } from './shape/shape.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Shape2 = Shape;\n// rig\nimport { Rig } from './rig/rig.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.Rig = Rig;\n\n// path generator\nimport { generatePath } from './helpers/generate-path.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.generatePath = generatePath;\n\n// burst generator\nimport { burstGenerator } from './helpers/burst-generator.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.burstGenerator = burstGenerator;\n\n// random integer generator\nimport { rand } from './helpers/rand.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.rand = rand;\n// random integer generator\nimport { randFloat } from './helpers/rand-float.babel.js'; // eslint-disable-line import/newline-after-import, import/first\nmojs.randFloat = randFloat;\n\nexport default mojs;\n\n\n// WEBPACK FOOTER //\n// ./src/mojs.babel.js","import { SvgShape } from './svg-shape.babel.js';\n\n/* --------------------- */\n/* The `Circle` class  */\n/* --------------------- */\n\nconst Super = SvgShape.__mojsClass;\nconst Circle = Object.create(Super);\n\nconst NS = 'http://www.w3.org/2000/svg';\n\n/**\n * `_initializeShape` - function to element for render.\n */\nCircle._initializeShape = function () {\n  this.shapeEl = document.createElementNS(NS, 'ellipse');\n\n  this.shapeEl.setAttribute('cx', 50);\n  this.shapeEl.setAttribute('cy', 50);\n  this.root.appendChild(this.shapeEl);\n};\n\n/**\n * `render` - function to element for render.\n */\nCircle.render = function (mainEl, support) {\n  // `styleKeys` are keys for visual representation props - `fill`, `stroke` etc\n  const { props, pipeObj } = support;\n  const { shapeEl, styleKeys } = pipeObj;\n\n  // draw visual stying\n  for (let i = 0; i < styleKeys.length; i++) {\n    const key = styleKeys[i];\n    const cacheName = `_${key}`;\n    const value = props[key];\n    if (support[cacheName] !== value) {\n      shapeEl.style[key] = value;\n    }\n    support[cacheName] = value;\n  }\n\n  // draw shape\n  const sizeX = (props.sizeX !== undefined) ? props.sizeX : props.size;\n  const sizeY = (props.sizeY !== undefined) ? props.sizeY : props.size;\n  const rx = `calc(${sizeX}/2)`;\n  const ry = `calc(${sizeY}/2)`;\n\n  if (rx !== support._rx) {\n    shapeEl.style.rx = rx;\n    support._rx = rx;\n  }\n\n  if (ry !== support._ry) {\n    // shapeEl.setAttribute('ry', ry);\n    shapeEl.style.ry = ry;\n    support._ry = ry;\n  }\n};\n\n/**\n * Imitate `class` with wrapper\n *\n * @param {Object} Options object.\n * @returns {Object} Circle instance.\n */\nconst wrap = (o) => {\n  const instance = Object.create(Circle);\n  instance.init(o);\n\n  return instance;\n};\n\nwrap.__mojsClass = Circle;\n\nexport { wrap as Circle };\n\n\n\n// WEBPACK FOOTER //\n// ./src/shape/svg/circle.babel.js"],"sourceRoot":""}